2020-03-11 01:51:15,694 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566910390>
2020-03-11 01:51:15,695 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:51:15,695 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,696 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:51:15,696 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:51:15,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:51:15,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,698 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:51:15,698 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:51:15,699 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:51:15,699 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,699 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:51:15,699 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:51:15,700 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:51:15,700 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:51:15,701 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:51:15,701 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:51:15,701 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566910390> checked out from pool
2020-03-11 01:51:15,702 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `pres_consignee`
2020-03-11 01:51:15,702 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,702 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:51:15,702 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `mid _prescriptions`
2020-03-11 01:51:15,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,703 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:51:15,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `mid_prescription_details`
2020-03-11 01:51:15,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,704 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:51:15,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `custom_addr`
2020-03-11 01:51:15,705 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,705 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:51:15,706 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:
CREATE TABLE pres_consignee (
	pres_num VARCHAR(50) NOT NULL COMMENT '医院处方号', 
	addr_id INTEGER NOT NULL COMMENT '地址id', 
	send_goods_time VARCHAR(25) COMMENT '送货时间', 
	is_write_mid INTEGER NOT NULL COMMENT '是否写入中间表 0 未处理 1 已处理', 
	PRIMARY KEY (pres_num)
)


2020-03-11 01:51:15,706 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,733 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:16672:COMMIT
2020-03-11 01:51:15,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:
CREATE TABLE `mid _prescriptions` (
	pres_num VARCHAR(50) NOT NULL COMMENT '处方单号', 
	pres_time VARCHAR(25) COMMENT '处方生成时间', 
	treat_card VARCHAR(50) COMMENT '诊疗卡号', 
	reg_num VARCHAR(50) COMMENT '挂单号', 
	provinces VARCHAR(10) COMMENT '省份', 
	city VARCHAR(10) COMMENT '城市', 
	zone VARCHAR(10) COMMENT '区', 
	addr_str VARCHAR(120) COMMENT '收货地址', 
	consignee VARCHAR(20) COMMENT '收货人', 
	con_tel VARCHAR(50) COMMENT '收货人电话', 
	send_goods_time VARCHAR(25) COMMENT '送货时间', 
	user_name VARCHAR(20) COMMENT '患者姓名', 
	age INTEGER COMMENT '患者年龄', 
	gender INTEGER COMMENT '患者性别', 
	tel VARCHAR(50) COMMENT '患者电话', 
	is_suffering INTEGER COMMENT '是否煎煮 取值范围：0 否，1 是', 
	amount INTEGER COMMENT '数量', 
	suffering_num INTEGER COMMENT '煎煮剂数', 
	ji_fried INTEGER COMMENT '几煎', 
	per_pack_num INTEGER COMMENT '每剂几包', 
	per_pack_dose INTEGER COMMENT '每包多少ml', 
	type INTEGER COMMENT '处方类型 0:中药，1:西药，2:膏方，3:丸剂，5:散剂，7:免煎颗粒', 
	is_within INTEGER COMMENT '服用方式 0 内服，1 外用', 
	other_pres_num VARCHAR(50) NOT NULL COMMENT '医院处方号', 
	special_instru VARCHAR(100) COMMENT '处方特殊说明 诊断信息', 
	bed_num VARCHAR(50) COMMENT '床位号', 
	hos_depart VARCHAR(50) COMMENT '医院科室', 
	hospital_num VARCHAR(50) COMMENT '住院号', 
	disease_code VARCHAR(50) COMMENT '病区号', 
	doctor VARCHAR(50) COMMENT '医生姓名', 
	prescript_remark VARCHAR(120) COMMENT '处方备注', 
	upload_status INTEGER COMMENT '上传状态(成功 -1,刚生成时为0,每失败一次+1)', 
	upload_time TIMESTAMP NULL COMMENT '上传时间', 
	order_id VARCHAR(36) NOT NULL COMMENT '康美订单id', 
	is_hos_addr INTEGER COMMENT '地址类型 0 未知,1送医院,2 送患者家里', 
	medication_methods VARCHAR(50) COMMENT '用药方法', 
	medication_instruction VARCHAR(50) COMMENT '用药指导', 
	source INTEGER COMMENT '0 门诊 1 住院', 
	PRIMARY KEY (pres_num)
)


2020-03-11 01:51:15,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,755 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:16672:COMMIT
2020-03-11 01:51:15,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:
CREATE TABLE mid_prescription_details (
	pres_num VARCHAR(36) NOT NULL COMMENT '处方单号', 
	goods_num VARCHAR(100) NOT NULL COMMENT '药材编号', 
	medicines VARCHAR(100) NOT NULL COMMENT '药品名', 
	dose VARCHAR(10) COMMENT '剂量', 
	unit VARCHAR(50) COMMENT '单位', 
	m_usage VARCHAR(100) COMMENT '药品特殊煎法', 
	goods_norms VARCHAR(100) COMMENT '药品规格', 
	goods_orgin VARCHAR(100) COMMENT '药品产地', 
	remark VARCHAR(100) COMMENT '备注', 
	dose_that VARCHAR(100) COMMENT '药品注意事项说明', 
	unit_price FLOAT DEFAULT '0.00' COMMENT '医院药品销售单价', 
	`MedPerDos` VARCHAR(20) COMMENT '用量(剂量)eg:2片/次(每次两片)', 
	`MedPerDay` VARCHAR(20) COMMENT '执行频率(频次)（eg:一日3次）', 
	PRIMARY KEY (pres_num)
)


2020-03-11 01:51:15,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,778 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:16672:COMMIT
2020-03-11 01:51:15,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:
CREATE TABLE custom_addr (
	addr_id INTEGER NOT NULL COMMENT '地址id' AUTO_INCREMENT, 
	custom_num VARCHAR(50) NOT NULL COMMENT '患者id,标识唯一患者', 
	consignee VARCHAR(30) COMMENT '收货人', 
	con_tel VARCHAR(50) COMMENT '收货人电话', 
	province VARCHAR(10) COMMENT '省份', 
	city VARCHAR(10) COMMENT '城市', 
	zone VARCHAR(10) COMMENT '区县', 
	addr_detail VARCHAR(50) NOT NULL COMMENT '详细地址', 
	is_hos_addr INTEGER COMMENT '地址类型 0 未知,1送医院,2 送患者家里', 
	auto_state INTEGER COMMENT '是否默认地址', 
	PRIMARY KEY (addr_id)
)


2020-03-11 01:51:15,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,799 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:16672:COMMIT
2020-03-11 01:51:15,799 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566910390> being returned to pool
2020-03-11 01:51:15,799 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566910390> rollback-on-return
2020-03-11 01:51:15,801 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669A57F0>
2020-03-11 01:51:15,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:51:15,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,803 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:51:15,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:51:15,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:51:15,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,805 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:51:15,805 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:51:15,806 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:51:15,806 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,806 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:51:15,806 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('addr_test',)
2020-03-11 01:51:15,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:51:15,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:51:15,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:51:15,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:51:15,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669A57F0> checked out from pool
2020-03-11 01:51:15,809 root:INFO:models:mysql_connect:MainProcess:16672:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 01:51:15,809 root:INFO:models:mysql_connect:MainProcess:16672:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 01:51:15,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669A57F0> being returned to pool
2020-03-11 01:51:15,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669A57F0> rollback-on-return
2020-03-11 01:51:15,815 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C3208>
2020-03-11 01:51:15,816 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:51:15,816 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,817 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:51:15,817 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:51:15,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:51:15,818 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,819 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:51:15,819 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:51:15,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:51:15,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,820 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:51:15,820 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:51:15,821 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:51:15,821 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:51:15,822 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:51:15,822 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:51:15,822 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C3208> checked out from pool
2020-03-11 01:51:15,822 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:51:15,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 01:51:15,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'custom_num_1': '5550008088'}
2020-03-11 01:51:15,825 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 01:51:15,825 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C3208> being returned to pool
2020-03-11 01:51:15,826 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C3208> rollback-on-return, via agent
2020-03-11 01:51:15,826 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:51:15,826 root:INFO:views:entry_addr:MainProcess:16672:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': []}
2020-03-11 01:51:15,828 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A16A58>
2020-03-11 01:51:15,828 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:51:15,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,830 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:51:15,830 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:51:15,831 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:51:15,831 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,832 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:51:15,832 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:51:15,832 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:51:15,833 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:51:15,833 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:51:15,833 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:51:15,834 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:51:15,834 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:51:15,834 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:51:15,835 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:51:15,835 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A16A58> checked out from pool
2020-03-11 01:51:15,835 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:51:15,836 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 01:51:15,836 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 01:51:15,837 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 01:51:15,837 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A16A58> being returned to pool
2020-03-11 01:51:15,837 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A16A58> rollback-on-return, via agent
2020-03-11 01:51:15,837 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:51:15,838 root:INFO:views:entry_addr:MainProcess:16672:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [], 'pres_addr_info': []}
2020-03-11 01:52:10,488 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566AD9278>
2020-03-11 01:52:10,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:10,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:10,489 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:10,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:10,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:10,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:10,491 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:10,491 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:10,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:10,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:10,492 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:10,492 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:10,493 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:10,493 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:10,493 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:10,493 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:10,494 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566AD9278> checked out from pool
2020-03-11 01:52:10,494 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:52:10,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 01:52:10,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'custom_num_1': '5550008088'}
2020-03-11 01:52:10,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 01:52:10,496 root:INFO:models:save_custom_addr:MainProcess:16672:开始连接数据库保存地址信息
2020-03-11 01:52:10,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 01:52:10,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'custom_num': '5550008088', 'consignee': '马大奔', 'con_tel': '18687854124', 'province': '云南省', 'city': '昆明市', 'zone': '五华区', 'addr_detail': '万科云子6栋203', 'is_hos_addr': '2', 'auto_state': 0}
2020-03-11 01:52:10,508 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:16672:COMMIT
2020-03-11 01:52:10,510 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566AD9278> being returned to pool
2020-03-11 01:52:10,510 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566AD9278> rollback-on-return
2020-03-11 01:52:10,510 root:INFO:models:save_custom_addr:MainProcess:16672:地址信息保存成功！
2020-03-11 01:52:10,511 root:INFO:views:save_addr:MainProcess:16672:{'status': 'success'}
2020-03-11 01:52:14,485 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C34E0>
2020-03-11 01:52:14,485 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:14,485 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,487 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:14,487 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:14,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:14,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:14,488 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:14,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:14,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,489 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:14,489 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:14,490 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:14,490 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:14,490 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:14,490 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:14,491 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C34E0> checked out from pool
2020-03-11 01:52:14,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `pres_consignee`
2020-03-11 01:52:14,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,493 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:52:14,493 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 01:52:14,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `mid _prescriptions`
2020-03-11 01:52:14,493 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:52:14,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 01:52:14,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `mid_prescription_details`
2020-03-11 01:52:14,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,499 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:52:14,499 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 01:52:14,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `custom_addr`
2020-03-11 01:52:14,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,501 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:52:14,501 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 01:52:14,501 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C34E0> being returned to pool
2020-03-11 01:52:14,501 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C34E0> rollback-on-return
2020-03-11 01:52:14,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A2C0F0>
2020-03-11 01:52:14,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:14,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,505 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:14,505 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:14,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:14,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,506 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:14,506 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:14,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:14,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:14,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('addr_test',)
2020-03-11 01:52:14,508 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:14,508 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:14,509 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:14,509 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:14,509 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A2C0F0> checked out from pool
2020-03-11 01:52:14,509 root:INFO:models:mysql_connect:MainProcess:16672:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 01:52:14,510 root:INFO:models:mysql_connect:MainProcess:16672:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 01:52:14,510 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A2C0F0> being returned to pool
2020-03-11 01:52:14,510 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A2C0F0> rollback-on-return
2020-03-11 01:52:14,513 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566AAB198>
2020-03-11 01:52:14,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:14,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,515 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:14,515 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:14,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:14,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,516 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:14,516 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:14,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:14,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,517 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:14,517 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:14,518 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:14,518 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:14,519 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:14,519 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:14,519 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566AAB198> checked out from pool
2020-03-11 01:52:14,519 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:52:14,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 01:52:14,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'custom_num_1': '5550008088'}
2020-03-11 01:52:14,521 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 01:52:14,521 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 0)
2020-03-11 01:52:14,522 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566AAB198> being returned to pool
2020-03-11 01:52:14,522 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566AAB198> rollback-on-return, via agent
2020-03-11 01:52:14,522 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:52:14,522 root:INFO:views:entry_addr:MainProcess:16672:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001F566A2C240>]}
2020-03-11 01:52:14,524 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A2CF28>
2020-03-11 01:52:14,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:14,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,525 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:14,526 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:14,526 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:14,526 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,527 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:14,527 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:14,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:14,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:14,528 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:14,528 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:14,529 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:14,530 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:14,531 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:14,531 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:14,531 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A2CF28> checked out from pool
2020-03-11 01:52:14,531 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:52:14,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 01:52:14,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 01:52:14,533 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 01:52:14,533 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A2CF28> being returned to pool
2020-03-11 01:52:14,533 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A2CF28> rollback-on-return, via agent
2020-03-11 01:52:14,533 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:52:14,534 root:INFO:views:entry_addr:MainProcess:16672:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001F566A2C240>], 'pres_addr_info': []}
2020-03-11 01:52:34,501 root:INFO:models:save_pres_addr:MainProcess:16672:开始连接数据库关联处方和地址
2020-03-11 01:52:34,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665BBF60>
2020-03-11 01:52:34,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:34,503 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:34,504 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:34,505 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:34,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:34,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:34,506 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:34,506 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:34,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:34,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:34,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:34,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:34,508 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:34,508 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:34,508 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:34,508 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:34,508 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665BBF60> checked out from pool
2020-03-11 01:52:34,509 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:52:34,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 01:52:34,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'pres_num': 'MZ_201912203096', 'addr_id': '1', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 01:52:34,521 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:16672:COMMIT
2020-03-11 01:52:34,523 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665BBF60> being returned to pool
2020-03-11 01:52:34,523 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665BBF60> rollback-on-return
2020-03-11 01:52:34,523 root:INFO:models:save_pres_addr:MainProcess:16672:处方地址关联成功！
2020-03-11 01:52:34,524 root:INFO:models:update_addr_state:MainProcess:16672:更新地址状态：==>
2020-03-11 01:52:34,526 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665BB9E8>
2020-03-11 01:52:34,527 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:34,527 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:34,529 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:34,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:34,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:34,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:34,531 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:34,531 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:34,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:34,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:34,532 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:34,532 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:34,533 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:34,533 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:34,534 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:34,534 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:34,534 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665BB9E8> checked out from pool
2020-03-11 01:52:34,534 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:52:34,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:UPDATE custom_addr SET auto_state=%(auto_state)s WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 01:52:34,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'auto_state': 1, 'addr_id_1': '1'}
2020-03-11 01:52:34,536 root:INFO:models:update_addr_state:MainProcess:16672:==> Parameters:1
2020-03-11 01:52:34,536 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:16672:COMMIT
2020-03-11 01:52:34,537 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665BB9E8> being returned to pool
2020-03-11 01:52:34,537 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665BB9E8> rollback-on-return
2020-03-11 01:52:34,537 root:INFO:models:update_addr_state:MainProcess:16672:地址状态更新成功！
2020-03-11 01:52:36,608 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A5CB00>
2020-03-11 01:52:36,608 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:36,608 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,610 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:36,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:36,611 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:36,611 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,612 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:36,612 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:36,613 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:36,613 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,613 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:36,614 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:36,614 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:36,614 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:36,615 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:36,615 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:36,615 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A5CB00> checked out from pool
2020-03-11 01:52:36,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `pres_consignee`
2020-03-11 01:52:36,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,617 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:52:36,617 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 01:52:36,617 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `mid _prescriptions`
2020-03-11 01:52:36,617 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,619 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:52:36,619 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 01:52:36,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `mid_prescription_details`
2020-03-11 01:52:36,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,620 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:52:36,621 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 01:52:36,621 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `custom_addr`
2020-03-11 01:52:36,621 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,622 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:52:36,622 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 01:52:36,622 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A5CB00> being returned to pool
2020-03-11 01:52:36,622 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566A5CB00> rollback-on-return
2020-03-11 01:52:36,625 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665E0588>
2020-03-11 01:52:36,625 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:36,625 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,627 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:36,627 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:36,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:36,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,629 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:36,629 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:36,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:36,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,630 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:36,630 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('addr_test',)
2020-03-11 01:52:36,631 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:36,632 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:36,632 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:36,633 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:36,633 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665E0588> checked out from pool
2020-03-11 01:52:36,633 root:INFO:models:mysql_connect:MainProcess:16672:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 01:52:36,634 root:INFO:models:mysql_connect:MainProcess:16672:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 01:52:36,634 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665E0588> being returned to pool
2020-03-11 01:52:36,634 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665E0588> rollback-on-return
2020-03-11 01:52:36,636 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665E0FD0>
2020-03-11 01:52:36,637 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:36,637 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,638 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:36,638 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:36,638 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:36,638 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,639 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:36,639 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:36,640 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:36,640 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,640 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:36,640 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:36,641 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:36,641 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:36,642 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:36,642 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:36,642 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665E0FD0> checked out from pool
2020-03-11 01:52:36,642 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:52:36,643 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 01:52:36,643 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'custom_num_1': '5550008088'}
2020-03-11 01:52:36,644 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 01:52:36,645 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 01:52:36,645 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665E0FD0> being returned to pool
2020-03-11 01:52:36,645 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5665E0FD0> rollback-on-return, via agent
2020-03-11 01:52:36,645 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:52:36,645 root:INFO:views:entry_addr:MainProcess:16672:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001F5665D67F0>]}
2020-03-11 01:52:36,648 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C3940>
2020-03-11 01:52:36,649 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:52:36,649 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,650 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:36,650 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:52:36,650 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:52:36,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,652 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:52:36,652 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:52:36,652 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:52:36,652 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:52:36,653 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:52:36,653 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:52:36,654 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:36,654 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:36,654 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:52:36,654 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:52:36,655 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C3940> checked out from pool
2020-03-11 01:52:36,655 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:52:36,655 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 01:52:36,655 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 01:52:36,656 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 01:52:36,657 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 01:52:36,657 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C3940> being returned to pool
2020-03-11 01:52:36,657 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F5669C3940> rollback-on-return, via agent
2020-03-11 01:52:36,657 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:52:36,657 root:INFO:views:entry_addr:MainProcess:16672:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001F5665D67F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001F566AF3400>]}
2020-03-11 01:53:03,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566671048>
2020-03-11 01:53:03,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:53:03,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,478 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:53:03,478 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:53:03,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:53:03,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,481 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:53:03,481 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:53:03,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:53:03,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,481 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:53:03,481 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:53:03,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:53:03,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:53:03,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:53:03,483 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:53:03,483 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566671048> checked out from pool
2020-03-11 01:53:03,483 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `pres_consignee`
2020-03-11 01:53:03,483 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,484 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:53:03,485 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 01:53:03,485 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `mid _prescriptions`
2020-03-11 01:53:03,485 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,487 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:53:03,487 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 01:53:03,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `mid_prescription_details`
2020-03-11 01:53:03,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,489 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:53:03,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 01:53:03,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:DESCRIBE `custom_addr`
2020-03-11 01:53:03,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,492 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 01:53:03,492 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 01:53:03,492 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566671048> being returned to pool
2020-03-11 01:53:03,492 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566671048> rollback-on-return
2020-03-11 01:53:03,494 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F566671358>
2020-03-11 01:53:03,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:53:03,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:53:03,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:53:03,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:53:03,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:53:03,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:53:03,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:53:03,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,497 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:53:03,497 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('addr_test',)
2020-03-11 01:53:03,498 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:53:03,498 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:53:03,499 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:53:03,499 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:53:03,499 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566671358> checked out from pool
2020-03-11 01:53:03,499 root:INFO:models:mysql_connect:MainProcess:16672:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 01:53:03,500 root:INFO:models:mysql_connect:MainProcess:16672:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 01:53:03,500 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566671358> being returned to pool
2020-03-11 01:53:03,500 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F566671358> rollback-on-return
2020-03-11 01:53:03,504 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F56660FE80>
2020-03-11 01:53:03,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:53:03,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:53:03,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:53:03,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:53:03,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,508 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:53:03,508 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:53:03,508 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:53:03,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,509 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:53:03,509 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:53:03,510 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:53:03,510 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:53:03,510 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:53:03,510 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:53:03,511 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F56660FE80> checked out from pool
2020-03-11 01:53:03,511 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:53:03,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 01:53:03,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'custom_num_1': '5550008088'}
2020-03-11 01:53:03,513 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 01:53:03,513 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 01:53:03,513 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F56660FE80> being returned to pool
2020-03-11 01:53:03,513 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F56660FE80> rollback-on-return, via agent
2020-03-11 01:53:03,513 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:53:03,514 root:INFO:views:entry_addr:MainProcess:16672:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001F56660F080>]}
2020-03-11 01:53:03,516 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16672:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001F56660F240>
2020-03-11 01:53:03,516 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 01:53:03,516 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,517 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:53:03,518 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 01:53:03,518 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 01:53:03,518 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,519 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('Variable_name', 'Value')
2020-03-11 01:53:03,519 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('lower_case_table_names', '1')
2020-03-11 01:53:03,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT DATABASE()
2020-03-11 01:53:03,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{}
2020-03-11 01:53:03,520 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('DATABASE()',)
2020-03-11 01:53:03,520 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('zhyf_host',)
2020-03-11 01:53:03,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 01:53:03,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:53:03,522 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 01:53:03,522 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16672:{}
2020-03-11 01:53:03,522 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F56660F240> checked out from pool
2020-03-11 01:53:03,522 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16672:BEGIN (implicit)
2020-03-11 01:53:03,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 01:53:03,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16672:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 01:53:03,524 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16672:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 01:53:03,524 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16672:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 01:53:03,524 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F56660F240> being returned to pool
2020-03-11 01:53:03,524 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16672:Connection <mysql.connector.connection.MySQLConnection object at 0x000001F56660F240> rollback-on-return, via agent
2020-03-11 01:53:03,524 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16672:ROLLBACK
2020-03-11 01:53:03,524 root:INFO:views:entry_addr:MainProcess:16672:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001F56660F080>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001F5665E07B8>]}
2020-03-11 01:55:37,859 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:16672:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 01:55:37,860 asyncio:DEBUG:selector_events:__init__:MainProcess:16672:Using selector: SelectSelector
2020-03-11 02:20:17,393 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD60F0>
2020-03-11 02:20:17,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:17,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,395 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:17,395 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:17,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:17,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,397 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:17,397 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:17,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:17,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:17,398 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:17,398 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:17,398 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:17,399 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:17,399 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:17,399 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD60F0> checked out from pool
2020-03-11 02:20:17,400 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:20:17,400 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,401 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:17,401 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:20:17,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:20:17,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,403 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:17,403 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:20:17,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:20:17,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,404 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:17,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:20:17,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:20:17,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,406 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:17,406 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:20:17,406 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD60F0> being returned to pool
2020-03-11 02:20:17,406 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD60F0> rollback-on-return
2020-03-11 02:20:17,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6BA8>
2020-03-11 02:20:17,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:17,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,411 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:17,411 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:17,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:17,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,413 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:17,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:17,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:17,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:17,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:20:17,415 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:17,415 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:17,415 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:17,415 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:17,416 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6BA8> checked out from pool
2020-03-11 02:20:17,416 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:20:17,417 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:20:17,417 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6BA8> being returned to pool
2020-03-11 02:20:17,417 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6BA8> rollback-on-return
2020-03-11 02:20:17,423 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D110B8>
2020-03-11 02:20:17,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:17,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,424 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:17,424 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:17,425 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:17,425 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,425 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:17,425 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:17,426 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:17,426 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,427 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:17,427 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:17,428 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:17,428 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:17,429 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:17,429 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:17,429 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D110B8> checked out from pool
2020-03-11 02:20:17,429 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:20:17,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:20:17,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:20:17,431 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:20:17,431 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:20:17,431 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D110B8> being returned to pool
2020-03-11 02:20:17,431 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D110B8> rollback-on-return, via agent
2020-03-11 02:20:17,431 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:20:17,431 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926D425C0>]}
2020-03-11 02:20:17,434 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42978>
2020-03-11 02:20:17,435 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:17,435 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,436 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:17,436 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:17,436 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:17,436 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,437 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:17,437 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:17,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:17,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:17,439 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:17,439 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:17,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:17,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:17,440 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:17,440 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:17,441 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42978> checked out from pool
2020-03-11 02:20:17,441 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:20:17,441 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:20:17,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:20:17,443 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:20:17,443 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:20:17,443 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42978> being returned to pool
2020-03-11 02:20:17,443 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42978> rollback-on-return, via agent
2020-03-11 02:20:17,443 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:20:17,443 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926D425C0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926D552B0>]}
2020-03-11 02:20:30,400 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986D68>
2020-03-11 02:20:30,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:30,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,403 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:30,403 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:30,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:30,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,406 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:30,406 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:30,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:30,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,407 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:30,407 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:30,408 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:30,408 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:30,408 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:30,408 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:30,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986D68> checked out from pool
2020-03-11 02:20:30,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:20:30,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,411 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:30,411 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:20:30,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:20:30,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:30,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:20:30,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:20:30,415 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,416 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:30,417 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:20:30,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:20:30,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,418 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:30,418 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:20:30,418 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986D68> being returned to pool
2020-03-11 02:20:30,418 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986D68> rollback-on-return
2020-03-11 02:20:30,421 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192697DA90>
2020-03-11 02:20:30,421 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:30,421 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,422 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:30,422 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:30,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:30,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,424 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:30,424 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:30,424 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:30,425 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,425 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:30,425 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:20:30,426 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:30,426 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:30,426 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:30,426 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:30,427 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697DA90> checked out from pool
2020-03-11 02:20:30,427 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:20:30,427 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:20:30,427 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697DA90> being returned to pool
2020-03-11 02:20:30,427 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697DA90> rollback-on-return
2020-03-11 02:20:30,430 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990CF8>
2020-03-11 02:20:30,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:30,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,432 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:30,432 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:30,432 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:30,432 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,434 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:30,434 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:30,434 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:30,435 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,435 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:30,435 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:30,436 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:30,436 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:30,437 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:30,438 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:30,438 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990CF8> checked out from pool
2020-03-11 02:20:30,439 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:20:30,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:20:30,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:20:30,441 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:20:30,441 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:20:30,441 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990CF8> being returned to pool
2020-03-11 02:20:30,441 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990CF8> rollback-on-return, via agent
2020-03-11 02:20:30,441 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:20:30,441 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926986A90>]}
2020-03-11 02:20:30,444 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986BE0>
2020-03-11 02:20:30,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:30,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,446 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:30,446 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:30,447 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:30,447 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,448 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:30,448 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:30,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:30,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:30,449 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:30,449 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:30,450 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:30,450 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:30,451 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:30,451 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:30,451 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986BE0> checked out from pool
2020-03-11 02:20:30,452 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:20:30,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:20:30,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:20:30,454 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:20:30,454 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:20:30,454 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986BE0> being returned to pool
2020-03-11 02:20:30,454 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986BE0> rollback-on-return, via agent
2020-03-11 02:20:30,454 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:20:30,454 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926986A90>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269D2E48>]}
2020-03-11 02:20:49,042 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CECC0>
2020-03-11 02:20:49,043 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:49,043 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:49,044 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:49,044 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:49,044 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:49,044 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:49,045 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:49,045 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:49,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:49,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:49,046 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:49,046 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:49,047 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:49,047 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:49,048 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:49,048 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:49,048 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CECC0> checked out from pool
2020-03-11 02:20:49,048 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:20:49,049 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:20:49,049 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:20:49,049 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:20:49,049 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:20:49,050 root:INFO:models:save_custom_addr:MainProcess:9692:开始连接数据库保存地址信息
2020-03-11 02:20:49,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 02:20:49,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num': '5550008088', 'consignee': '马彬', 'con_tel': '18687854124', 'province': '云南省', 'city': '市(城市)', 'zone': '区(县)', 'addr_detail': '', 'is_hos_addr': '2', 'auto_state': 0}
2020-03-11 02:20:49,052 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:9692:COMMIT
2020-03-11 02:20:49,053 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CECC0> being returned to pool
2020-03-11 02:20:49,054 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CECC0> rollback-on-return
2020-03-11 02:20:49,054 root:INFO:models:save_custom_addr:MainProcess:9692:地址信息保存成功！
2020-03-11 02:20:49,054 root:INFO:views:save_addr:MainProcess:9692:{'status': 'success'}
2020-03-11 02:20:57,236 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A16D68>
2020-03-11 02:20:57,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:57,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,238 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:57,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:57,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:57,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,242 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:57,242 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:57,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:57,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:57,243 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:57,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:57,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:57,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:57,246 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:57,246 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A16D68> checked out from pool
2020-03-11 02:20:57,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:20:57,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,249 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:57,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:20:57,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:20:57,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,252 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:57,252 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:20:57,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:20:57,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,255 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:57,255 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:20:57,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:20:57,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,258 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:20:57,258 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:20:57,258 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A16D68> being returned to pool
2020-03-11 02:20:57,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A16D68> rollback-on-return
2020-03-11 02:20:57,261 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8DC88>
2020-03-11 02:20:57,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:57,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,263 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:57,263 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:57,264 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:57,264 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,265 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:57,265 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:57,265 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:57,266 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,266 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:57,266 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:20:57,267 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:57,267 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:57,268 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:57,268 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:57,268 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8DC88> checked out from pool
2020-03-11 02:20:57,268 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:20:57,269 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:20:57,269 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8DC88> being returned to pool
2020-03-11 02:20:57,269 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8DC88> rollback-on-return
2020-03-11 02:20:57,274 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E65FD0>
2020-03-11 02:20:57,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:57,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,277 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:57,277 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:57,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:57,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,278 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:57,278 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:57,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:57,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,279 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:57,279 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:57,280 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:57,280 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:57,280 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:57,280 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:57,281 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E65FD0> checked out from pool
2020-03-11 02:20:57,281 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:20:57,281 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:20:57,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:20:57,283 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:20:57,284 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:20:57,284 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:20:57,284 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E65FD0> being returned to pool
2020-03-11 02:20:57,284 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E65FD0> rollback-on-return, via agent
2020-03-11 02:20:57,284 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:20:57,284 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EB99E8>, <hospital_test.models.Address object at 0x0000021926EB9A20>]}
2020-03-11 02:20:57,288 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9D30>
2020-03-11 02:20:57,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:20:57,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,292 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:57,292 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:20:57,292 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:20:57,293 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,294 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:20:57,294 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:20:57,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:20:57,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:20:57,295 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:20:57,295 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:20:57,296 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:57,296 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:57,297 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:20:57,297 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:20:57,297 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9D30> checked out from pool
2020-03-11 02:20:57,297 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:20:57,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:20:57,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:20:57,298 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:20:57,298 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:20:57,298 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9D30> being returned to pool
2020-03-11 02:20:57,298 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9D30> rollback-on-return, via agent
2020-03-11 02:20:57,299 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:20:57,299 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EB99E8>, <hospital_test.models.Address object at 0x0000021926EB9A20>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926E855F8>]}
2020-03-11 02:21:33,342 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CEF28>
2020-03-11 02:21:33,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:21:33,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:33,343 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:33,343 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:21:33,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:21:33,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:33,345 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:33,345 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:21:33,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:21:33,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:33,346 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:21:33,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:21:33,347 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:33,347 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:33,348 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:33,348 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:33,348 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CEF28> checked out from pool
2020-03-11 02:21:33,348 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:21:33,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:21:33,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:21:33,350 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:21:33,351 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:21:33,351 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:21:33,351 root:INFO:models:save_custom_addr:MainProcess:9692:开始连接数据库保存地址信息
2020-03-11 02:21:33,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 02:21:33,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num': '5550008088', 'consignee': '马彬', 'con_tel': '18687854124', 'province': '云南省', 'city': '市(城市)', 'zone': '区(县)', 'addr_detail': '', 'is_hos_addr': '2', 'auto_state': 0}
2020-03-11 02:21:33,353 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:9692:COMMIT
2020-03-11 02:21:33,354 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CEF28> being returned to pool
2020-03-11 02:21:33,354 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CEF28> rollback-on-return
2020-03-11 02:21:33,354 root:INFO:models:save_custom_addr:MainProcess:9692:地址信息保存成功！
2020-03-11 02:21:33,355 root:INFO:views:save_addr:MainProcess:9692:{'status': 'success'}
2020-03-11 02:21:43,073 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A37710>
2020-03-11 02:21:43,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:21:43,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:43,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:21:43,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:21:43,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:43,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:21:43,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:21:43,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,077 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:21:43,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:21:43,078 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:43,078 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:43,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:43,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:43,079 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A37710> checked out from pool
2020-03-11 02:21:43,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:21:43,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,082 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:21:43,083 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:21:43,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:21:43,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,086 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:21:43,086 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:21:43,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:21:43,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:21:43,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:21:43,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:21:43,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:21:43,090 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:21:43,090 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A37710> being returned to pool
2020-03-11 02:21:43,090 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A37710> rollback-on-return
2020-03-11 02:21:43,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D6B0B8>
2020-03-11 02:21:43,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:21:43,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,094 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:43,094 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:21:43,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:21:43,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,096 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:43,096 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:21:43,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:21:43,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,097 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:21:43,097 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:21:43,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:43,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:43,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:43,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:43,100 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D6B0B8> checked out from pool
2020-03-11 02:21:43,101 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:21:43,101 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:21:43,101 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D6B0B8> being returned to pool
2020-03-11 02:21:43,101 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D6B0B8> rollback-on-return
2020-03-11 02:21:43,104 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9160>
2020-03-11 02:21:43,104 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:21:43,104 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,105 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:43,105 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:21:43,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:21:43,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:43,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:21:43,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:21:43,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,108 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:21:43,108 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:21:43,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:43,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:43,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:43,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:43,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9160> checked out from pool
2020-03-11 02:21:43,110 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:21:43,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:21:43,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:21:43,111 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:21:43,111 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:21:43,111 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:21:43,111 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:21:43,112 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9160> being returned to pool
2020-03-11 02:21:43,112 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9160> rollback-on-return, via agent
2020-03-11 02:21:43,112 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:21:43,112 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926A37A20>, <hospital_test.models.Address object at 0x0000021926E6EBA8>, <hospital_test.models.Address object at 0x0000021926E6EB70>]}
2020-03-11 02:21:43,116 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6E240>
2020-03-11 02:21:43,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:21:43,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,118 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:43,118 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:21:43,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:21:43,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,120 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:21:43,120 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:21:43,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:21:43,121 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:21:43,121 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:21:43,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:21:43,122 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:43,122 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:43,122 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:21:43,122 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:21:43,123 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6E240> checked out from pool
2020-03-11 02:21:43,123 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:21:43,123 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:21:43,123 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:21:43,125 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:21:43,125 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:21:43,125 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6E240> being returned to pool
2020-03-11 02:21:43,125 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6E240> rollback-on-return, via agent
2020-03-11 02:21:43,125 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:21:43,125 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926A37A20>, <hospital_test.models.Address object at 0x0000021926E6EBA8>, <hospital_test.models.Address object at 0x0000021926E6EB70>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926E6E978>]}
2020-03-11 02:22:20,678 root:INFO:models:save_pres_addr:MainProcess:9692:开始连接数据库关联处方和地址
2020-03-11 02:22:20,689 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE940>
2020-03-11 02:22:20,690 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:22:20,690 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:20,692 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:20,692 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:22:20,692 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:22:20,692 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:20,693 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:20,693 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:22:20,694 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:22:20,694 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:20,694 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:22:20,694 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:22:20,695 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:20,695 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:20,696 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:20,696 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:20,696 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE940> checked out from pool
2020-03-11 02:22:20,696 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:22:20,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 02:22:20,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num': 'MZ_201912203096', 'addr_id': '1', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 02:22:20,698 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:22:20,699 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE940> being returned to pool
2020-03-11 02:22:20,699 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE940> rollback-on-return
2020-03-11 02:22:20,699 root:INFO:models:save_pres_addr:MainProcess:9692:处方关联失败！
2020-03-11 02:22:20,699 root:INFO:models:save_pres_addr:MainProcess:9692:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201912203096' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201912203096', 'addr_id': '1', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 02:22:57,029 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980278>
2020-03-11 02:22:57,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:22:57,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,031 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:57,031 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:22:57,031 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:22:57,031 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,034 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:57,034 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:22:57,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:22:57,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,035 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:22:57,035 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:22:57,036 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:57,036 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:57,037 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:57,037 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:57,037 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980278> checked out from pool
2020-03-11 02:22:57,038 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:22:57,038 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,040 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:22:57,040 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:22:57,041 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:22:57,041 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,043 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:22:57,043 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:22:57,044 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:22:57,044 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,045 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:22:57,045 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:22:57,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:22:57,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,048 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:22:57,048 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:22:57,048 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980278> being returned to pool
2020-03-11 02:22:57,048 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980278> rollback-on-return
2020-03-11 02:22:57,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995240>
2020-03-11 02:22:57,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:22:57,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,072 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:57,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:22:57,073 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:22:57,073 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:57,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:22:57,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:22:57,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:22:57,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:22:57,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:57,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:57,078 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:57,078 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:57,078 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995240> checked out from pool
2020-03-11 02:22:57,079 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:22:57,079 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:22:57,079 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995240> being returned to pool
2020-03-11 02:22:57,079 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995240> rollback-on-return
2020-03-11 02:22:57,082 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2278>
2020-03-11 02:22:57,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:22:57,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,083 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:57,083 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:22:57,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:22:57,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,085 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:57,085 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:22:57,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:22:57,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,086 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:22:57,086 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:22:57,088 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:57,088 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:57,088 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:57,088 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:57,089 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2278> checked out from pool
2020-03-11 02:22:57,089 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:22:57,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:22:57,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:22:57,091 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:22:57,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:22:57,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:22:57,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:22:57,091 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2278> being returned to pool
2020-03-11 02:22:57,091 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2278> rollback-on-return, via agent
2020-03-11 02:22:57,092 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:22:57,092 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002192698CDA0>, <hospital_test.models.Address object at 0x000002192698CC88>, <hospital_test.models.Address object at 0x00000219269D2128>]}
2020-03-11 02:22:57,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995CF8>
2020-03-11 02:22:57,094 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:22:57,094 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,095 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:57,096 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:22:57,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:22:57,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,097 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:22:57,097 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:22:57,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:22:57,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:22:57,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:22:57,098 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:22:57,098 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:57,098 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:57,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:22:57,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:22:57,099 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995CF8> checked out from pool
2020-03-11 02:22:57,099 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:22:57,100 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:22:57,100 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:22:57,100 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:22:57,100 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:22:57,101 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995CF8> being returned to pool
2020-03-11 02:22:57,101 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995CF8> rollback-on-return, via agent
2020-03-11 02:22:57,101 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:22:57,101 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002192698CDA0>, <hospital_test.models.Address object at 0x000002192698CC88>, <hospital_test.models.Address object at 0x00000219269D2128>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926997390>]}
2020-03-11 02:23:01,763 root:INFO:models:save_pres_addr:MainProcess:9692:开始连接数据库关联处方和地址
2020-03-11 02:23:01,766 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980048>
2020-03-11 02:23:01,766 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:01,766 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:01,768 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:01,768 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:01,768 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:01,768 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:01,769 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:01,770 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:01,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:01,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:01,771 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:01,771 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:23:01,771 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:01,771 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:01,772 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:01,772 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:01,772 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980048> checked out from pool
2020-03-11 02:23:01,772 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:23:01,773 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 02:23:01,773 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num': 'MZ_201912203096', 'addr_id': '2', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 02:23:01,773 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:23:01,773 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980048> being returned to pool
2020-03-11 02:23:01,773 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980048> rollback-on-return
2020-03-11 02:23:01,773 root:INFO:models:save_pres_addr:MainProcess:9692:处方关联失败！
2020-03-11 02:23:01,773 root:INFO:models:save_pres_addr:MainProcess:9692:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201912203096' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201912203096', 'addr_id': '2', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 02:23:13,538 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D110B8>
2020-03-11 02:23:13,539 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:13,539 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,541 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:13,541 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:13,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:13,541 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,543 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:13,543 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:13,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:13,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,544 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:13,544 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:23:13,545 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:13,545 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:13,546 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:13,546 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:13,546 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D110B8> checked out from pool
2020-03-11 02:23:13,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:23:13,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,548 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:23:13,549 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:23:13,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:23:13,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,552 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:23:13,552 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:23:13,552 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:23:13,553 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,553 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:23:13,554 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:23:13,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:23:13,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,555 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:23:13,555 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:23:13,555 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D110B8> being returned to pool
2020-03-11 02:23:13,555 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D110B8> rollback-on-return
2020-03-11 02:23:13,557 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58C50>
2020-03-11 02:23:13,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:13,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,559 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:13,559 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:13,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:13,560 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,561 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:13,562 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:13,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:13,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,563 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:13,563 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:23:13,564 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:13,564 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:13,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:13,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:13,565 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58C50> checked out from pool
2020-03-11 02:23:13,566 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:23:13,566 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:23:13,566 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58C50> being returned to pool
2020-03-11 02:23:13,566 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58C50> rollback-on-return
2020-03-11 02:23:13,569 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269951D0>
2020-03-11 02:23:13,569 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:13,569 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,570 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:13,570 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:13,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:13,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:13,572 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:13,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:13,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:13,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:23:13,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:13,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:13,574 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:13,574 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:13,574 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269951D0> checked out from pool
2020-03-11 02:23:13,574 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:23:13,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:23:13,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:23:13,576 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:23:13,576 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:23:13,576 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:23:13,576 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:23:13,577 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269951D0> being returned to pool
2020-03-11 02:23:13,577 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269951D0> rollback-on-return, via agent
2020-03-11 02:23:13,577 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:23:13,577 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926995438>, <hospital_test.models.Address object at 0x0000021926990E48>, <hospital_test.models.Address object at 0x00000219269904E0>]}
2020-03-11 02:23:13,580 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58C18>
2020-03-11 02:23:13,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:13,582 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,584 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:13,584 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:13,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:13,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,586 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:13,586 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:13,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:13,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:13,587 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:13,587 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:23:13,588 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:13,588 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:13,589 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:13,589 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:13,589 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58C18> checked out from pool
2020-03-11 02:23:13,589 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:23:13,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:23:13,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:23:13,590 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:23:13,590 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:23:13,590 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58C18> being returned to pool
2020-03-11 02:23:13,590 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58C18> rollback-on-return, via agent
2020-03-11 02:23:13,590 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:23:13,591 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926995438>, <hospital_test.models.Address object at 0x0000021926990E48>, <hospital_test.models.Address object at 0x00000219269904E0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926EAA630>]}
2020-03-11 02:23:19,329 root:INFO:models:save_pres_addr:MainProcess:9692:开始连接数据库关联处方和地址
2020-03-11 02:23:19,331 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6EF0>
2020-03-11 02:23:19,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:19,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:19,333 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:19,333 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:19,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:19,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:19,335 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:19,335 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:19,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:19,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:19,335 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:19,336 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:23:19,336 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:19,336 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:19,337 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:19,337 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:19,337 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6EF0> checked out from pool
2020-03-11 02:23:19,337 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:23:19,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 02:23:19,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num': 'MZ_201912203096', 'addr_id': '2', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 02:23:19,338 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:23:19,338 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6EF0> being returned to pool
2020-03-11 02:23:19,338 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6EF0> rollback-on-return
2020-03-11 02:23:19,339 root:INFO:models:save_pres_addr:MainProcess:9692:处方关联失败！
2020-03-11 02:23:19,339 root:INFO:models:save_pres_addr:MainProcess:9692:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201912203096' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201912203096', 'addr_id': '2', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 02:23:43,027 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9FD0>
2020-03-11 02:23:43,028 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:43,028 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,029 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:43,029 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:43,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:43,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,031 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:43,031 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:43,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:43,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,032 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:43,032 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:23:43,033 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:43,033 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:43,033 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:43,033 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:43,033 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9FD0> checked out from pool
2020-03-11 02:23:43,034 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:23:43,034 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,036 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:23:43,036 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:23:43,036 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:23:43,037 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,039 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:23:43,039 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:23:43,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:23:43,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,041 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:23:43,041 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:23:43,042 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:23:43,042 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,042 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:23:43,042 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:23:43,042 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9FD0> being returned to pool
2020-03-11 02:23:43,042 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9FD0> rollback-on-return
2020-03-11 02:23:43,044 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BBCC0>
2020-03-11 02:23:43,045 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:43,045 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,046 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:43,046 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:43,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:43,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,047 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:43,047 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:43,048 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:43,048 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,049 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:43,049 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:23:43,050 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:43,050 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:43,051 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:43,051 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:43,051 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BBCC0> checked out from pool
2020-03-11 02:23:43,051 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:23:43,052 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:23:43,052 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BBCC0> being returned to pool
2020-03-11 02:23:43,052 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BBCC0> rollback-on-return
2020-03-11 02:23:43,056 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CE80>
2020-03-11 02:23:43,057 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:43,057 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,058 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:43,058 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:43,059 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:43,059 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,061 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:43,061 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:43,062 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:43,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,063 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:43,063 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:23:43,064 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:43,064 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:43,065 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:43,065 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:43,065 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CE80> checked out from pool
2020-03-11 02:23:43,065 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:23:43,066 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:23:43,066 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:23:43,067 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:23:43,067 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:23:43,068 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:23:43,068 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:23:43,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CE80> being returned to pool
2020-03-11 02:23:43,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CE80> rollback-on-return, via agent
2020-03-11 02:23:43,068 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:23:43,068 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269BBA20>, <hospital_test.models.Address object at 0x00000219269BBBE0>, <hospital_test.models.Address object at 0x00000219269BB898>]}
2020-03-11 02:23:43,071 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BB8D0>
2020-03-11 02:23:43,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:23:43,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,073 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:43,073 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:23:43,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:23:43,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:23:43,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:23:43,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:23:43,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:23:43,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:23:43,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:23:43,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:43,077 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:43,078 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:23:43,078 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:23:43,078 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BB8D0> checked out from pool
2020-03-11 02:23:43,078 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:23:43,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:23:43,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:23:43,079 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:23:43,079 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:23:43,079 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BB8D0> being returned to pool
2020-03-11 02:23:43,079 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BB8D0> rollback-on-return, via agent
2020-03-11 02:23:43,079 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:23:43,079 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269BBA20>, <hospital_test.models.Address object at 0x00000219269BBBE0>, <hospital_test.models.Address object at 0x00000219269BB898>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002192697D0B8>]}
2020-03-11 02:26:26,703 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E93BE0>
2020-03-11 02:26:26,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:26,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,707 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:26,707 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:26,707 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:26,707 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,709 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:26,709 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:26,709 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:26,710 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,710 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:26,710 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:26:26,711 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:26,711 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:26,711 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:26,711 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:26,712 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E93BE0> checked out from pool
2020-03-11 02:26:26,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:26:26,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,713 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:26:26,713 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:26:26,713 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:26:26,713 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,715 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:26:26,715 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:26:26,716 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:26:26,716 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,718 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:26:26,718 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:26:26,718 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:26:26,718 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,719 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:26:26,719 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:26:26,719 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E93BE0> being returned to pool
2020-03-11 02:26:26,719 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E93BE0> rollback-on-return
2020-03-11 02:26:26,722 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E976D8>
2020-03-11 02:26:26,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:26,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,723 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:26,723 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:26,724 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:26,724 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,725 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:26,725 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:26,726 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:26,726 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,726 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:26,726 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:26:26,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:26,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:26,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:26,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:26,727 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E976D8> checked out from pool
2020-03-11 02:26:26,728 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:26:26,728 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:26:26,728 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E976D8> being returned to pool
2020-03-11 02:26:26,728 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E976D8> rollback-on-return
2020-03-11 02:26:26,731 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6A7B8>
2020-03-11 02:26:26,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:26,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,732 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:26,733 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:26,733 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:26,733 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,734 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:26,734 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:26,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:26,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,735 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:26,735 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:26:26,736 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:26,737 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:26,738 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:26,738 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:26,738 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6A7B8> checked out from pool
2020-03-11 02:26:26,738 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:26:26,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:26:26,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:26:26,739 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:26:26,739 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:26:26,740 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:26:26,740 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:26:26,740 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6A7B8> being returned to pool
2020-03-11 02:26:26,740 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6A7B8> rollback-on-return, via agent
2020-03-11 02:26:26,740 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:26:26,740 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E9B4A8>, <hospital_test.models.Address object at 0x0000021926E9B518>, <hospital_test.models.Address object at 0x0000021926E9B5F8>]}
2020-03-11 02:26:26,742 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E9B860>
2020-03-11 02:26:26,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:26,743 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,744 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:26,744 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:26,744 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:26,744 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,745 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:26,745 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:26,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:26,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:26,746 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:26,746 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:26:26,746 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:26,746 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:26,747 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:26,747 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:26,747 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E9B860> checked out from pool
2020-03-11 02:26:26,747 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:26:26,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:26:26,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:26:26,748 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:26:26,749 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:26:26,749 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E9B860> being returned to pool
2020-03-11 02:26:26,749 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E9B860> rollback-on-return, via agent
2020-03-11 02:26:26,749 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:26:26,749 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E9B4A8>, <hospital_test.models.Address object at 0x0000021926E9B518>, <hospital_test.models.Address object at 0x0000021926E9B5F8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926EC3BA8>]}
2020-03-11 02:26:32,847 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8FB38>
2020-03-11 02:26:32,847 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:32,847 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:32,848 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:32,848 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:32,848 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:32,849 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:32,849 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:32,849 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:32,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:32,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:32,851 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:32,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:26:32,852 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:32,852 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:32,852 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:32,853 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:32,853 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8FB38> checked out from pool
2020-03-11 02:26:32,853 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:26:32,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:26:32,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:26:32,854 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:26:32,854 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:26:32,854 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:26:32,854 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:26:32,855 root:INFO:models:save_custom_addr:MainProcess:9692:开始连接数据库保存地址信息
2020-03-11 02:26:32,855 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 02:26:32,855 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num': '5550008088', 'consignee': '马彬', 'con_tel': '18687854124', 'province': '云南省', 'city': '市', 'zone': '区', 'addr_detail': '', 'is_hos_addr': '2', 'auto_state': 0}
2020-03-11 02:26:32,866 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:9692:COMMIT
2020-03-11 02:26:32,868 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8FB38> being returned to pool
2020-03-11 02:26:32,868 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8FB38> rollback-on-return
2020-03-11 02:26:32,868 root:INFO:models:save_custom_addr:MainProcess:9692:地址信息保存成功！
2020-03-11 02:26:32,868 root:INFO:views:save_addr:MainProcess:9692:{'status': 'success'}
2020-03-11 02:26:45,533 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CDD8>
2020-03-11 02:26:45,534 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:45,534 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,537 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:45,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:45,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:45,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,539 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:45,539 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:45,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:45,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,540 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:45,541 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:26:45,542 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:45,542 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:45,542 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:45,542 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:45,543 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CDD8> checked out from pool
2020-03-11 02:26:45,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:26:45,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,544 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:26:45,544 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:26:45,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:26:45,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,546 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:26:45,546 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:26:45,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:26:45,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,548 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:26:45,548 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:26:45,548 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:26:45,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,549 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:26:45,550 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:26:45,550 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CDD8> being returned to pool
2020-03-11 02:26:45,550 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CDD8> rollback-on-return
2020-03-11 02:26:45,553 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997860>
2020-03-11 02:26:45,553 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:45,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,555 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:45,555 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:45,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:45,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,557 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:45,557 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:45,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:45,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,558 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:45,558 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:26:45,559 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:45,559 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:45,560 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:45,560 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:45,561 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997860> checked out from pool
2020-03-11 02:26:45,561 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:26:45,562 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:26:45,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997860> being returned to pool
2020-03-11 02:26:45,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997860> rollback-on-return
2020-03-11 02:26:45,565 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EEBA8>
2020-03-11 02:26:45,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:45,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,567 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:45,567 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:45,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:45,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,570 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:45,570 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:45,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:45,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:45,572 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:26:45,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:45,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:45,574 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:45,574 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:45,574 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EEBA8> checked out from pool
2020-03-11 02:26:45,574 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:26:45,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:26:45,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:26:45,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:26:45,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:26:45,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:26:45,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:26:45,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 02:26:45,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EEBA8> being returned to pool
2020-03-11 02:26:45,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EEBA8> rollback-on-return, via agent
2020-03-11 02:26:45,575 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:26:45,577 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269EE160>, <hospital_test.models.Address object at 0x00000219269EEF98>, <hospital_test.models.Address object at 0x00000219269EEE48>, <hospital_test.models.Address object at 0x00000219269EE860>]}
2020-03-11 02:26:45,578 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997390>
2020-03-11 02:26:45,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:45,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,581 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:45,581 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:45,582 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:45,582 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,582 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:45,582 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:45,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:45,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:45,585 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:45,585 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:26:45,585 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:45,585 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:45,586 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:45,586 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:45,587 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997390> checked out from pool
2020-03-11 02:26:45,587 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:26:45,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:26:45,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:26:45,588 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:26:45,588 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:26:45,588 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997390> being returned to pool
2020-03-11 02:26:45,588 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997390> rollback-on-return, via agent
2020-03-11 02:26:45,588 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:26:45,589 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269EE160>, <hospital_test.models.Address object at 0x00000219269EEF98>, <hospital_test.models.Address object at 0x00000219269EEE48>, <hospital_test.models.Address object at 0x00000219269EE860>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926ED4748>]}
2020-03-11 02:26:58,908 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA7B8>
2020-03-11 02:26:58,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:26:58,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:58,911 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:58,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:26:58,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:26:58,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:58,913 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:26:58,913 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:26:58,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:26:58,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:26:58,915 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:26:58,915 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:26:58,916 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:58,916 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:58,916 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:26:58,916 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:26:58,917 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA7B8> checked out from pool
2020-03-11 02:26:58,917 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:26:58,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:26:58,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:26:58,918 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:26:58,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:26:58,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:26:58,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:26:58,922 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 02:26:58,922 root:INFO:models:save_custom_addr:MainProcess:9692:开始连接数据库保存地址信息
2020-03-11 02:26:58,923 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 02:26:58,923 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num': '5550008088', 'consignee': '马彬', 'con_tel': '18687854124', 'province': '吉林省', 'city': '四平市', 'zone': '双辽市', 'addr_detail': '万科云子6栋203', 'is_hos_addr': '2', 'auto_state': 0}
2020-03-11 02:26:58,927 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:9692:COMMIT
2020-03-11 02:26:58,928 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA7B8> being returned to pool
2020-03-11 02:26:58,928 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA7B8> rollback-on-return
2020-03-11 02:26:58,928 root:INFO:models:save_custom_addr:MainProcess:9692:地址信息保存成功！
2020-03-11 02:26:58,928 root:INFO:views:save_addr:MainProcess:9692:{'status': 'success'}
2020-03-11 02:27:08,909 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6400>
2020-03-11 02:27:08,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:27:08,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,911 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:27:08,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:27:08,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:27:08,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,913 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:27:08,913 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:27:08,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:27:08,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,914 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:27:08,914 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:27:08,915 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:27:08,915 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:27:08,916 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:27:08,916 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:27:08,916 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6400> checked out from pool
2020-03-11 02:27:08,917 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:27:08,917 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,918 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:27:08,918 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:27:08,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:27:08,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,921 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:27:08,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:27:08,921 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:27:08,922 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,924 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:27:08,924 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:27:08,926 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:27:08,926 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,927 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:27:08,927 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:27:08,927 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6400> being returned to pool
2020-03-11 02:27:08,927 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6400> rollback-on-return
2020-03-11 02:27:08,930 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990FD0>
2020-03-11 02:27:08,931 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:27:08,931 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,932 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:27:08,932 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:27:08,932 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:27:08,933 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,934 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:27:08,934 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:27:08,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:27:08,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,935 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:27:08,935 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:27:08,936 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:27:08,936 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:27:08,937 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:27:08,937 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:27:08,938 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990FD0> checked out from pool
2020-03-11 02:27:08,938 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:27:08,940 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:27:08,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990FD0> being returned to pool
2020-03-11 02:27:08,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990FD0> rollback-on-return
2020-03-11 02:27:08,944 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6A58>
2020-03-11 02:27:08,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:27:08,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,945 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:27:08,945 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:27:08,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:27:08,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,947 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:27:08,947 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:27:08,948 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:27:08,948 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,948 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:27:08,948 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:27:08,949 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:27:08,949 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:27:08,949 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:27:08,949 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:27:08,950 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6A58> checked out from pool
2020-03-11 02:27:08,950 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:27:08,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:27:08,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:27:08,952 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:27:08,952 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:27:08,952 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:27:08,952 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:27:08,952 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 02:27:08,952 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 02:27:08,952 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6A58> being returned to pool
2020-03-11 02:27:08,952 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6A58> rollback-on-return, via agent
2020-03-11 02:27:08,953 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:27:08,953 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926990080>, <hospital_test.models.Address object at 0x00000219269904E0>, <hospital_test.models.Address object at 0x0000021926990B38>, <hospital_test.models.Address object at 0x00000219269902B0>, <hospital_test.models.Address object at 0x0000021926990048>]}
2020-03-11 02:27:08,957 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6E80>
2020-03-11 02:27:08,957 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:27:08,957 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,959 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:27:08,959 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:27:08,960 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:27:08,960 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,961 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:27:08,961 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:27:08,962 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:27:08,962 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:27:08,962 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:27:08,962 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:27:08,963 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:27:08,963 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:27:08,963 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:27:08,963 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:27:08,964 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6E80> checked out from pool
2020-03-11 02:27:08,964 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:27:08,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:27:08,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:27:08,965 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:27:08,965 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:27:08,965 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6E80> being returned to pool
2020-03-11 02:27:08,965 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC6E80> rollback-on-return, via agent
2020-03-11 02:27:08,965 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:27:08,965 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926990080>, <hospital_test.models.Address object at 0x00000219269904E0>, <hospital_test.models.Address object at 0x0000021926990B38>, <hospital_test.models.Address object at 0x00000219269902B0>, <hospital_test.models.Address object at 0x0000021926990048>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926EC35C0>]}
2020-03-11 02:29:08,223 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6080>
2020-03-11 02:29:08,224 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:29:08,224 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,225 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:29:08,225 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:29:08,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:29:08,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,226 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:29:08,226 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:29:08,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:29:08,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,227 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:29:08,227 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:29:08,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:29:08,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:29:08,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:29:08,228 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:29:08,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6080> checked out from pool
2020-03-11 02:29:08,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:29:08,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:29:08,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:29:08,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:29:08,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,231 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:29:08,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:29:08,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:29:08,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,234 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:29:08,234 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:29:08,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:29:08,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,236 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:29:08,236 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:29:08,236 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6080> being returned to pool
2020-03-11 02:29:08,236 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6080> rollback-on-return
2020-03-11 02:29:08,239 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CDA0>
2020-03-11 02:29:08,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:29:08,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,241 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:29:08,241 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:29:08,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:29:08,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:29:08,243 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:29:08,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:29:08,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,244 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:29:08,244 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:29:08,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:29:08,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:29:08,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:29:08,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:29:08,246 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CDA0> checked out from pool
2020-03-11 02:29:08,246 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:29:08,247 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:29:08,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CDA0> being returned to pool
2020-03-11 02:29:08,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CDA0> rollback-on-return
2020-03-11 02:29:08,250 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EEF160>
2020-03-11 02:29:08,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:29:08,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,252 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:29:08,252 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:29:08,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:29:08,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,254 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:29:08,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:29:08,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:29:08,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,255 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:29:08,256 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:29:08,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:29:08,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:29:08,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:29:08,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:29:08,257 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EEF160> checked out from pool
2020-03-11 02:29:08,257 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:29:08,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:29:08,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:29:08,259 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:29:08,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:29:08,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:29:08,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:29:08,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 02:29:08,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 02:29:08,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EEF160> being returned to pool
2020-03-11 02:29:08,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EEF160> rollback-on-return, via agent
2020-03-11 02:29:08,259 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:29:08,260 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EEF400>, <hospital_test.models.Address object at 0x0000021926EEF3C8>, <hospital_test.models.Address object at 0x0000021926EEF668>, <hospital_test.models.Address object at 0x0000021926EEF630>, <hospital_test.models.Address object at 0x0000021926EEF320>]}
2020-03-11 02:29:08,262 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EEF828>
2020-03-11 02:29:08,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:29:08,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,263 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:29:08,263 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:29:08,264 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:29:08,264 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,265 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:29:08,265 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:29:08,266 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:29:08,266 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:29:08,266 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:29:08,266 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:29:08,267 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:29:08,267 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:29:08,268 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:29:08,268 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:29:08,269 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EEF828> checked out from pool
2020-03-11 02:29:08,269 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:29:08,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:29:08,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:29:08,270 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:29:08,270 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:29:08,270 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EEF828> being returned to pool
2020-03-11 02:29:08,270 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EEF828> rollback-on-return, via agent
2020-03-11 02:29:08,270 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:29:08,271 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EEF400>, <hospital_test.models.Address object at 0x0000021926EEF3C8>, <hospital_test.models.Address object at 0x0000021926EEF668>, <hospital_test.models.Address object at 0x0000021926EEF630>, <hospital_test.models.Address object at 0x0000021926EEF320>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926990B38>]}
2020-03-11 02:30:01,842 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E9B908>
2020-03-11 02:30:01,842 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:30:01,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,844 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:30:01,844 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:30:01,844 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:30:01,844 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,846 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:30:01,846 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:30:01,846 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:30:01,847 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,847 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:30:01,847 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:30:01,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:30:01,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:30:01,849 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:30:01,849 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:30:01,849 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E9B908> checked out from pool
2020-03-11 02:30:01,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:30:01,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,850 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:30:01,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:30:01,851 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:30:01,851 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,852 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:30:01,852 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:30:01,852 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:30:01,853 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,853 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:30:01,853 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:30:01,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:30:01,854 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,855 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:30:01,855 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:30:01,856 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E9B908> being returned to pool
2020-03-11 02:30:01,856 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E9B908> rollback-on-return
2020-03-11 02:30:01,858 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999860>
2020-03-11 02:30:01,858 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:30:01,858 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,860 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:30:01,860 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:30:01,860 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:30:01,860 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,861 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:30:01,861 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:30:01,862 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:30:01,862 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,862 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:30:01,862 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:30:01,863 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:30:01,863 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:30:01,863 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:30:01,863 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:30:01,863 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999860> checked out from pool
2020-03-11 02:30:01,864 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:30:01,864 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:30:01,864 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999860> being returned to pool
2020-03-11 02:30:01,864 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999860> rollback-on-return
2020-03-11 02:30:01,866 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999AC8>
2020-03-11 02:30:01,867 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:30:01,867 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,868 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:30:01,868 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:30:01,868 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:30:01,868 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,870 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:30:01,870 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:30:01,871 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:30:01,871 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,872 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:30:01,872 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:30:01,873 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:30:01,873 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:30:01,874 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:30:01,874 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:30:01,874 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999AC8> checked out from pool
2020-03-11 02:30:01,874 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:30:01,875 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:30:01,875 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:30:01,876 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:30:01,876 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:30:01,876 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:30:01,876 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:30:01,876 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 02:30:01,876 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 02:30:01,876 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999AC8> being returned to pool
2020-03-11 02:30:01,876 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999AC8> rollback-on-return, via agent
2020-03-11 02:30:01,876 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:30:01,877 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926B588D0>, <hospital_test.models.Address object at 0x0000021926B589E8>, <hospital_test.models.Address object at 0x0000021926B58BA8>, <hospital_test.models.Address object at 0x0000021926B58780>, <hospital_test.models.Address object at 0x0000021926999898>]}
2020-03-11 02:30:01,879 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999DA0>
2020-03-11 02:30:01,879 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:30:01,879 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,881 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:30:01,881 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:30:01,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:30:01,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,882 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:30:01,882 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:30:01,883 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:30:01,883 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:30:01,883 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:30:01,883 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:30:01,884 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:30:01,884 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:30:01,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:30:01,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:30:01,885 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999DA0> checked out from pool
2020-03-11 02:30:01,886 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:30:01,886 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:30:01,886 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:30:01,887 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:30:01,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:30:01,887 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999DA0> being returned to pool
2020-03-11 02:30:01,887 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999DA0> rollback-on-return, via agent
2020-03-11 02:30:01,887 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:30:01,887 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926B588D0>, <hospital_test.models.Address object at 0x0000021926B589E8>, <hospital_test.models.Address object at 0x0000021926B58BA8>, <hospital_test.models.Address object at 0x0000021926B58780>, <hospital_test.models.Address object at 0x0000021926999898>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269D2438>]}
2020-03-11 02:35:50,101 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192699BB38>
2020-03-11 02:35:50,102 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:35:50,102 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,104 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:35:50,104 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:35:50,104 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:35:50,104 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,105 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:35:50,105 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:35:50,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:35:50,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,106 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:35:50,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:35:50,107 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:35:50,107 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:35:50,108 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:35:50,108 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:35:50,109 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699BB38> checked out from pool
2020-03-11 02:35:50,109 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:35:50,109 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,110 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:35:50,110 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:35:50,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:35:50,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,113 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:35:50,113 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:35:50,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:35:50,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,115 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:35:50,115 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:35:50,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:35:50,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,117 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:35:50,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:35:50,117 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699BB38> being returned to pool
2020-03-11 02:35:50,117 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699BB38> rollback-on-return
2020-03-11 02:35:50,119 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E85668>
2020-03-11 02:35:50,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:35:50,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,121 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:35:50,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:35:50,121 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:35:50,121 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,122 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:35:50,122 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:35:50,123 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:35:50,123 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,123 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:35:50,123 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:35:50,124 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:35:50,124 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:35:50,125 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:35:50,125 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:35:50,126 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E85668> checked out from pool
2020-03-11 02:35:50,126 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:35:50,126 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:35:50,126 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E85668> being returned to pool
2020-03-11 02:35:50,127 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E85668> rollback-on-return
2020-03-11 02:35:50,129 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2E10>
2020-03-11 02:35:50,130 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:35:50,130 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,131 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:35:50,132 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:35:50,132 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:35:50,132 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,134 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:35:50,134 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:35:50,135 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:35:50,135 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,135 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:35:50,135 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:35:50,136 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:35:50,136 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:35:50,137 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:35:50,137 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:35:50,138 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2E10> checked out from pool
2020-03-11 02:35:50,138 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:35:50,139 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:35:50,139 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:35:50,140 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:35:50,140 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:35:50,140 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:35:50,140 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:35:50,140 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 02:35:50,141 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 02:35:50,141 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2E10> being returned to pool
2020-03-11 02:35:50,141 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2E10> rollback-on-return, via agent
2020-03-11 02:35:50,141 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:35:50,141 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E90AC8>, <hospital_test.models.Address object at 0x0000021926E90390>, <hospital_test.models.Address object at 0x0000021926E90DA0>, <hospital_test.models.Address object at 0x00000219269E2EB8>, <hospital_test.models.Address object at 0x00000219269E20F0>]}
2020-03-11 02:35:50,144 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB3748>
2020-03-11 02:35:50,144 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:35:50,144 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,145 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:35:50,145 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:35:50,146 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:35:50,146 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,147 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:35:50,147 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:35:50,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:35:50,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:35:50,148 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:35:50,148 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:35:50,149 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:35:50,149 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:35:50,150 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:35:50,150 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:35:50,150 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB3748> checked out from pool
2020-03-11 02:35:50,150 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:35:50,151 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:35:50,151 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:35:50,152 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:35:50,152 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:35:50,152 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB3748> being returned to pool
2020-03-11 02:35:50,152 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB3748> rollback-on-return, via agent
2020-03-11 02:35:50,152 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:35:50,152 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E90AC8>, <hospital_test.models.Address object at 0x0000021926E90390>, <hospital_test.models.Address object at 0x0000021926E90DA0>, <hospital_test.models.Address object at 0x00000219269E2EB8>, <hospital_test.models.Address object at 0x00000219269E20F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926A00CC0>]}
2020-03-11 02:42:48,831 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CCC0>
2020-03-11 02:42:48,831 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:42:48,831 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,833 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:42:48,833 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:42:48,834 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:42:48,834 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,835 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:42:48,835 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:42:48,836 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:42:48,836 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,836 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:42:48,836 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:42:48,837 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:42:48,838 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:42:48,838 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:42:48,838 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:42:48,838 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CCC0> checked out from pool
2020-03-11 02:42:48,839 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 02:42:48,839 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,840 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:42:48,840 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:42:48,840 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 02:42:48,840 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,842 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:42:48,842 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 02:42:48,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 02:42:48,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,845 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:42:48,845 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 02:42:48,845 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 02:42:48,845 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,846 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 02:42:48,846 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 02:42:48,846 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CCC0> being returned to pool
2020-03-11 02:42:48,846 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CCC0> rollback-on-return
2020-03-11 02:42:48,849 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE940>
2020-03-11 02:42:48,849 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:42:48,849 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,850 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:42:48,850 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:42:48,851 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:42:48,851 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,852 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:42:48,852 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:42:48,853 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:42:48,853 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,853 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:42:48,853 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 02:42:48,854 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:42:48,854 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:42:48,854 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:42:48,855 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:42:48,855 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE940> checked out from pool
2020-03-11 02:42:48,855 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 02:42:48,856 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 02:42:48,856 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE940> being returned to pool
2020-03-11 02:42:48,856 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE940> rollback-on-return
2020-03-11 02:42:48,859 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D11A90>
2020-03-11 02:42:48,860 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:42:48,860 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,862 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:42:48,862 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:42:48,863 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:42:48,863 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,864 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:42:48,864 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:42:48,865 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:42:48,865 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,865 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:42:48,866 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:42:48,866 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:42:48,866 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:42:48,867 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:42:48,867 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:42:48,867 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D11A90> checked out from pool
2020-03-11 02:42:48,868 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:42:48,868 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 02:42:48,868 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 02:42:48,869 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 02:42:48,869 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 02:42:48,869 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:42:48,869 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 02:42:48,869 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 02:42:48,870 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 02:42:48,870 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D11A90> being returned to pool
2020-03-11 02:42:48,870 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D11A90> rollback-on-return, via agent
2020-03-11 02:42:48,870 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:42:48,870 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926D117F0>, <hospital_test.models.Address object at 0x0000021926D11908>, <hospital_test.models.Address object at 0x0000021926D11128>, <hospital_test.models.Address object at 0x0000021926D115F8>, <hospital_test.models.Address object at 0x00000219269CE550>]}
2020-03-11 02:42:48,873 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE710>
2020-03-11 02:42:48,873 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 02:42:48,873 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,875 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:42:48,875 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 02:42:48,875 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 02:42:48,875 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,878 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 02:42:48,878 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 02:42:48,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 02:42:48,879 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 02:42:48,879 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 02:42:48,879 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 02:42:48,880 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 02:42:48,880 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:42:48,881 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 02:42:48,881 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 02:42:48,881 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE710> checked out from pool
2020-03-11 02:42:48,881 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 02:42:48,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 02:42:48,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 02:42:48,882 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 02:42:48,882 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 02:42:48,883 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE710> being returned to pool
2020-03-11 02:42:48,883 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CE710> rollback-on-return, via agent
2020-03-11 02:42:48,883 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 02:42:48,883 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926D117F0>, <hospital_test.models.Address object at 0x0000021926D11908>, <hospital_test.models.Address object at 0x0000021926D11128>, <hospital_test.models.Address object at 0x0000021926D115F8>, <hospital_test.models.Address object at 0x00000219269CE550>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926E6E898>]}
2020-03-11 03:01:24,615 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BB940>
2020-03-11 03:01:24,617 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:01:24,617 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,619 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:01:24,619 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:01:24,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:01:24,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,621 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:01:24,621 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:01:24,622 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:01:24,622 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,623 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:01:24,623 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:01:24,624 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:01:24,624 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:01:24,625 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:01:24,625 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:01:24,626 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BB940> checked out from pool
2020-03-11 03:01:24,626 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:01:24,626 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,627 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:01:24,627 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:01:24,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:01:24,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,628 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:01:24,628 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:01:24,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:01:24,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,629 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:01:24,630 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:01:24,630 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:01:24,630 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,630 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:01:24,631 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:01:24,631 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BB940> being returned to pool
2020-03-11 03:01:24,631 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BB940> rollback-on-return
2020-03-11 03:01:24,633 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D70B8>
2020-03-11 03:01:24,633 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:01:24,633 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,634 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:01:24,634 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:01:24,634 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:01:24,634 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,635 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:01:24,635 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:01:24,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:01:24,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,636 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:01:24,636 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:01:24,637 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:01:24,637 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:01:24,637 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:01:24,637 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:01:24,638 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D70B8> checked out from pool
2020-03-11 03:01:24,638 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:01:24,638 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:01:24,639 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D70B8> being returned to pool
2020-03-11 03:01:24,639 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D70B8> rollback-on-return
2020-03-11 03:01:24,642 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269A0E80>
2020-03-11 03:01:24,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:01:24,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,644 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:01:24,644 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:01:24,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:01:24,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,645 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:01:24,645 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:01:24,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:01:24,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,646 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:01:24,646 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:01:24,647 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:01:24,647 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:01:24,648 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:01:24,648 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:01:24,648 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269A0E80> checked out from pool
2020-03-11 03:01:24,648 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:01:24,649 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:01:24,649 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:01:24,650 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:01:24,650 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:01:24,650 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:01:24,650 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:01:24,650 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:01:24,650 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:01:24,650 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269A0E80> being returned to pool
2020-03-11 03:01:24,650 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269A0E80> rollback-on-return, via agent
2020-03-11 03:01:24,650 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:01:24,651 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269D75F8>, <hospital_test.models.Address object at 0x00000219269D72B0>, <hospital_test.models.Address object at 0x00000219269D7710>, <hospital_test.models.Address object at 0x00000219269D7358>, <hospital_test.models.Address object at 0x00000219269D7320>]}
2020-03-11 03:01:24,653 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7588>
2020-03-11 03:01:24,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:01:24,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,655 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:01:24,655 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:01:24,655 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:01:24,655 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,656 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:01:24,656 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:01:24,657 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:01:24,657 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:01:24,657 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:01:24,657 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:01:24,658 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:01:24,658 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:01:24,658 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:01:24,658 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:01:24,659 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7588> checked out from pool
2020-03-11 03:01:24,659 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:01:24,659 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:01:24,659 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:01:24,660 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:01:24,660 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:01:24,660 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7588> being returned to pool
2020-03-11 03:01:24,660 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7588> rollback-on-return, via agent
2020-03-11 03:01:24,660 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:01:24,660 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269D75F8>, <hospital_test.models.Address object at 0x00000219269D72B0>, <hospital_test.models.Address object at 0x00000219269D7710>, <hospital_test.models.Address object at 0x00000219269D7358>, <hospital_test.models.Address object at 0x00000219269D7320>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926999518>]}
2020-03-11 03:12:10,979 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F320>
2020-03-11 03:12:10,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:12:10,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:10,982 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:12:10,982 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:12:10,982 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:12:10,982 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:10,984 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:12:10,984 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:12:10,985 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:12:10,985 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:10,986 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:12:10,986 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:12:10,987 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:12:10,987 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:12:10,988 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:12:10,988 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:12:10,988 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F320> checked out from pool
2020-03-11 03:12:10,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:12:10,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:10,990 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:12:10,991 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:12:10,991 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:12:10,991 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:10,993 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:12:10,993 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:12:10,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:12:10,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:10,994 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:12:10,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:12:10,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:12:10,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:10,995 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:12:10,995 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:12:10,995 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F320> being returned to pool
2020-03-11 03:12:10,996 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F320> rollback-on-return
2020-03-11 03:12:10,998 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269902B0>
2020-03-11 03:12:10,998 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:12:10,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,000 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:12:11,000 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:12:11,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:12:11,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,002 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:12:11,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:12:11,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:12:11,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,003 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:12:11,003 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:12:11,005 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:12:11,005 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:12:11,006 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:12:11,006 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:12:11,006 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269902B0> checked out from pool
2020-03-11 03:12:11,007 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:12:11,007 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:12:11,007 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269902B0> being returned to pool
2020-03-11 03:12:11,007 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269902B0> rollback-on-return
2020-03-11 03:12:11,010 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42080>
2020-03-11 03:12:11,010 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:12:11,010 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,012 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:12:11,012 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:12:11,012 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:12:11,012 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,013 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:12:11,013 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:12:11,014 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:12:11,014 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,014 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:12:11,014 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:12:11,015 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:12:11,015 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:12:11,015 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:12:11,016 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:12:11,016 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42080> checked out from pool
2020-03-11 03:12:11,016 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:12:11,017 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:12:11,017 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:12:11,017 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:12:11,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:12:11,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:12:11,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:12:11,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:12:11,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:12:11,018 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42080> being returned to pool
2020-03-11 03:12:11,018 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42080> rollback-on-return, via agent
2020-03-11 03:12:11,018 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:12:11,018 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926980E48>, <hospital_test.models.Address object at 0x00000219269807B8>, <hospital_test.models.Address object at 0x0000021926990E10>, <hospital_test.models.Address object at 0x0000021926990400>, <hospital_test.models.Address object at 0x0000021926990C88>]}
2020-03-11 03:12:11,021 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990BE0>
2020-03-11 03:12:11,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:12:11,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,023 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:12:11,023 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:12:11,023 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:12:11,023 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,024 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:12:11,024 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:12:11,024 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:12:11,025 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:12:11,025 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:12:11,025 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:12:11,026 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:12:11,026 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:12:11,026 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:12:11,026 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:12:11,027 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990BE0> checked out from pool
2020-03-11 03:12:11,027 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:12:11,027 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:12:11,027 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:12:11,028 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:12:11,028 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:12:11,028 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990BE0> being returned to pool
2020-03-11 03:12:11,028 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990BE0> rollback-on-return, via agent
2020-03-11 03:12:11,028 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:12:11,028 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926980E48>, <hospital_test.models.Address object at 0x00000219269807B8>, <hospital_test.models.Address object at 0x0000021926990E10>, <hospital_test.models.Address object at 0x0000021926990400>, <hospital_test.models.Address object at 0x0000021926990C88>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926E8C0F0>]}
2020-03-11 03:14:23,990 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFCC18>
2020-03-11 03:14:23,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:23,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:23,992 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:23,992 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:23,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:23,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:23,994 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:23,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:23,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:23,995 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:23,995 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:23,995 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:23,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:23,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:23,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:23,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:23,997 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFCC18> checked out from pool
2020-03-11 03:14:23,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:14:23,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:23,998 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:23,998 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:14:23,998 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:14:23,998 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,000 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:24,001 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:14:24,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:14:24,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,002 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:24,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:14:24,002 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:14:24,002 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,003 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:24,003 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:14:24,003 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFCC18> being returned to pool
2020-03-11 03:14:24,004 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFCC18> rollback-on-return
2020-03-11 03:14:24,005 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EE1940>
2020-03-11 03:14:24,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:24,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,007 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:24,007 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:24,007 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:24,007 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,008 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:24,008 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:24,009 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:24,009 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,009 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:24,009 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:14:24,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:24,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:24,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:24,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:24,011 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EE1940> checked out from pool
2020-03-11 03:14:24,011 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:14:24,011 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:14:24,011 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EE1940> being returned to pool
2020-03-11 03:14:24,011 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EE1940> rollback-on-return
2020-03-11 03:14:24,014 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC8A20>
2020-03-11 03:14:24,014 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:24,014 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,016 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:24,016 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:24,016 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:24,016 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,017 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:24,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:24,018 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:24,018 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,018 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:24,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:24,020 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:24,020 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:24,021 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:24,021 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:24,021 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC8A20> checked out from pool
2020-03-11 03:14:24,021 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:14:24,022 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:14:24,022 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:14:24,022 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:14:24,023 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:14:24,023 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:14:24,023 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:14:24,023 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:14:24,023 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:14:24,023 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC8A20> being returned to pool
2020-03-11 03:14:24,023 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC8A20> rollback-on-return, via agent
2020-03-11 03:14:24,023 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:14:24,023 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926A7E390>, <hospital_test.models.Address object at 0x0000021926A7EA58>, <hospital_test.models.Address object at 0x0000021926A7EEF0>, <hospital_test.models.Address object at 0x0000021926A7EF60>, <hospital_test.models.Address object at 0x0000021926A7E898>]}
2020-03-11 03:14:24,025 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CEB8>
2020-03-11 03:14:24,026 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:24,026 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,027 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:24,027 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:24,027 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:24,027 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,028 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:24,028 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:24,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:24,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:24,029 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:24,029 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:24,030 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:24,030 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:24,031 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:24,031 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:24,031 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CEB8> checked out from pool
2020-03-11 03:14:24,031 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:14:24,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:14:24,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:14:24,032 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:14:24,033 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:14:24,033 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CEB8> being returned to pool
2020-03-11 03:14:24,033 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CEB8> rollback-on-return, via agent
2020-03-11 03:14:24,033 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:14:24,033 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926A7E390>, <hospital_test.models.Address object at 0x0000021926A7EA58>, <hospital_test.models.Address object at 0x0000021926A7EEF0>, <hospital_test.models.Address object at 0x0000021926A7EF60>, <hospital_test.models.Address object at 0x0000021926A7E898>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269EE908>]}
2020-03-11 03:14:51,061 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990DD8>
2020-03-11 03:14:51,061 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:51,061 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,062 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:51,062 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:51,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:51,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,064 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:51,065 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:51,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:51,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,065 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:51,066 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:51,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:51,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:51,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:51,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:51,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990DD8> checked out from pool
2020-03-11 03:14:51,068 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:14:51,068 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,069 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:51,069 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:14:51,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:14:51,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,070 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:51,070 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:14:51,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:14:51,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,071 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:51,071 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:14:51,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:14:51,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,072 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:51,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:14:51,072 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990DD8> being returned to pool
2020-03-11 03:14:51,072 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990DD8> rollback-on-return
2020-03-11 03:14:51,074 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FDA90>
2020-03-11 03:14:51,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:51,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:51,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:51,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:51,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,077 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:51,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:51,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:51,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,078 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:51,078 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:14:51,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:51,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:51,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:51,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:51,080 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FDA90> checked out from pool
2020-03-11 03:14:51,081 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:14:51,081 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:14:51,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FDA90> being returned to pool
2020-03-11 03:14:51,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FDA90> rollback-on-return
2020-03-11 03:14:51,084 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FDCC0>
2020-03-11 03:14:51,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:51,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,086 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:51,086 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:51,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:51,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,087 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:51,087 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:51,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:51,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:51,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:51,089 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:51,089 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:51,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:51,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:51,090 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FDCC0> checked out from pool
2020-03-11 03:14:51,090 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:14:51,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:14:51,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:14:51,092 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:14:51,092 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:14:51,092 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:14:51,092 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:14:51,092 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:14:51,092 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:14:51,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FDCC0> being returned to pool
2020-03-11 03:14:51,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FDCC0> rollback-on-return, via agent
2020-03-11 03:14:51,092 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:14:51,093 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269900B8>, <hospital_test.models.Address object at 0x0000021926990240>, <hospital_test.models.Address object at 0x0000021926990BE0>, <hospital_test.models.Address object at 0x00000219269FD2B0>, <hospital_test.models.Address object at 0x00000219269FDC88>]}
2020-03-11 03:14:51,095 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FD668>
2020-03-11 03:14:51,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:51,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,096 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:51,097 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:51,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:51,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:51,098 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:51,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:51,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:51,099 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:51,099 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:51,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:51,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:51,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:51,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:51,101 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FD668> checked out from pool
2020-03-11 03:14:51,101 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:14:51,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:14:51,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:14:51,101 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:14:51,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:14:51,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FD668> being returned to pool
2020-03-11 03:14:51,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269FD668> rollback-on-return, via agent
2020-03-11 03:14:51,102 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:14:51,102 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269900B8>, <hospital_test.models.Address object at 0x0000021926990240>, <hospital_test.models.Address object at 0x0000021926990BE0>, <hospital_test.models.Address object at 0x00000219269FD2B0>, <hospital_test.models.Address object at 0x00000219269FDC88>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926E76278>]}
2020-03-11 03:14:54,701 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEB00>
2020-03-11 03:14:54,701 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:54,701 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,703 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:54,703 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:54,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:54,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,705 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:54,705 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:54,705 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:54,705 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,706 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:54,706 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:54,706 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:54,706 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:54,707 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:54,707 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:54,707 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEB00> checked out from pool
2020-03-11 03:14:54,708 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:14:54,708 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,709 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:54,709 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:14:54,709 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:14:54,709 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,710 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:54,710 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:14:54,710 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:14:54,711 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,711 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:54,711 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:14:54,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:14:54,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,712 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:14:54,712 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:14:54,712 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEB00> being returned to pool
2020-03-11 03:14:54,712 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEB00> rollback-on-return
2020-03-11 03:14:54,715 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7A90>
2020-03-11 03:14:54,715 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:54,715 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,716 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:54,716 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:54,717 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:54,717 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,718 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:54,718 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:54,719 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:54,719 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,719 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:54,719 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:14:54,720 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:54,720 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:54,720 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:54,720 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:54,720 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7A90> checked out from pool
2020-03-11 03:14:54,720 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:14:54,721 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:14:54,721 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7A90> being returned to pool
2020-03-11 03:14:54,721 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7A90> rollback-on-return
2020-03-11 03:14:54,723 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192697DEF0>
2020-03-11 03:14:54,723 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:54,723 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,724 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:54,724 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:54,724 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:54,725 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,725 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:54,725 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:54,726 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:54,726 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,726 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:54,726 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:54,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:54,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:54,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:54,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:54,728 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697DEF0> checked out from pool
2020-03-11 03:14:54,728 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:14:54,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:14:54,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:14:54,730 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:14:54,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:14:54,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:14:54,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:14:54,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:14:54,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:14:54,730 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697DEF0> being returned to pool
2020-03-11 03:14:54,730 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697DEF0> rollback-on-return, via agent
2020-03-11 03:14:54,730 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:14:54,730 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269D74E0>, <hospital_test.models.Address object at 0x00000219269D70F0>, <hospital_test.models.Address object at 0x00000219269D7470>, <hospital_test.models.Address object at 0x00000219269D7208>, <hospital_test.models.Address object at 0x00000219269D7CF8>]}
2020-03-11 03:14:54,733 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7E10>
2020-03-11 03:14:54,733 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:14:54,733 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,735 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:54,735 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:14:54,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:14:54,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,736 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:14:54,736 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:14:54,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:14:54,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:14:54,738 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:14:54,738 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:14:54,739 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:54,739 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:54,739 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:14:54,739 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:14:54,740 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7E10> checked out from pool
2020-03-11 03:14:54,740 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:14:54,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:14:54,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:14:54,741 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:14:54,741 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:14:54,741 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7E10> being returned to pool
2020-03-11 03:14:54,741 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7E10> rollback-on-return, via agent
2020-03-11 03:14:54,741 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:14:54,741 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269D74E0>, <hospital_test.models.Address object at 0x00000219269D70F0>, <hospital_test.models.Address object at 0x00000219269D7470>, <hospital_test.models.Address object at 0x00000219269D7208>, <hospital_test.models.Address object at 0x00000219269D7CF8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926E61710>]}
2020-03-11 03:16:44,908 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997780>
2020-03-11 03:16:44,908 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:16:44,908 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,909 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:16:44,910 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:16:44,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:16:44,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,912 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:16:44,912 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:16:44,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:16:44,913 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,913 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:16:44,913 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:16:44,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:16:44,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:16:44,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:16:44,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:16:44,915 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997780> checked out from pool
2020-03-11 03:16:44,915 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:16:44,915 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,916 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:16:44,916 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:16:44,917 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:16:44,917 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,918 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:16:44,918 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:16:44,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:16:44,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,919 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:16:44,919 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:16:44,920 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:16:44,920 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,920 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:16:44,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:16:44,921 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997780> being returned to pool
2020-03-11 03:16:44,921 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997780> rollback-on-return
2020-03-11 03:16:44,923 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6E748>
2020-03-11 03:16:44,923 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:16:44,923 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,924 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:16:44,924 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:16:44,925 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:16:44,925 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,926 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:16:44,926 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:16:44,927 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:16:44,927 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,927 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:16:44,927 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:16:44,928 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:16:44,928 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:16:44,929 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:16:44,929 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:16:44,929 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6E748> checked out from pool
2020-03-11 03:16:44,929 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:16:44,930 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:16:44,930 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6E748> being returned to pool
2020-03-11 03:16:44,930 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6E748> rollback-on-return
2020-03-11 03:16:44,933 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999780>
2020-03-11 03:16:44,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:16:44,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,935 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:16:44,935 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:16:44,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:16:44,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,936 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:16:44,936 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:16:44,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:16:44,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,937 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:16:44,937 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:16:44,938 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:16:44,938 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:16:44,939 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:16:44,939 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:16:44,939 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999780> checked out from pool
2020-03-11 03:16:44,939 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:16:44,940 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:16:44,940 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:16:44,941 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:16:44,941 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:16:44,941 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:16:44,941 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:16:44,941 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:16:44,941 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:16:44,941 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999780> being returned to pool
2020-03-11 03:16:44,941 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999780> rollback-on-return, via agent
2020-03-11 03:16:44,941 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:16:44,941 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926B58908>, <hospital_test.models.Address object at 0x0000021926B58E48>, <hospital_test.models.Address object at 0x0000021926B58C18>, <hospital_test.models.Address object at 0x000002192698CFD0>, <hospital_test.models.Address object at 0x000002192698C240>]}
2020-03-11 03:16:44,944 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7E1D0>
2020-03-11 03:16:44,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:16:44,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,946 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:16:44,946 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:16:44,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:16:44,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,947 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:16:44,947 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:16:44,948 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:16:44,948 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:16:44,948 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:16:44,948 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:16:44,949 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:16:44,949 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:16:44,950 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:16:44,950 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:16:44,950 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7E1D0> checked out from pool
2020-03-11 03:16:44,950 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:16:44,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:16:44,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:16:44,951 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:16:44,951 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:16:44,951 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7E1D0> being returned to pool
2020-03-11 03:16:44,951 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7E1D0> rollback-on-return, via agent
2020-03-11 03:16:44,951 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:16:44,952 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926B58908>, <hospital_test.models.Address object at 0x0000021926B58E48>, <hospital_test.models.Address object at 0x0000021926B58C18>, <hospital_test.models.Address object at 0x000002192698CFD0>, <hospital_test.models.Address object at 0x000002192698C240>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926999550>]}
2020-03-11 03:17:42,556 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698FEB8>
2020-03-11 03:17:42,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:17:42,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,557 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:17:42,558 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:17:42,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:17:42,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,559 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:17:42,559 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:17:42,560 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:17:42,560 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,561 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:17:42,561 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:17:42,561 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:17:42,562 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:17:42,562 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:17:42,562 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:17:42,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698FEB8> checked out from pool
2020-03-11 03:17:42,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:17:42,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,564 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:17:42,564 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:17:42,564 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:17:42,564 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,566 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:17:42,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:17:42,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:17:42,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,567 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:17:42,567 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:17:42,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:17:42,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,568 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:17:42,568 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:17:42,569 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698FEB8> being returned to pool
2020-03-11 03:17:42,569 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698FEB8> rollback-on-return
2020-03-11 03:17:42,571 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F6D8>
2020-03-11 03:17:42,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:17:42,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:17:42,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:17:42,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:17:42,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,574 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:17:42,574 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:17:42,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:17:42,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:17:42,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:17:42,576 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:17:42,576 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:17:42,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:17:42,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:17:42,577 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F6D8> checked out from pool
2020-03-11 03:17:42,577 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:17:42,578 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:17:42,578 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F6D8> being returned to pool
2020-03-11 03:17:42,578 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F6D8> rollback-on-return
2020-03-11 03:17:42,581 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42080>
2020-03-11 03:17:42,582 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:17:42,582 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,583 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:17:42,583 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:17:42,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:17:42,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,584 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:17:42,584 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:17:42,585 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:17:42,585 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,585 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:17:42,585 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:17:42,586 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:17:42,586 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:17:42,587 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:17:42,587 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:17:42,587 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42080> checked out from pool
2020-03-11 03:17:42,587 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:17:42,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:17:42,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:17:42,589 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:17:42,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:17:42,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:17:42,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:17:42,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:17:42,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:17:42,589 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42080> being returned to pool
2020-03-11 03:17:42,589 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42080> rollback-on-return, via agent
2020-03-11 03:17:42,589 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:17:42,589 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002192698F128>, <hospital_test.models.Address object at 0x000002192698F898>, <hospital_test.models.Address object at 0x000002192698F3C8>, <hospital_test.models.Address object at 0x000002192698FE10>, <hospital_test.models.Address object at 0x000002192698FBA8>]}
2020-03-11 03:17:42,592 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F7B8>
2020-03-11 03:17:42,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:17:42,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,593 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:17:42,593 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:17:42,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:17:42,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,595 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:17:42,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:17:42,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:17:42,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:17:42,596 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:17:42,596 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:17:42,597 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:17:42,597 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:17:42,598 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:17:42,598 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:17:42,598 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F7B8> checked out from pool
2020-03-11 03:17:42,598 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:17:42,599 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:17:42,599 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:17:42,599 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:17:42,599 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:17:42,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F7B8> being returned to pool
2020-03-11 03:17:42,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698F7B8> rollback-on-return, via agent
2020-03-11 03:17:42,599 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:17:42,599 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002192698F128>, <hospital_test.models.Address object at 0x000002192698F898>, <hospital_test.models.Address object at 0x000002192698F3C8>, <hospital_test.models.Address object at 0x000002192698FE10>, <hospital_test.models.Address object at 0x000002192698FBA8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002192699B198>]}
2020-03-11 03:18:06,590 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAAAC8>
2020-03-11 03:18:06,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:18:06,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,591 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:18:06,591 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:18:06,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:18:06,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,593 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:18:06,593 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:18:06,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:18:06,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,594 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:18:06,594 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:18:06,595 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:18:06,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:18:06,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:18:06,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:18:06,597 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAAAC8> checked out from pool
2020-03-11 03:18:06,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:18:06,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,598 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:18:06,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:18:06,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:18:06,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,599 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:18:06,599 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:18:06,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:18:06,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,600 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:18:06,600 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:18:06,601 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:18:06,601 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,601 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:18:06,601 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:18:06,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAAAC8> being returned to pool
2020-03-11 03:18:06,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAAAC8> rollback-on-return
2020-03-11 03:18:06,604 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6DD8>
2020-03-11 03:18:06,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:18:06,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,605 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:18:06,605 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:18:06,605 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:18:06,605 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,606 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:18:06,606 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:18:06,607 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:18:06,607 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,607 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:18:06,607 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:18:06,608 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:18:06,608 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:18:06,609 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:18:06,609 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:18:06,609 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6DD8> checked out from pool
2020-03-11 03:18:06,609 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:18:06,610 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:18:06,610 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6DD8> being returned to pool
2020-03-11 03:18:06,610 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6DD8> rollback-on-return
2020-03-11 03:18:06,613 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CED30>
2020-03-11 03:18:06,613 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:18:06,613 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,614 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:18:06,614 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:18:06,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:18:06,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,615 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:18:06,616 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:18:06,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:18:06,616 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,616 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:18:06,617 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:18:06,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:18:06,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:18:06,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:18:06,618 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:18:06,619 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CED30> checked out from pool
2020-03-11 03:18:06,619 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:18:06,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:18:06,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:18:06,620 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:18:06,620 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:18:06,620 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:18:06,620 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:18:06,620 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:18:06,620 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:18:06,620 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CED30> being returned to pool
2020-03-11 03:18:06,621 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269CED30> rollback-on-return, via agent
2020-03-11 03:18:06,621 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:18:06,621 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926CD6DD8>, <hospital_test.models.Address object at 0x0000021926CD6780>, <hospital_test.models.Address object at 0x0000021926CD60B8>, <hospital_test.models.Address object at 0x0000021926CD6160>, <hospital_test.models.Address object at 0x0000021926CD6080>]}
2020-03-11 03:18:06,623 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269867B8>
2020-03-11 03:18:06,623 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:18:06,623 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,624 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:18:06,625 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:18:06,625 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:18:06,625 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,626 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:18:06,626 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:18:06,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:18:06,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:18:06,627 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:18:06,627 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:18:06,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:18:06,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:18:06,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:18:06,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:18:06,629 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269867B8> checked out from pool
2020-03-11 03:18:06,629 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:18:06,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:18:06,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:18:06,630 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:18:06,630 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:18:06,630 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269867B8> being returned to pool
2020-03-11 03:18:06,630 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269867B8> rollback-on-return, via agent
2020-03-11 03:18:06,630 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:18:06,630 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926CD6DD8>, <hospital_test.models.Address object at 0x0000021926CD6780>, <hospital_test.models.Address object at 0x0000021926CD60B8>, <hospital_test.models.Address object at 0x0000021926CD6160>, <hospital_test.models.Address object at 0x0000021926CD6080>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926986940>]}
2020-03-11 03:21:08,241 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD66A0>
2020-03-11 03:21:08,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:08,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,244 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:08,244 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:08,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:08,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,246 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:08,246 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:08,246 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:08,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,247 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:08,247 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:21:08,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:08,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:08,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:08,248 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:08,248 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD66A0> checked out from pool
2020-03-11 03:21:08,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:21:08,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,249 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:21:08,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:21:08,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:21:08,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,251 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:21:08,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:21:08,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:21:08,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,252 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:21:08,252 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:21:08,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:21:08,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,253 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:21:08,253 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:21:08,253 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD66A0> being returned to pool
2020-03-11 03:21:08,253 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD66A0> rollback-on-return
2020-03-11 03:21:08,256 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D25F8>
2020-03-11 03:21:08,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:08,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,257 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:08,257 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:08,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:08,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,259 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:08,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:08,260 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:08,260 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,260 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:08,260 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:21:08,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:08,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:08,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:08,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:08,262 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D25F8> checked out from pool
2020-03-11 03:21:08,262 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:21:08,262 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:21:08,262 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D25F8> being returned to pool
2020-03-11 03:21:08,263 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D25F8> rollback-on-return
2020-03-11 03:21:08,265 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CDA0>
2020-03-11 03:21:08,265 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:08,265 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,266 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:08,266 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:08,267 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:08,267 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,268 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:08,268 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:08,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:08,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,268 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:08,268 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:21:08,269 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:08,269 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:08,270 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:08,270 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:08,270 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CDA0> checked out from pool
2020-03-11 03:21:08,270 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:21:08,271 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:21:08,271 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:21:08,272 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:21:08,272 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:21:08,272 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:21:08,272 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:21:08,272 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:21:08,272 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:21:08,272 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CDA0> being returned to pool
2020-03-11 03:21:08,272 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CDA0> rollback-on-return, via agent
2020-03-11 03:21:08,272 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:21:08,272 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269D25F8>, <hospital_test.models.Address object at 0x00000219269D2B70>, <hospital_test.models.Address object at 0x00000219269D2F98>, <hospital_test.models.Address object at 0x00000219269D2F28>, <hospital_test.models.Address object at 0x00000219269D2048>]}
2020-03-11 03:21:08,275 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CC3EF0>
2020-03-11 03:21:08,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:08,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,276 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:08,277 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:08,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:08,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,278 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:08,279 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:08,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:08,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:08,280 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:08,280 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:21:08,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:08,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:08,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:08,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:08,281 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CC3EF0> checked out from pool
2020-03-11 03:21:08,282 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:21:08,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:21:08,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:21:08,283 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:21:08,283 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:21:08,283 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CC3EF0> being returned to pool
2020-03-11 03:21:08,283 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CC3EF0> rollback-on-return, via agent
2020-03-11 03:21:08,283 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:21:08,283 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269D25F8>, <hospital_test.models.Address object at 0x00000219269D2B70>, <hospital_test.models.Address object at 0x00000219269D2F98>, <hospital_test.models.Address object at 0x00000219269D2F28>, <hospital_test.models.Address object at 0x00000219269D2048>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926EAA278>]}
2020-03-11 03:21:54,521 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986B38>
2020-03-11 03:21:54,521 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:54,521 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,523 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:54,523 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:54,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:54,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,524 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:54,524 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:54,525 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:54,525 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,525 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:54,525 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:21:54,526 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:54,526 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:54,527 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:54,527 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:54,527 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986B38> checked out from pool
2020-03-11 03:21:54,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:21:54,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,528 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:21:54,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:21:54,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:21:54,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,530 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:21:54,530 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:21:54,530 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:21:54,530 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,531 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:21:54,531 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:21:54,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:21:54,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,532 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:21:54,532 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:21:54,533 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986B38> being returned to pool
2020-03-11 03:21:54,533 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926986B38> rollback-on-return
2020-03-11 03:21:54,535 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA518>
2020-03-11 03:21:54,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:54,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,536 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:54,536 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:54,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:54,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,538 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:54,538 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:54,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:54,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,539 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:54,539 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:21:54,540 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:54,540 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:54,541 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:54,541 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:54,541 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA518> checked out from pool
2020-03-11 03:21:54,541 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:21:54,542 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:21:54,542 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA518> being returned to pool
2020-03-11 03:21:54,542 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA518> rollback-on-return
2020-03-11 03:21:54,545 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7278>
2020-03-11 03:21:54,546 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:54,546 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:54,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:54,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:54,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,548 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:54,548 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:54,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:54,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,549 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:54,549 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:21:54,550 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:54,550 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:54,551 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:54,551 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:54,551 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7278> checked out from pool
2020-03-11 03:21:54,552 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:21:54,552 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:21:54,552 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:21:54,553 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:21:54,553 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:21:54,553 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:21:54,553 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:21:54,553 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:21:54,553 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:21:54,553 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7278> being returned to pool
2020-03-11 03:21:54,553 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7278> rollback-on-return, via agent
2020-03-11 03:21:54,553 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:21:54,554 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002192697DE10>, <hospital_test.models.Address object at 0x000002192697DB70>, <hospital_test.models.Address object at 0x000002192697D048>, <hospital_test.models.Address object at 0x000002192697DDA0>, <hospital_test.models.Address object at 0x000002192697DF28>]}
2020-03-11 03:21:54,557 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7EF60>
2020-03-11 03:21:54,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:54,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,559 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:54,559 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:54,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:54,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,560 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:54,560 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:54,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:54,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:54,561 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:54,561 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:21:54,562 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:54,562 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:54,563 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:54,563 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:54,563 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7EF60> checked out from pool
2020-03-11 03:21:54,563 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:21:54,564 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:21:54,564 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:21:54,564 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:21:54,564 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:21:54,564 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7EF60> being returned to pool
2020-03-11 03:21:54,564 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7EF60> rollback-on-return, via agent
2020-03-11 03:21:54,564 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:21:54,565 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002192697DE10>, <hospital_test.models.Address object at 0x000002192697DB70>, <hospital_test.models.Address object at 0x000002192697D048>, <hospital_test.models.Address object at 0x000002192697DDA0>, <hospital_test.models.Address object at 0x000002192697DF28>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269D7CC0>]}
2020-03-11 03:21:57,678 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BBE10>
2020-03-11 03:21:57,678 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:21:57,678 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:57,679 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:57,680 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:21:57,680 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:21:57,680 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:57,681 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:21:57,681 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:21:57,682 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:21:57,682 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:21:57,682 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:21:57,682 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:21:57,683 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:57,683 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:57,684 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:21:57,684 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:21:57,684 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BBE10> checked out from pool
2020-03-11 03:21:57,684 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:21:57,685 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:21:57,685 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:21:57,685 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:21:57,685 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:21:57,685 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:21:57,686 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:21:57,686 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:21:57,686 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:21:57,686 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BBE10> being returned to pool
2020-03-11 03:21:57,686 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BBE10> rollback-on-return, via agent
2020-03-11 03:21:57,686 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:21:57,686 root:INFO:views:save_addr:MainProcess:9692:{'status': 'fail', 'message': '每位患者最多保存5个地址！'}
2020-03-11 03:22:04,465 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9860>
2020-03-11 03:22:04,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:22:04,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,466 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:04,466 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:22:04,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:22:04,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,467 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:04,467 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:22:04,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:22:04,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,468 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:22:04,468 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:22:04,469 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:04,469 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:04,470 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:04,470 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:04,470 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9860> checked out from pool
2020-03-11 03:22:04,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:22:04,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,471 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:22:04,471 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:22:04,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:22:04,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,473 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:22:04,473 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:22:04,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:22:04,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,474 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:22:04,474 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:22:04,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:22:04,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,475 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:22:04,475 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:22:04,475 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9860> being returned to pool
2020-03-11 03:22:04,475 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9860> rollback-on-return
2020-03-11 03:22:04,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A7F0>
2020-03-11 03:22:04,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:22:04,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,479 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:04,479 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:22:04,480 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:22:04,480 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,481 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:04,481 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:22:04,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:22:04,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,481 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:22:04,481 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:22:04,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:04,482 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:04,483 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:04,483 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:04,483 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A7F0> checked out from pool
2020-03-11 03:22:04,484 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:22:04,484 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:22:04,484 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A7F0> being returned to pool
2020-03-11 03:22:04,484 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A7F0> rollback-on-return
2020-03-11 03:22:04,486 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192697AE80>
2020-03-11 03:22:04,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:22:04,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:04,488 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:22:04,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:22:04,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,490 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:04,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:22:04,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:22:04,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,491 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:22:04,491 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:22:04,492 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:04,492 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:04,492 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:04,492 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:04,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697AE80> checked out from pool
2020-03-11 03:22:04,493 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:22:04,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:22:04,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:22:04,495 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:22:04,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:22:04,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:22:04,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:22:04,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:22:04,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:22:04,495 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697AE80> being returned to pool
2020-03-11 03:22:04,495 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697AE80> rollback-on-return, via agent
2020-03-11 03:22:04,495 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:22:04,496 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002192697AF60>, <hospital_test.models.Address object at 0x000002192697A1D0>, <hospital_test.models.Address object at 0x000002192697A518>, <hospital_test.models.Address object at 0x000002192697A470>, <hospital_test.models.Address object at 0x000002192697ACC0>]}
2020-03-11 03:22:04,498 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997860>
2020-03-11 03:22:04,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:22:04,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,499 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:04,500 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:22:04,500 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:22:04,500 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,501 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:04,501 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:22:04,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:22:04,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:04,502 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:22:04,502 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:22:04,503 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:04,503 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:04,503 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:04,503 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:04,504 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997860> checked out from pool
2020-03-11 03:22:04,504 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:22:04,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:22:04,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:22:04,505 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:22:04,505 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:22:04,505 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997860> being returned to pool
2020-03-11 03:22:04,505 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997860> rollback-on-return, via agent
2020-03-11 03:22:04,505 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:22:04,505 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002192697AF60>, <hospital_test.models.Address object at 0x000002192697A1D0>, <hospital_test.models.Address object at 0x000002192697A518>, <hospital_test.models.Address object at 0x000002192697A470>, <hospital_test.models.Address object at 0x000002192697ACC0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269EC518>]}
2020-03-11 03:22:48,086 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E61DA0>
2020-03-11 03:22:48,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:22:48,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:48,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:48,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:22:48,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:22:48,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:48,089 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:22:48,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:22:48,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:22:48,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:22:48,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:22:48,090 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:22:48,091 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:48,091 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:48,092 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:22:48,092 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:22:48,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E61DA0> checked out from pool
2020-03-11 03:22:48,092 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:22:48,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:22:48,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:22:48,094 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:22:48,094 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:22:48,094 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:22:48,094 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:22:48,094 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:22:48,094 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:22:48,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E61DA0> being returned to pool
2020-03-11 03:22:48,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E61DA0> rollback-on-return, via agent
2020-03-11 03:22:48,094 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:22:48,094 root:INFO:views:save_addr:MainProcess:9692:{'status': 'fail', 'message': '每位患者最多保存5个地址！'}
2020-03-11 03:23:14,678 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269772B0>
2020-03-11 03:23:14,678 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:23:14,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,680 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:14,681 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:23:14,681 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:23:14,681 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,682 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:14,683 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:23:14,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:23:14,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,684 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:23:14,684 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:23:14,685 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:14,685 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:14,685 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:14,686 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:14,686 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269772B0> checked out from pool
2020-03-11 03:23:14,686 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:23:14,686 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,687 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:23:14,687 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:23:14,687 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:23:14,687 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,689 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:23:14,689 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:23:14,689 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:23:14,689 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,690 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:23:14,691 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:23:14,691 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:23:14,691 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,693 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:23:14,693 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:23:14,693 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269772B0> being returned to pool
2020-03-11 03:23:14,693 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269772B0> rollback-on-return
2020-03-11 03:23:14,696 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6D30>
2020-03-11 03:23:14,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:23:14,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,699 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:14,699 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:23:14,699 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:23:14,699 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,701 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:14,701 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:23:14,702 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:23:14,702 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,702 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:23:14,702 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:23:14,703 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:14,703 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:14,704 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:14,704 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:14,704 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6D30> checked out from pool
2020-03-11 03:23:14,705 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:23:14,705 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:23:14,706 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6D30> being returned to pool
2020-03-11 03:23:14,706 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CD6D30> rollback-on-return
2020-03-11 03:23:14,710 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42940>
2020-03-11 03:23:14,711 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:23:14,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,713 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:14,713 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:23:14,714 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:23:14,714 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,715 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:14,715 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:23:14,716 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:23:14,716 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,716 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:23:14,716 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:23:14,717 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:14,717 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:14,718 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:14,718 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:14,718 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42940> checked out from pool
2020-03-11 03:23:14,718 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:23:14,719 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:23:14,719 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:23:14,720 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:23:14,720 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:23:14,720 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:23:14,720 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:23:14,720 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:23:14,720 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:23:14,721 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42940> being returned to pool
2020-03-11 03:23:14,721 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42940> rollback-on-return, via agent
2020-03-11 03:23:14,721 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:23:14,721 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926CD6550>, <hospital_test.models.Address object at 0x0000021926CD60B8>, <hospital_test.models.Address object at 0x0000021926CD6F28>, <hospital_test.models.Address object at 0x0000021926CD6160>, <hospital_test.models.Address object at 0x0000021926CD6390>]}
2020-03-11 03:23:14,724 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42048>
2020-03-11 03:23:14,726 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:23:14,726 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,728 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:14,728 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:23:14,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:23:14,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,730 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:14,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:23:14,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:23:14,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:14,731 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:23:14,731 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:23:14,732 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:14,732 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:14,733 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:14,733 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:14,733 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42048> checked out from pool
2020-03-11 03:23:14,733 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:23:14,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:23:14,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:23:14,735 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:23:14,735 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:23:14,735 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42048> being returned to pool
2020-03-11 03:23:14,735 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42048> rollback-on-return, via agent
2020-03-11 03:23:14,735 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:23:14,735 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926CD6550>, <hospital_test.models.Address object at 0x0000021926CD60B8>, <hospital_test.models.Address object at 0x0000021926CD6F28>, <hospital_test.models.Address object at 0x0000021926CD6160>, <hospital_test.models.Address object at 0x0000021926CD6390>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926E6EC88>]}
2020-03-11 03:23:58,212 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E66A58>
2020-03-11 03:23:58,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:23:58,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,214 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:58,214 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:23:58,214 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:23:58,214 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,216 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:58,216 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:23:58,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:23:58,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:23:58,217 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:23:58,217 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:58,217 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:58,218 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:58,218 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:58,218 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E66A58> checked out from pool
2020-03-11 03:23:58,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:23:58,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:23:58,221 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:23:58,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:23:58,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:23:58,223 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:23:58,223 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:23:58,223 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,224 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:23:58,225 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:23:58,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:23:58,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,226 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:23:58,226 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:23:58,226 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E66A58> being returned to pool
2020-03-11 03:23:58,226 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E66A58> rollback-on-return
2020-03-11 03:23:58,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2710>
2020-03-11 03:23:58,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:23:58,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,230 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:58,231 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:23:58,231 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:23:58,231 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,232 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:58,232 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:23:58,233 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:23:58,233 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,233 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:23:58,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:23:58,234 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:58,234 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:58,235 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:58,235 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:58,235 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2710> checked out from pool
2020-03-11 03:23:58,235 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:23:58,236 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:23:58,236 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2710> being returned to pool
2020-03-11 03:23:58,236 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2710> rollback-on-return
2020-03-11 03:23:58,239 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3470>
2020-03-11 03:23:58,239 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:23:58,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,242 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:58,242 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:23:58,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:23:58,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:58,244 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:23:58,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:23:58,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,245 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:23:58,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:23:58,246 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:58,246 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:58,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:58,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:58,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3470> checked out from pool
2020-03-11 03:23:58,247 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:23:58,248 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:23:58,248 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:23:58,249 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:23:58,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:23:58,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:23:58,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:23:58,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:23:58,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:23:58,249 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3470> being returned to pool
2020-03-11 03:23:58,249 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3470> rollback-on-return, via agent
2020-03-11 03:23:58,250 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:23:58,250 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E66C50>, <hospital_test.models.Address object at 0x0000021926E66128>, <hospital_test.models.Address object at 0x0000021926E66B38>, <hospital_test.models.Address object at 0x0000021926E660F0>, <hospital_test.models.Address object at 0x00000219269E2A20>]}
2020-03-11 03:23:58,252 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2EF0>
2020-03-11 03:23:58,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:23:58,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,255 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:58,255 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:23:58,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:23:58,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,257 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:23:58,257 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:23:58,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:23:58,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:23:58,258 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:23:58,258 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:23:58,260 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:58,260 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:58,260 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:23:58,260 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:23:58,261 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2EF0> checked out from pool
2020-03-11 03:23:58,261 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:23:58,261 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:23:58,261 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:23:58,262 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:23:58,262 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:23:58,262 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2EF0> being returned to pool
2020-03-11 03:23:58,262 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269E2EF0> rollback-on-return, via agent
2020-03-11 03:23:58,262 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:23:58,262 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E66C50>, <hospital_test.models.Address object at 0x0000021926E66128>, <hospital_test.models.Address object at 0x0000021926E66B38>, <hospital_test.models.Address object at 0x0000021926E660F0>, <hospital_test.models.Address object at 0x00000219269E2A20>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002192697DA58>]}
2020-03-11 03:25:56,028 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995128>
2020-03-11 03:25:56,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:25:56,029 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,030 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:25:56,030 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:25:56,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:25:56,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,032 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:25:56,032 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:25:56,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:25:56,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,032 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:25:56,033 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:25:56,033 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:25:56,033 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:25:56,034 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:25:56,034 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:25:56,034 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995128> checked out from pool
2020-03-11 03:25:56,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:25:56,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,036 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:25:56,036 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:25:56,036 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:25:56,036 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,038 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:25:56,038 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:25:56,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:25:56,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,040 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:25:56,040 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:25:56,040 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:25:56,041 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,041 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:25:56,041 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:25:56,042 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995128> being returned to pool
2020-03-11 03:25:56,042 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995128> rollback-on-return
2020-03-11 03:25:56,044 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6EC18>
2020-03-11 03:25:56,044 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:25:56,044 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,045 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:25:56,045 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:25:56,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:25:56,046 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,047 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:25:56,047 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:25:56,048 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:25:56,048 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,048 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:25:56,048 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:25:56,049 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:25:56,049 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:25:56,050 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:25:56,050 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:25:56,050 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6EC18> checked out from pool
2020-03-11 03:25:56,051 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:25:56,051 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:25:56,051 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6EC18> being returned to pool
2020-03-11 03:25:56,051 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E6EC18> rollback-on-return
2020-03-11 03:25:56,054 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC32E8>
2020-03-11 03:25:56,055 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:25:56,055 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,057 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:25:56,057 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:25:56,058 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:25:56,058 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,059 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:25:56,059 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:25:56,060 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:25:56,060 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,060 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:25:56,060 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:25:56,061 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:25:56,061 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:25:56,062 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:25:56,062 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:25:56,062 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC32E8> checked out from pool
2020-03-11 03:25:56,062 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:25:56,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:25:56,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:25:56,064 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:25:56,064 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:25:56,064 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:25:56,064 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:25:56,064 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:25:56,064 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:25:56,064 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC32E8> being returned to pool
2020-03-11 03:25:56,064 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC32E8> rollback-on-return, via agent
2020-03-11 03:25:56,064 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:25:56,065 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269CED30>, <hospital_test.models.Address object at 0x00000219269CE710>, <hospital_test.models.Address object at 0x0000021926E6ECF8>, <hospital_test.models.Address object at 0x0000021926E6E518>, <hospital_test.models.Address object at 0x0000021926E6EC88>]}
2020-03-11 03:25:56,067 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3828>
2020-03-11 03:25:56,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:25:56,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,069 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:25:56,069 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:25:56,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:25:56,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,071 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:25:56,071 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:25:56,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:25:56,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:25:56,072 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:25:56,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:25:56,073 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:25:56,073 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:25:56,074 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:25:56,074 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:25:56,074 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3828> checked out from pool
2020-03-11 03:25:56,074 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:25:56,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:25:56,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:25:56,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:25:56,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:25:56,075 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3828> being returned to pool
2020-03-11 03:25:56,075 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3828> rollback-on-return, via agent
2020-03-11 03:25:56,075 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:25:56,076 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269CED30>, <hospital_test.models.Address object at 0x00000219269CE710>, <hospital_test.models.Address object at 0x0000021926E6ECF8>, <hospital_test.models.Address object at 0x0000021926E6E518>, <hospital_test.models.Address object at 0x0000021926E6EC88>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269B7B38>]}
2020-03-11 03:26:12,406 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E66550>
2020-03-11 03:26:12,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:12,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:12,407 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:12,407 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:12,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:12,408 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:12,408 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:12,408 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:12,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:12,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:12,409 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:12,410 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:26:12,410 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:12,411 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:12,411 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:12,411 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:12,411 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E66550> checked out from pool
2020-03-11 03:26:12,412 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:26:12,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:26:12,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:26:12,413 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:26:12,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:26:12,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:26:12,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:26:12,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:26:12,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:26:12,413 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E66550> being returned to pool
2020-03-11 03:26:12,413 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E66550> rollback-on-return, via agent
2020-03-11 03:26:12,413 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:26:12,414 root:INFO:views:save_addr:MainProcess:9692:{'status': 'fail', 'message': '每位患者最多保存5个地址！'}
2020-03-11 03:26:16,099 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAADD8>
2020-03-11 03:26:16,100 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:16,100 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,101 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:16,101 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:16,102 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:16,102 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,103 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:16,103 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:16,104 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:16,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,105 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:16,105 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:26:16,106 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:16,106 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:16,107 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:16,107 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:16,107 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAADD8> checked out from pool
2020-03-11 03:26:16,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:26:16,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,109 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:26:16,109 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:26:16,109 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:26:16,109 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,112 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:26:16,112 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:26:16,112 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:26:16,112 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,114 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:26:16,114 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:26:16,115 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:26:16,115 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,116 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:26:16,116 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:26:16,116 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAADD8> being returned to pool
2020-03-11 03:26:16,116 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAADD8> rollback-on-return
2020-03-11 03:26:16,118 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990DD8>
2020-03-11 03:26:16,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:16,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,121 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:16,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:16,122 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:16,122 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,123 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:16,124 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:16,124 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:16,125 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,125 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:16,125 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:26:16,126 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:16,126 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:16,126 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:16,127 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:16,127 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990DD8> checked out from pool
2020-03-11 03:26:16,127 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:26:16,128 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:26:16,128 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990DD8> being returned to pool
2020-03-11 03:26:16,128 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990DD8> rollback-on-return
2020-03-11 03:26:16,130 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEF60>
2020-03-11 03:26:16,131 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:16,131 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,132 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:16,132 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:16,132 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:16,132 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,133 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:16,133 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:16,134 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:16,134 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,135 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:16,135 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:26:16,136 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:16,136 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:16,136 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:16,136 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:16,137 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEF60> checked out from pool
2020-03-11 03:26:16,137 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:26:16,138 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:26:16,138 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:26:16,139 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:26:16,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:26:16,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:26:16,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:26:16,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:26:16,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:26:16,139 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEF60> being returned to pool
2020-03-11 03:26:16,140 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEF60> rollback-on-return, via agent
2020-03-11 03:26:16,140 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:26:16,140 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269B7D68>, <hospital_test.models.Address object at 0x0000021926D6B0B8>, <hospital_test.models.Address object at 0x0000021926990240>, <hospital_test.models.Address object at 0x00000219269904E0>, <hospital_test.models.Address object at 0x0000021926990F98>]}
2020-03-11 03:26:16,143 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990400>
2020-03-11 03:26:16,144 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:16,144 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,145 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:16,145 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:16,145 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:16,145 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,146 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:16,147 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:16,147 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:16,147 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:16,148 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:16,148 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:26:16,149 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:16,149 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:16,149 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:16,149 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:16,150 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990400> checked out from pool
2020-03-11 03:26:16,150 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:26:16,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:26:16,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:26:16,151 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:26:16,151 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:26:16,151 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990400> being returned to pool
2020-03-11 03:26:16,151 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926990400> rollback-on-return, via agent
2020-03-11 03:26:16,151 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:26:16,151 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269B7D68>, <hospital_test.models.Address object at 0x0000021926D6B0B8>, <hospital_test.models.Address object at 0x0000021926990240>, <hospital_test.models.Address object at 0x00000219269904E0>, <hospital_test.models.Address object at 0x0000021926990F98>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926CD6080>]}
2020-03-11 03:26:25,016 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EEE10>
2020-03-11 03:26:25,017 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:25,017 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,021 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:25,022 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:25,022 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:25,022 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,025 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:25,025 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:25,026 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:25,026 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,026 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:25,027 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:26:25,028 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:25,028 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:25,029 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:25,029 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:25,029 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EEE10> checked out from pool
2020-03-11 03:26:25,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:26:25,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,031 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:26:25,032 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:26:25,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:26:25,032 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,036 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:26:25,036 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:26:25,037 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:26:25,037 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,039 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:26:25,039 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:26:25,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:26:25,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,041 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:26:25,041 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:26:25,041 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EEE10> being returned to pool
2020-03-11 03:26:25,041 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EEE10> rollback-on-return
2020-03-11 03:26:25,044 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EE9B0>
2020-03-11 03:26:25,045 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:25,045 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,047 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:25,047 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:25,047 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:25,047 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,050 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:25,050 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:25,051 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:25,051 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,052 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:25,052 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:26:25,053 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:25,053 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:25,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:25,055 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:25,055 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EE9B0> checked out from pool
2020-03-11 03:26:25,056 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:26:25,058 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:26:25,058 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EE9B0> being returned to pool
2020-03-11 03:26:25,058 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EE9B0> rollback-on-return
2020-03-11 03:26:25,062 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980160>
2020-03-11 03:26:25,062 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:25,062 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,064 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:25,064 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:25,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:25,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,066 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:25,067 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:25,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:25,068 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,068 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:25,068 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:26:25,069 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:25,069 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:25,071 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:25,071 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:25,073 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980160> checked out from pool
2020-03-11 03:26:25,073 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:26:25,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:26:25,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:26:25,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:26:25,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:26:25,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:26:25,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:26:25,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:26:25,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:26:25,078 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980160> being returned to pool
2020-03-11 03:26:25,078 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980160> rollback-on-return, via agent
2020-03-11 03:26:25,078 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:26:25,078 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269EE0F0>, <hospital_test.models.Address object at 0x00000219269EECC0>, <hospital_test.models.Address object at 0x00000219269EE630>, <hospital_test.models.Address object at 0x00000219269EE8D0>, <hospital_test.models.Address object at 0x00000219269EE5C0>]}
2020-03-11 03:26:25,082 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EE908>
2020-03-11 03:26:25,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:26:25,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,084 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:25,084 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:26:25,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:26:25,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,086 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:26:25,086 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:26:25,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:26:25,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:26:25,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:26:25,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:26:25,089 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:25,089 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:25,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:26:25,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:26:25,090 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EE908> checked out from pool
2020-03-11 03:26:25,091 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:26:25,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:26:25,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:26:25,092 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:26:25,092 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:26:25,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EE908> being returned to pool
2020-03-11 03:26:25,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269EE908> rollback-on-return, via agent
2020-03-11 03:26:25,092 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:26:25,092 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269EE0F0>, <hospital_test.models.Address object at 0x00000219269EECC0>, <hospital_test.models.Address object at 0x00000219269EE630>, <hospital_test.models.Address object at 0x00000219269EE8D0>, <hospital_test.models.Address object at 0x00000219269EE5C0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926986AC8>]}
2020-03-11 03:28:03,442 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA5F8>
2020-03-11 03:28:03,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:28:03,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,444 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:03,444 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:28:03,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:28:03,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,445 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:03,445 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:28:03,446 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:28:03,446 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,446 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:28:03,446 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:28:03,447 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:03,447 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:03,447 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:03,447 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:03,448 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA5F8> checked out from pool
2020-03-11 03:28:03,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:28:03,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,449 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:28:03,449 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:28:03,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:28:03,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,451 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:28:03,451 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:28:03,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:28:03,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,452 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:28:03,452 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:28:03,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:28:03,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,454 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:28:03,454 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:28:03,454 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA5F8> being returned to pool
2020-03-11 03:28:03,454 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA5F8> rollback-on-return
2020-03-11 03:28:03,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CF28>
2020-03-11 03:28:03,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:28:03,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,458 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:03,458 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:28:03,459 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:28:03,459 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,460 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:03,460 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:28:03,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:28:03,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,461 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:28:03,461 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:28:03,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:03,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:03,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:03,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:03,463 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CF28> checked out from pool
2020-03-11 03:28:03,463 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:28:03,463 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:28:03,464 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CF28> being returned to pool
2020-03-11 03:28:03,464 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192696CF28> rollback-on-return
2020-03-11 03:28:03,466 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2B38>
2020-03-11 03:28:03,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:28:03,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,468 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:03,469 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:28:03,469 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:28:03,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,472 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:03,472 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:28:03,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:28:03,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,473 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:28:03,473 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:28:03,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:03,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:03,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:03,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:03,475 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2B38> checked out from pool
2020-03-11 03:28:03,475 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:28:03,475 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:28:03,475 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:28:03,476 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:28:03,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:28:03,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:28:03,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:28:03,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:28:03,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:28:03,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2B38> being returned to pool
2020-03-11 03:28:03,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2B38> rollback-on-return, via agent
2020-03-11 03:28:03,477 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:28:03,477 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EB9240>, <hospital_test.models.Address object at 0x0000021926EB9048>, <hospital_test.models.Address object at 0x0000021926EB94E0>, <hospital_test.models.Address object at 0x0000021926EB9668>, <hospital_test.models.Address object at 0x0000021926EB9748>]}
2020-03-11 03:28:03,479 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB92B0>
2020-03-11 03:28:03,480 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:28:03,480 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,481 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:03,481 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:28:03,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:28:03,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,482 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:03,483 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:28:03,483 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:28:03,483 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:03,484 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:28:03,484 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:28:03,485 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:03,485 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:03,486 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:03,486 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:03,487 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB92B0> checked out from pool
2020-03-11 03:28:03,487 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:28:03,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:28:03,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:28:03,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:28:03,488 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:28:03,488 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB92B0> being returned to pool
2020-03-11 03:28:03,488 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB92B0> rollback-on-return, via agent
2020-03-11 03:28:03,488 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:28:03,488 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EB9240>, <hospital_test.models.Address object at 0x0000021926EB9048>, <hospital_test.models.Address object at 0x0000021926EB94E0>, <hospital_test.models.Address object at 0x0000021926EB9668>, <hospital_test.models.Address object at 0x0000021926EB9748>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002192697DA58>]}
2020-03-11 03:28:37,200 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999DA0>
2020-03-11 03:28:37,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:28:37,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,203 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:37,203 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:28:37,203 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:28:37,203 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,205 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:37,205 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:28:37,205 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:28:37,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,206 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:28:37,206 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:28:37,207 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:37,207 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:37,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:37,208 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:37,208 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999DA0> checked out from pool
2020-03-11 03:28:37,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:28:37,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,209 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:28:37,209 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:28:37,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:28:37,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,211 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:28:37,212 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:28:37,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:28:37,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,213 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:28:37,213 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:28:37,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:28:37,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,214 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:28:37,214 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:28:37,214 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999DA0> being returned to pool
2020-03-11 03:28:37,214 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926999DA0> rollback-on-return
2020-03-11 03:28:37,215 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E669E8>
2020-03-11 03:28:37,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:28:37,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,217 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:37,217 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:28:37,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:28:37,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,219 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:37,219 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:28:37,219 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:28:37,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:28:37,220 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:28:37,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:37,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:37,221 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:37,222 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:37,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E669E8> checked out from pool
2020-03-11 03:28:37,222 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:28:37,223 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:28:37,223 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E669E8> being returned to pool
2020-03-11 03:28:37,223 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E669E8> rollback-on-return
2020-03-11 03:28:37,225 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A4E0>
2020-03-11 03:28:37,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:28:37,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,226 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:37,226 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:28:37,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:28:37,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,228 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:37,228 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:28:37,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:28:37,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:28:37,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:28:37,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:37,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:37,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:37,231 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:37,231 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A4E0> checked out from pool
2020-03-11 03:28:37,231 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:28:37,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:28:37,232 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:28:37,233 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:28:37,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:28:37,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:28:37,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:28:37,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:28:37,233 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:28:37,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A4E0> being returned to pool
2020-03-11 03:28:37,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A4E0> rollback-on-return, via agent
2020-03-11 03:28:37,233 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:28:37,234 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E667F0>, <hospital_test.models.Address object at 0x0000021926E66DA0>, <hospital_test.models.Address object at 0x0000021926E66A58>, <hospital_test.models.Address object at 0x000002192697A978>, <hospital_test.models.Address object at 0x000002192697AFD0>]}
2020-03-11 03:28:37,237 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A6A0>
2020-03-11 03:28:37,238 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:28:37,238 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,239 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:37,239 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:28:37,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:28:37,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,240 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:28:37,241 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:28:37,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:28:37,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:28:37,242 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:28:37,242 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:28:37,242 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:37,243 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:37,243 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:28:37,243 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:28:37,243 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A6A0> checked out from pool
2020-03-11 03:28:37,244 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:28:37,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:28:37,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:28:37,245 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:28:37,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:28:37,245 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A6A0> being returned to pool
2020-03-11 03:28:37,245 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A6A0> rollback-on-return, via agent
2020-03-11 03:28:37,245 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:28:37,245 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E667F0>, <hospital_test.models.Address object at 0x0000021926E66DA0>, <hospital_test.models.Address object at 0x0000021926E66A58>, <hospital_test.models.Address object at 0x000002192697A978>, <hospital_test.models.Address object at 0x000002192697AFD0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269BB780>]}
2020-03-11 03:31:11,504 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A940>
2020-03-11 03:31:11,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:31:11,505 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,506 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:31:11,506 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:31:11,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:31:11,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,508 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:31:11,508 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:31:11,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:31:11,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,509 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:31:11,509 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:31:11,510 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:31:11,510 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:31:11,511 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:31:11,511 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:31:11,511 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A940> checked out from pool
2020-03-11 03:31:11,511 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:31:11,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,512 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:31:11,512 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:31:11,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:31:11,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,514 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:31:11,514 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:31:11,514 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:31:11,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,515 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:31:11,515 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:31:11,516 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:31:11,516 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,516 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:31:11,517 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:31:11,517 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A940> being returned to pool
2020-03-11 03:31:11,517 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192697A940> rollback-on-return
2020-03-11 03:31:11,519 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D429B0>
2020-03-11 03:31:11,519 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:31:11,519 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,520 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:31:11,520 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:31:11,521 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:31:11,521 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,521 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:31:11,522 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:31:11,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:31:11,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,522 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:31:11,522 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:31:11,523 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:31:11,523 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:31:11,524 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:31:11,524 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:31:11,524 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D429B0> checked out from pool
2020-03-11 03:31:11,525 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:31:11,525 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:31:11,525 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D429B0> being returned to pool
2020-03-11 03:31:11,525 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D429B0> rollback-on-return
2020-03-11 03:31:11,527 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7438>
2020-03-11 03:31:11,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:31:11,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,529 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:31:11,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:31:11,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:31:11,530 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,531 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:31:11,531 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:31:11,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:31:11,532 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,532 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:31:11,532 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:31:11,534 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:31:11,534 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:31:11,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:31:11,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:31:11,535 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7438> checked out from pool
2020-03-11 03:31:11,535 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:31:11,536 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:31:11,536 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:31:11,537 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:31:11,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:31:11,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:31:11,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:31:11,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:31:11,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:31:11,537 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7438> being returned to pool
2020-03-11 03:31:11,537 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7438> rollback-on-return, via agent
2020-03-11 03:31:11,537 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:31:11,537 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926D42668>, <hospital_test.models.Address object at 0x0000021926D42940>, <hospital_test.models.Address object at 0x0000021926D42D68>, <hospital_test.models.Address object at 0x000002192699BCC0>, <hospital_test.models.Address object at 0x000002192699B5C0>]}
2020-03-11 03:31:11,540 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192699B710>
2020-03-11 03:31:11,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:31:11,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,542 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:31:11,542 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:31:11,542 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:31:11,542 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,543 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:31:11,543 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:31:11,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:31:11,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:31:11,544 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:31:11,544 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:31:11,545 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:31:11,545 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:31:11,546 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:31:11,546 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:31:11,546 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699B710> checked out from pool
2020-03-11 03:31:11,546 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:31:11,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:31:11,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:31:11,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:31:11,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:31:11,548 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699B710> being returned to pool
2020-03-11 03:31:11,548 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699B710> rollback-on-return, via agent
2020-03-11 03:31:11,548 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:31:11,548 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926D42668>, <hospital_test.models.Address object at 0x0000021926D42940>, <hospital_test.models.Address object at 0x0000021926D42D68>, <hospital_test.models.Address object at 0x000002192699BCC0>, <hospital_test.models.Address object at 0x000002192699B5C0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002192699B358>]}
2020-03-11 03:32:55,939 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269959E8>
2020-03-11 03:32:55,939 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:32:55,939 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,942 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:32:55,942 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:32:55,942 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:32:55,942 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,942 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:32:55,942 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:32:55,943 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:32:55,943 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,944 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:32:55,944 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:32:55,945 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:32:55,945 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:32:55,945 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:32:55,945 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:32:55,946 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269959E8> checked out from pool
2020-03-11 03:32:55,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:32:55,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,947 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:32:55,947 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:32:55,947 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:32:55,947 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,949 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:32:55,949 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:32:55,950 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:32:55,950 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,950 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:32:55,951 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:32:55,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:32:55,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,952 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:32:55,952 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:32:55,952 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269959E8> being returned to pool
2020-03-11 03:32:55,952 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269959E8> rollback-on-return
2020-03-11 03:32:55,954 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CCC0>
2020-03-11 03:32:55,954 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:32:55,954 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,956 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:32:55,956 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:32:55,956 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:32:55,956 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,957 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:32:55,957 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:32:55,957 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:32:55,957 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,957 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:32:55,958 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:32:55,958 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:32:55,959 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:32:55,959 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:32:55,959 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:32:55,960 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CCC0> checked out from pool
2020-03-11 03:32:55,960 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:32:55,960 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:32:55,960 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CCC0> being returned to pool
2020-03-11 03:32:55,960 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698CCC0> rollback-on-return
2020-03-11 03:32:55,963 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFC5F8>
2020-03-11 03:32:55,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:32:55,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,965 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:32:55,965 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:32:55,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:32:55,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:32:55,967 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:32:55,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:32:55,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:32:55,967 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:32:55,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:32:55,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:32:55,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:32:55,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:32:55,969 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFC5F8> checked out from pool
2020-03-11 03:32:55,970 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:32:55,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:32:55,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:32:55,971 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:32:55,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:32:55,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:32:55,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:32:55,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:32:55,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:32:55,972 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFC5F8> being returned to pool
2020-03-11 03:32:55,972 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFC5F8> rollback-on-return, via agent
2020-03-11 03:32:55,972 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:32:55,972 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926980208>, <hospital_test.models.Address object at 0x0000021926980860>, <hospital_test.models.Address object at 0x0000021926980EB8>, <hospital_test.models.Address object at 0x0000021926980E48>, <hospital_test.models.Address object at 0x0000021926980E80>]}
2020-03-11 03:32:55,974 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58BE0>
2020-03-11 03:32:55,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:32:55,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,976 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:32:55,976 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:32:55,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:32:55,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,977 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:32:55,978 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:32:55,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:32:55,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:32:55,978 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:32:55,978 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:32:55,979 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:32:55,979 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:32:55,982 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:32:55,982 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:32:55,982 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58BE0> checked out from pool
2020-03-11 03:32:55,982 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:32:55,982 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:32:55,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:32:55,983 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:32:55,983 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:32:55,983 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58BE0> being returned to pool
2020-03-11 03:32:55,983 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926B58BE0> rollback-on-return, via agent
2020-03-11 03:32:55,983 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:32:55,983 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926980208>, <hospital_test.models.Address object at 0x0000021926980860>, <hospital_test.models.Address object at 0x0000021926980EB8>, <hospital_test.models.Address object at 0x0000021926980E48>, <hospital_test.models.Address object at 0x0000021926980E80>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926EFC8D0>]}
2020-03-11 03:36:01,591 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2048>
2020-03-11 03:36:01,591 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:36:01,591 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,593 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:36:01,593 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:36:01,593 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:36:01,593 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,595 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:36:01,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:36:01,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:36:01,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,596 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:36:01,596 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:36:01,597 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:36:01,597 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:36:01,598 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:36:01,599 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:36:01,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2048> checked out from pool
2020-03-11 03:36:01,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:36:01,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,601 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:36:01,601 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:36:01,601 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:36:01,601 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,602 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:36:01,602 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:36:01,603 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:36:01,603 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,603 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:36:01,604 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:36:01,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:36:01,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,605 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:36:01,605 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:36:01,605 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2048> being returned to pool
2020-03-11 03:36:01,605 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2048> rollback-on-return
2020-03-11 03:36:01,607 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42358>
2020-03-11 03:36:01,607 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:36:01,607 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,608 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:36:01,609 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:36:01,609 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:36:01,609 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,610 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:36:01,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:36:01,611 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:36:01,611 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,611 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:36:01,612 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:36:01,612 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:36:01,612 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:36:01,613 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:36:01,613 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:36:01,613 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42358> checked out from pool
2020-03-11 03:36:01,614 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:36:01,614 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:36:01,614 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42358> being returned to pool
2020-03-11 03:36:01,614 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926D42358> rollback-on-return
2020-03-11 03:36:01,618 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA6D8>
2020-03-11 03:36:01,618 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:36:01,618 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,619 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:36:01,619 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:36:01,620 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:36:01,620 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,621 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:36:01,621 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:36:01,622 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:36:01,622 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,622 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:36:01,622 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:36:01,623 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:36:01,623 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:36:01,624 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:36:01,624 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:36:01,624 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA6D8> checked out from pool
2020-03-11 03:36:01,624 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:36:01,625 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:36:01,625 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:36:01,626 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:36:01,626 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:36:01,626 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:36:01,626 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:36:01,626 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:36:01,626 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:36:01,626 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA6D8> being returned to pool
2020-03-11 03:36:01,626 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EAA6D8> rollback-on-return, via agent
2020-03-11 03:36:01,627 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:36:01,627 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EB9B70>, <hospital_test.models.Address object at 0x0000021926EB9F60>, <hospital_test.models.Address object at 0x0000021926EB9898>, <hospital_test.models.Address object at 0x0000021926EB96A0>, <hospital_test.models.Address object at 0x0000021926EB95F8>]}
2020-03-11 03:36:01,629 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9F28>
2020-03-11 03:36:01,630 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:36:01,630 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,632 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:36:01,632 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:36:01,632 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:36:01,632 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,633 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:36:01,633 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:36:01,634 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:36:01,634 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:36:01,634 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:36:01,634 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:36:01,635 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:36:01,635 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:36:01,635 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:36:01,635 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:36:01,636 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9F28> checked out from pool
2020-03-11 03:36:01,636 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:36:01,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:36:01,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:36:01,636 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:36:01,636 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:36:01,637 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9F28> being returned to pool
2020-03-11 03:36:01,637 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB9F28> rollback-on-return, via agent
2020-03-11 03:36:01,637 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:36:01,637 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EB9B70>, <hospital_test.models.Address object at 0x0000021926EB9F60>, <hospital_test.models.Address object at 0x0000021926EB9898>, <hospital_test.models.Address object at 0x0000021926EB96A0>, <hospital_test.models.Address object at 0x0000021926EB95F8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269956A0>]}
2020-03-11 03:43:46,868 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F6CC0>
2020-03-11 03:43:46,869 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:43:46,869 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,871 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:43:46,871 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:43:46,871 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:43:46,871 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,873 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:43:46,873 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:43:46,874 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:43:46,875 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,875 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:43:46,875 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:43:46,876 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:43:46,876 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:43:46,877 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:43:46,877 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:43:46,877 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F6CC0> checked out from pool
2020-03-11 03:43:46,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:43:46,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,879 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:43:46,879 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:43:46,879 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:43:46,879 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,881 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:43:46,881 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:43:46,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:43:46,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,882 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:43:46,882 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:43:46,883 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:43:46,883 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,883 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:43:46,883 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:43:46,884 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F6CC0> being returned to pool
2020-03-11 03:43:46,884 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F6CC0> rollback-on-return
2020-03-11 03:43:46,886 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C358>
2020-03-11 03:43:46,886 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:43:46,886 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,887 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:43:46,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:43:46,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:43:46,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,889 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:43:46,889 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:43:46,890 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:43:46,890 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,891 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:43:46,891 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:43:46,892 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:43:46,892 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:43:46,893 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:43:46,893 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:43:46,893 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C358> checked out from pool
2020-03-11 03:43:46,893 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:43:46,894 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:43:46,894 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C358> being returned to pool
2020-03-11 03:43:46,894 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C358> rollback-on-return
2020-03-11 03:43:46,896 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C438>
2020-03-11 03:43:46,897 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:43:46,897 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,898 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:43:46,898 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:43:46,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:43:46,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,899 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:43:46,899 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:43:46,900 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:43:46,900 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,900 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:43:46,900 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:43:46,901 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:43:46,901 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:43:46,902 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:43:46,902 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:43:46,902 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C438> checked out from pool
2020-03-11 03:43:46,902 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:43:46,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:43:46,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:43:46,904 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:43:46,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:43:46,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:43:46,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:43:46,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:43:46,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:43:46,905 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C438> being returned to pool
2020-03-11 03:43:46,905 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C438> rollback-on-return, via agent
2020-03-11 03:43:46,905 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:43:46,905 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E8C4A8>, <hospital_test.models.Address object at 0x0000021926E8C4E0>, <hospital_test.models.Address object at 0x0000021926E8CEF0>, <hospital_test.models.Address object at 0x0000021926E8C8D0>, <hospital_test.models.Address object at 0x0000021926E8CB70>]}
2020-03-11 03:43:46,909 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C9B0>
2020-03-11 03:43:46,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:43:46,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,910 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:43:46,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:43:46,911 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:43:46,911 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,912 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:43:46,912 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:43:46,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:43:46,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:43:46,913 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:43:46,913 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:43:46,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:43:46,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:43:46,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:43:46,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:43:46,915 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C9B0> checked out from pool
2020-03-11 03:43:46,915 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:43:46,915 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:43:46,915 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:43:46,916 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:43:46,916 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:43:46,916 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C9B0> being returned to pool
2020-03-11 03:43:46,916 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E8C9B0> rollback-on-return, via agent
2020-03-11 03:43:46,916 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:43:46,916 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E8C4A8>, <hospital_test.models.Address object at 0x0000021926E8C4E0>, <hospital_test.models.Address object at 0x0000021926E8CEF0>, <hospital_test.models.Address object at 0x0000021926E8C8D0>, <hospital_test.models.Address object at 0x0000021926E8CB70>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269B7FD0>]}
2020-03-11 03:44:19,879 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995240>
2020-03-11 03:44:19,880 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:44:19,880 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:19,881 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:19,881 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:44:19,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:44:19,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:19,883 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:19,883 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:44:19,883 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:44:19,883 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:19,884 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:44:19,884 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:44:19,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:19,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:19,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:19,885 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:19,886 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995240> checked out from pool
2020-03-11 03:44:19,886 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:44:19,886 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:44:19,886 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:44:19,887 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:44:19,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:44:19,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:44:19,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:44:19,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:44:19,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:44:19,887 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995240> being returned to pool
2020-03-11 03:44:19,887 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926995240> rollback-on-return, via agent
2020-03-11 03:44:19,888 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:44:19,888 root:INFO:views:save_addr:MainProcess:9692:{'status': 'fail', 'message': '每位患者最多保存5个地址！'}
2020-03-11 03:44:21,721 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E61748>
2020-03-11 03:44:21,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:44:21,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,723 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:21,723 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:44:21,724 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:44:21,724 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,725 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:21,725 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:44:21,726 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:44:21,726 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,726 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:44:21,726 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:44:21,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:21,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:21,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:21,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:21,728 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E61748> checked out from pool
2020-03-11 03:44:21,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:44:21,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,729 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:44:21,729 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:44:21,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:44:21,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,730 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:44:21,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:44:21,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:44:21,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,731 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:44:21,731 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:44:21,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:44:21,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,732 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:44:21,732 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:44:21,732 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E61748> being returned to pool
2020-03-11 03:44:21,732 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926E61748> rollback-on-return
2020-03-11 03:44:21,734 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926876780>
2020-03-11 03:44:21,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:44:21,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,736 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:21,736 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:44:21,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:44:21,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,737 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:21,737 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:44:21,738 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:44:21,738 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,739 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:44:21,739 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:44:21,740 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:21,740 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:21,742 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:21,742 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:21,742 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926876780> checked out from pool
2020-03-11 03:44:21,743 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:44:21,743 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:44:21,743 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926876780> being returned to pool
2020-03-11 03:44:21,743 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926876780> rollback-on-return
2020-03-11 03:44:21,746 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980E80>
2020-03-11 03:44:21,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:44:21,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,747 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:21,747 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:44:21,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:44:21,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,749 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:21,749 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:44:21,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:44:21,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,750 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:44:21,750 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:44:21,752 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:21,752 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:21,752 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:21,753 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:21,753 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980E80> checked out from pool
2020-03-11 03:44:21,753 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:44:21,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:44:21,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:44:21,755 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:44:21,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:44:21,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:44:21,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:44:21,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:44:21,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:44:21,755 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980E80> being returned to pool
2020-03-11 03:44:21,755 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926980E80> rollback-on-return, via agent
2020-03-11 03:44:21,756 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:44:21,756 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269D2F60>, <hospital_test.models.Address object at 0x00000219269D2D68>, <hospital_test.models.Address object at 0x00000219269D2208>, <hospital_test.models.Address object at 0x00000219269D2A58>, <hospital_test.models.Address object at 0x00000219269D26A0>]}
2020-03-11 03:44:21,760 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEC18>
2020-03-11 03:44:21,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:44:21,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,762 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:21,762 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:44:21,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:44:21,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,763 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:44:21,763 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:44:21,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:44:21,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:44:21,764 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:44:21,764 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:44:21,765 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:21,765 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:21,765 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:44:21,765 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:44:21,766 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEC18> checked out from pool
2020-03-11 03:44:21,766 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:44:21,766 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:44:21,766 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:44:21,767 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:44:21,767 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:44:21,767 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEC18> being returned to pool
2020-03-11 03:44:21,767 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BEC18> rollback-on-return, via agent
2020-03-11 03:44:21,767 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:44:21,767 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269D2F60>, <hospital_test.models.Address object at 0x00000219269D2D68>, <hospital_test.models.Address object at 0x00000219269D2208>, <hospital_test.models.Address object at 0x00000219269D2A58>, <hospital_test.models.Address object at 0x00000219269D26A0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926EAA588>]}
2020-03-11 03:45:18,429 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7978>
2020-03-11 03:45:18,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:18,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,431 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:18,431 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:18,431 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:18,431 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,433 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:18,433 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:18,434 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:18,434 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,434 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:18,434 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:45:18,435 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:18,435 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:18,436 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:18,436 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:18,437 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7978> checked out from pool
2020-03-11 03:45:18,437 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:45:18,437 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,438 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:45:18,438 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:45:18,439 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:45:18,439 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,440 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:45:18,440 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:45:18,441 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:45:18,441 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,442 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:45:18,442 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:45:18,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:45:18,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,443 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:45:18,443 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:45:18,443 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7978> being returned to pool
2020-03-11 03:45:18,443 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D7978> rollback-on-return
2020-03-11 03:45:18,445 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192699B550>
2020-03-11 03:45:18,446 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:18,446 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,447 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:18,447 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:18,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:18,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,449 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:18,449 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:18,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:18,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,450 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:18,450 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:45:18,451 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:18,451 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:18,451 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:18,451 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:18,451 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699B550> checked out from pool
2020-03-11 03:45:18,452 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:45:18,452 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:45:18,452 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699B550> being returned to pool
2020-03-11 03:45:18,452 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192699B550> rollback-on-return
2020-03-11 03:45:18,456 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9EF0>
2020-03-11 03:45:18,456 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:18,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,458 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:18,458 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:18,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:18,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,459 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:18,460 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:18,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:18,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,460 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:18,460 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:45:18,461 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:18,461 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:18,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:18,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:18,462 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9EF0> checked out from pool
2020-03-11 03:45:18,462 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:45:18,463 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:45:18,463 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:45:18,463 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:45:18,463 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:45:18,464 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:45:18,464 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:45:18,464 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:45:18,464 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:45:18,464 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9EF0> being returned to pool
2020-03-11 03:45:18,464 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9EF0> rollback-on-return, via agent
2020-03-11 03:45:18,464 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:45:18,464 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926D112B0>, <hospital_test.models.Address object at 0x00000219269DB9E8>, <hospital_test.models.Address object at 0x00000219269DB7B8>, <hospital_test.models.Address object at 0x00000219269DB1D0>, <hospital_test.models.Address object at 0x00000219269DBDA0>]}
2020-03-11 03:45:18,466 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269DBF28>
2020-03-11 03:45:18,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:18,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,467 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:18,468 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:18,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:18,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,469 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:18,470 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:18,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:18,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:18,471 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:18,471 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:45:18,472 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:18,472 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:18,472 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:18,473 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:18,473 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269DBF28> checked out from pool
2020-03-11 03:45:18,473 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:45:18,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:45:18,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:45:18,474 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:45:18,474 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:45:18,474 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269DBF28> being returned to pool
2020-03-11 03:45:18,474 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269DBF28> rollback-on-return, via agent
2020-03-11 03:45:18,474 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:45:18,475 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926D112B0>, <hospital_test.models.Address object at 0x00000219269DB9E8>, <hospital_test.models.Address object at 0x00000219269DB7B8>, <hospital_test.models.Address object at 0x00000219269DB1D0>, <hospital_test.models.Address object at 0x00000219269DBDA0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000219269FDFD0>]}
2020-03-11 03:45:31,064 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CC3DD8>
2020-03-11 03:45:31,064 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:31,064 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:31,065 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:31,065 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:31,066 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:31,066 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:31,066 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:31,067 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:31,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:31,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:31,068 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:31,068 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:45:31,069 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:31,069 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:31,069 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:31,069 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:31,070 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CC3DD8> checked out from pool
2020-03-11 03:45:31,070 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:45:31,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:45:31,071 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:45:31,071 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:45:31,071 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:45:31,071 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:45:31,071 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:45:31,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:45:31,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:45:31,072 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CC3DD8> being returned to pool
2020-03-11 03:45:31,072 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926CC3DD8> rollback-on-return, via agent
2020-03-11 03:45:31,072 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:45:31,072 root:INFO:views:save_addr:MainProcess:9692:{'status': 'fail', 'message': '每位患者最多保存5个地址！'}
2020-03-11 03:45:40,449 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3518>
2020-03-11 03:45:40,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:40,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,450 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:40,451 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:40,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:40,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,453 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:40,453 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:40,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:40,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,454 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:40,454 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:45:40,455 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:40,455 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:40,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:40,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:40,456 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3518> checked out from pool
2020-03-11 03:45:40,456 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:45:40,456 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,457 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:45:40,457 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:45:40,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:45:40,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,459 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:45:40,459 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:45:40,459 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:45:40,459 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,460 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:45:40,460 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:45:40,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:45:40,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,461 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:45:40,461 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:45:40,461 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3518> being returned to pool
2020-03-11 03:45:40,461 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EC3518> rollback-on-return
2020-03-11 03:45:40,463 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFC160>
2020-03-11 03:45:40,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:40,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,465 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:40,465 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:40,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:40,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,466 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:40,466 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:40,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:40,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,467 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:40,467 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:45:40,468 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:40,468 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:40,469 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:40,469 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:40,470 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFC160> checked out from pool
2020-03-11 03:45:40,470 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:45:40,470 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:45:40,470 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFC160> being returned to pool
2020-03-11 03:45:40,471 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFC160> rollback-on-return
2020-03-11 03:45:40,474 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFCE80>
2020-03-11 03:45:40,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:40,475 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,476 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:40,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:40,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:40,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,477 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:40,477 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:40,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:40,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,478 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:40,478 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:45:40,479 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:40,479 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:40,480 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:40,480 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:40,480 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFCE80> checked out from pool
2020-03-11 03:45:40,481 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:45:40,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:45:40,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:45:40,482 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:45:40,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:45:40,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:45:40,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:45:40,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:45:40,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:45:40,482 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFCE80> being returned to pool
2020-03-11 03:45:40,482 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EFCE80> rollback-on-return, via agent
2020-03-11 03:45:40,483 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:45:40,483 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EFCF60>, <hospital_test.models.Address object at 0x0000021926EFCF28>, <hospital_test.models.Address object at 0x0000021926EFC9B0>, <hospital_test.models.Address object at 0x0000021926EFC978>, <hospital_test.models.Address object at 0x0000021926EFC898>]}
2020-03-11 03:45:40,485 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7E390>
2020-03-11 03:45:40,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:45:40,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:40,488 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:45:40,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:45:40,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,491 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:45:40,491 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:45:40,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:45:40,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:45:40,492 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:45:40,493 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:45:40,494 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:40,494 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:40,494 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:45:40,494 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:45:40,495 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7E390> checked out from pool
2020-03-11 03:45:40,495 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:45:40,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:45:40,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:45:40,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:45:40,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:45:40,496 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7E390> being returned to pool
2020-03-11 03:45:40,496 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926A7E390> rollback-on-return, via agent
2020-03-11 03:45:40,496 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:45:40,496 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926EFCF60>, <hospital_test.models.Address object at 0x0000021926EFCF28>, <hospital_test.models.Address object at 0x0000021926EFC9B0>, <hospital_test.models.Address object at 0x0000021926EFC978>, <hospital_test.models.Address object at 0x0000021926EFC898>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926981390>]}
2020-03-11 03:46:54,270 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB97F0>
2020-03-11 03:46:54,271 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:46:54,271 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,273 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:46:54,273 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:46:54,274 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:46:54,274 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,275 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:46:54,275 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:46:54,276 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:46:54,276 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,276 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:46:54,276 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:46:54,277 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:46:54,277 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:46:54,278 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:46:54,278 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:46:54,278 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB97F0> checked out from pool
2020-03-11 03:46:54,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:46:54,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,279 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:46:54,279 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:46:54,280 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:46:54,280 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,281 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:46:54,281 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:46:54,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:46:54,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,282 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:46:54,282 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:46:54,283 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:46:54,283 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,283 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:46:54,283 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:46:54,283 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB97F0> being returned to pool
2020-03-11 03:46:54,284 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926EB97F0> rollback-on-return
2020-03-11 03:46:54,286 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BE6A0>
2020-03-11 03:46:54,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:46:54,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,287 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:46:54,287 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:46:54,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:46:54,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,289 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:46:54,289 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:46:54,290 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:46:54,290 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,290 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:46:54,290 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:46:54,291 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:46:54,291 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:46:54,291 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:46:54,292 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:46:54,292 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BE6A0> checked out from pool
2020-03-11 03:46:54,292 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:46:54,292 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:46:54,293 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BE6A0> being returned to pool
2020-03-11 03:46:54,293 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269BE6A0> rollback-on-return
2020-03-11 03:46:54,295 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2438>
2020-03-11 03:46:54,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:46:54,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,297 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:46:54,297 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:46:54,297 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:46:54,297 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,298 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:46:54,298 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:46:54,299 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:46:54,299 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,300 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:46:54,300 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:46:54,301 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:46:54,301 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:46:54,301 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:46:54,301 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:46:54,302 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2438> checked out from pool
2020-03-11 03:46:54,302 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:46:54,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:46:54,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:46:54,304 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:46:54,304 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:46:54,304 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:46:54,304 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:46:54,305 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:46:54,305 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:46:54,305 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2438> being returned to pool
2020-03-11 03:46:54,305 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269D2438> rollback-on-return, via agent
2020-03-11 03:46:54,305 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:46:54,305 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E6EA20>, <hospital_test.models.Address object at 0x00000219269F9940>, <hospital_test.models.Address object at 0x00000219269F9748>, <hospital_test.models.Address object at 0x00000219269F9898>, <hospital_test.models.Address object at 0x00000219269F9C50>]}
2020-03-11 03:46:54,308 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9DA0>
2020-03-11 03:46:54,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:46:54,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,309 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:46:54,310 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:46:54,310 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:46:54,310 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,311 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:46:54,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:46:54,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:46:54,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:46:54,312 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:46:54,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:46:54,313 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:46:54,313 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:46:54,314 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:46:54,314 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:46:54,314 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9DA0> checked out from pool
2020-03-11 03:46:54,314 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:46:54,315 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:46:54,315 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:46:54,315 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:46:54,315 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:46:54,315 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9DA0> being returned to pool
2020-03-11 03:46:54,315 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269F9DA0> rollback-on-return, via agent
2020-03-11 03:46:54,316 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:46:54,316 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021926E6EA20>, <hospital_test.models.Address object at 0x00000219269F9940>, <hospital_test.models.Address object at 0x00000219269F9748>, <hospital_test.models.Address object at 0x00000219269F9898>, <hospital_test.models.Address object at 0x00000219269F9C50>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926EFC438>]}
2020-03-11 03:48:06,321 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002192698FEB8>
2020-03-11 03:48:06,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:48:06,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:48:06,323 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:48:06,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:48:06,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,324 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:48:06,324 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:48:06,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:48:06,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:48:06,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:48:06,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:48:06,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:48:06,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:48:06,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:48:06,328 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698FEB8> checked out from pool
2020-03-11 03:48:06,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `pres_consignee`
2020-03-11 03:48:06,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,329 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:48:06,329 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:48:06,329 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid _prescriptions`
2020-03-11 03:48:06,329 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,330 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:48:06,330 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:48:06,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `mid_prescription_details`
2020-03-11 03:48:06,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,332 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:48:06,332 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:48:06,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:DESCRIBE `custom_addr`
2020-03-11 03:48:06,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,333 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:48:06,333 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:48:06,334 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698FEB8> being returned to pool
2020-03-11 03:48:06,334 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x000002192698FEB8> rollback-on-return
2020-03-11 03:48:06,336 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269B78D0>
2020-03-11 03:48:06,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:48:06,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,338 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:48:06,338 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:48:06,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:48:06,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,339 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:48:06,339 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:48:06,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:48:06,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,340 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:48:06,340 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('addr_test',)
2020-03-11 03:48:06,341 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:48:06,341 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:48:06,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:48:06,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:48:06,342 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269B78D0> checked out from pool
2020-03-11 03:48:06,342 root:INFO:models:mysql_connect:MainProcess:9692:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:48:06,343 root:INFO:models:mysql_connect:MainProcess:9692:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:48:06,343 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269B78D0> being returned to pool
2020-03-11 03:48:06,343 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269B78D0> rollback-on-return
2020-03-11 03:48:06,345 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997710>
2020-03-11 03:48:06,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:48:06,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,347 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:48:06,347 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:48:06,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:48:06,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,348 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:48:06,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:48:06,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:48:06,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,349 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:48:06,349 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:48:06,350 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:48:06,350 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:48:06,351 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:48:06,351 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:48:06,351 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997710> checked out from pool
2020-03-11 03:48:06,352 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:48:06,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:48:06,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'custom_num_1': '5550008088'}
2020-03-11 03:48:06,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:48:06,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:48:06,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:48:06,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:48:06,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:48:06,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:48:06,354 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997710> being returned to pool
2020-03-11 03:48:06,354 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021926997710> rollback-on-return, via agent
2020-03-11 03:48:06,354 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:48:06,354 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269B7860>, <hospital_test.models.Address object at 0x00000219269B7B00>, <hospital_test.models.Address object at 0x00000219269B7CC0>, <hospital_test.models.Address object at 0x00000219269B7208>, <hospital_test.models.Address object at 0x00000219269B77F0>]}
2020-03-11 03:48:06,357 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:9692:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000219269B74E0>
2020-03-11 03:48:06,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:48:06,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,358 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:48:06,358 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:48:06,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:48:06,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,359 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('Variable_name', 'Value')
2020-03-11 03:48:06,359 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('lower_case_table_names', '1')
2020-03-11 03:48:06,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT DATABASE()
2020-03-11 03:48:06,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{}
2020-03-11 03:48:06,360 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('DATABASE()',)
2020-03-11 03:48:06,360 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('zhyf_host',)
2020-03-11 03:48:06,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:48:06,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:48:06,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:48:06,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:9692:{}
2020-03-11 03:48:06,362 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269B74E0> checked out from pool
2020-03-11 03:48:06,362 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:9692:BEGIN (implicit)
2020-03-11 03:48:06,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:48:06,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:9692:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:48:06,363 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:9692:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:48:06,363 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:9692:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:48:06,363 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269B74E0> being returned to pool
2020-03-11 03:48:06,363 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:9692:Connection <mysql.connector.connection.MySQLConnection object at 0x00000219269B74E0> rollback-on-return, via agent
2020-03-11 03:48:06,363 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:9692:ROLLBACK
2020-03-11 03:48:06,363 root:INFO:views:entry_addr:MainProcess:9692:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000219269B7860>, <hospital_test.models.Address object at 0x00000219269B7B00>, <hospital_test.models.Address object at 0x00000219269B7CC0>, <hospital_test.models.Address object at 0x00000219269B7208>, <hospital_test.models.Address object at 0x00000219269B77F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021926E8F160>]}
2020-03-11 03:50:34,117 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:9692:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 03:50:34,128 asyncio:DEBUG:selector_events:__init__:MainProcess:9692:Using selector: SelectSelector
2020-03-11 03:50:39,226 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9BE898>
2020-03-11 03:50:39,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:39,226 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,227 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:39,228 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:39,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:39,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:39,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:39,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:39,230 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,231 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:39,231 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:50:39,232 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:39,232 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:39,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:39,233 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:39,233 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9BE898> checked out from pool
2020-03-11 03:50:39,234 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:50:39,234 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,234 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:50:39,234 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:50:39,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:50:39,235 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,236 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:50:39,236 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:50:39,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:50:39,236 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,237 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:50:39,237 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:50:39,237 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:50:39,237 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,238 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:50:39,238 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:50:39,238 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9BE898> being returned to pool
2020-03-11 03:50:39,238 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9BE898> rollback-on-return
2020-03-11 03:50:39,240 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0780>
2020-03-11 03:50:39,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:39,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,242 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:39,242 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:39,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:39,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:39,243 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:39,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:39,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,244 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:39,244 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:50:39,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:39,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:39,246 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:39,246 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:39,246 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0780> checked out from pool
2020-03-11 03:50:39,246 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:50:39,247 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:50:39,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0780> being returned to pool
2020-03-11 03:50:39,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0780> rollback-on-return
2020-03-11 03:50:39,253 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0390>
2020-03-11 03:50:39,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:39,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,254 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:39,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:39,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:39,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,256 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:39,256 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:39,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:39,257 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,257 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:39,257 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:50:39,258 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:39,258 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:39,258 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:39,259 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:39,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0390> checked out from pool
2020-03-11 03:50:39,259 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:50:39,260 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:50:39,260 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:50:39,261 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:50:39,261 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:50:39,261 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:50:39,261 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:50:39,261 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:50:39,261 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:50:39,261 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0390> being returned to pool
2020-03-11 03:50:39,261 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0390> rollback-on-return, via agent
2020-03-11 03:50:39,261 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:50:39,262 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA08E10>, <hospital_test.models.Address object at 0x00000207CCA08EB8>, <hospital_test.models.Address object at 0x00000207CCA08FD0>, <hospital_test.models.Address object at 0x00000207CCA08F60>, <hospital_test.models.Address object at 0x00000207CCA08F98>]}
2020-03-11 03:50:39,264 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46240>
2020-03-11 03:50:39,265 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:39,265 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,266 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:39,266 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:39,266 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:39,267 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,267 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:39,268 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:39,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:39,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:39,269 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:39,269 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:50:39,269 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:39,269 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:39,270 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:39,270 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:39,270 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46240> checked out from pool
2020-03-11 03:50:39,270 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:50:39,271 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:50:39,271 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:50:39,271 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:50:39,271 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:50:39,271 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46240> being returned to pool
2020-03-11 03:50:39,271 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46240> rollback-on-return, via agent
2020-03-11 03:50:39,272 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:50:39,272 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA08E10>, <hospital_test.models.Address object at 0x00000207CCA08EB8>, <hospital_test.models.Address object at 0x00000207CCA08FD0>, <hospital_test.models.Address object at 0x00000207CCA08F60>, <hospital_test.models.Address object at 0x00000207CCA08F98>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CCA46D68>]}
2020-03-11 03:50:55,085 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC88>
2020-03-11 03:50:55,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:55,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:55,087 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:55,087 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:55,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:55,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:55,089 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:55,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:55,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:55,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:55,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:55,090 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:50:55,091 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:55,091 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:55,091 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:55,092 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:55,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC88> checked out from pool
2020-03-11 03:50:55,092 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:50:55,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:50:55,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:50:55,093 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:50:55,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:50:55,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:50:55,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:50:55,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:50:55,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:50:55,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC88> being returned to pool
2020-03-11 03:50:55,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC88> rollback-on-return, via agent
2020-03-11 03:50:55,094 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:50:55,094 root:INFO:views:save_addr:MainProcess:1836:{'status': 'fail', 'message': '每位患者最多保存5个地址！'}
2020-03-11 03:50:59,454 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB630>
2020-03-11 03:50:59,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:59,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,456 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:59,457 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:59,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:59,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,459 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:59,459 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:59,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:59,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,460 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:59,460 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:50:59,461 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:59,461 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:59,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:59,462 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:59,462 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB630> checked out from pool
2020-03-11 03:50:59,463 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:50:59,463 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,463 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:50:59,463 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:50:59,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:50:59,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,465 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:50:59,465 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:50:59,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:50:59,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,466 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:50:59,466 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:50:59,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:50:59,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,467 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:50:59,467 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:50:59,467 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB630> being returned to pool
2020-03-11 03:50:59,467 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB630> rollback-on-return
2020-03-11 03:50:59,471 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670C50>
2020-03-11 03:50:59,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:59,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,472 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:59,472 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:59,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:59,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,474 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:59,474 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:59,475 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:59,475 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,475 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:59,475 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:50:59,476 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:59,476 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:59,477 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:59,477 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:59,477 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670C50> checked out from pool
2020-03-11 03:50:59,478 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:50:59,478 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:50:59,478 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670C50> being returned to pool
2020-03-11 03:50:59,478 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670C50> rollback-on-return
2020-03-11 03:50:59,481 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46390>
2020-03-11 03:50:59,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:59,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,483 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:59,483 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:59,484 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:59,484 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,485 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:59,485 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:59,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:59,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,486 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:59,486 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:50:59,487 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:59,487 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:59,488 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:59,488 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:59,489 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46390> checked out from pool
2020-03-11 03:50:59,489 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:50:59,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:50:59,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:50:59,490 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:50:59,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (1, '5550008088', '马大奔', '18687854124', '云南省', '昆明市', '五华区', '万科云子6栋203', 2, 1)
2020-03-11 03:50:59,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:50:59,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:50:59,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:50:59,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:50:59,491 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46390> being returned to pool
2020-03-11 03:50:59,491 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46390> rollback-on-return, via agent
2020-03-11 03:50:59,491 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:50:59,491 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA08198>, <hospital_test.models.Address object at 0x00000207CC670D30>, <hospital_test.models.Address object at 0x00000207CC6700F0>, <hospital_test.models.Address object at 0x00000207CC670B00>, <hospital_test.models.Address object at 0x00000207CC68E710>]}
2020-03-11 03:50:59,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68E198>
2020-03-11 03:50:59,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:50:59,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,495 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:59,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:50:59,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:50:59,495 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,496 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:50:59,496 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:50:59,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:50:59,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:50:59,498 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:50:59,498 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:50:59,499 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:59,499 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:59,500 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:50:59,500 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:50:59,501 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68E198> checked out from pool
2020-03-11 03:50:59,501 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:50:59,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:50:59,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:50:59,502 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:50:59,502 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:50:59,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68E198> being returned to pool
2020-03-11 03:50:59,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68E198> rollback-on-return, via agent
2020-03-11 03:50:59,503 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:50:59,503 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA08198>, <hospital_test.models.Address object at 0x00000207CC670D30>, <hospital_test.models.Address object at 0x00000207CC6700F0>, <hospital_test.models.Address object at 0x00000207CC670B00>, <hospital_test.models.Address object at 0x00000207CC68E710>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC68E4A8>]}
2020-03-11 03:51:11,777 root:INFO:models:del_custom_addr:MainProcess:1836:删除联系人：==>
2020-03-11 03:51:11,780 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688668>
2020-03-11 03:51:11,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:11,781 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:11,782 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:11,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:11,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:11,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:11,783 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:11,783 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:11,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:11,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:11,784 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:11,784 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:51:11,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:11,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:11,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:11,785 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:11,785 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688668> checked out from pool
2020-03-11 03:51:11,786 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:51:11,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DELETE FROM custom_addr WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 03:51:11,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'addr_id_1': '1'}
2020-03-11 03:51:11,790 root:INFO:models:del_custom_addr:MainProcess:1836:==> Parameters:1
2020-03-11 03:51:11,790 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 03:51:11,791 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688668> being returned to pool
2020-03-11 03:51:11,791 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688668> rollback-on-return
2020-03-11 03:51:11,791 root:INFO:models:del_custom_addr:MainProcess:1836:联系人删除成功！
2020-03-11 03:51:11,791 root:INFO:views:del_addr:MainProcess:1836:{'status': 'success'}
2020-03-11 03:51:13,739 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C45F8>
2020-03-11 03:51:13,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:13,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,741 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:13,741 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:13,742 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:13,742 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,743 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:13,744 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:13,744 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:13,744 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,745 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:13,745 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:51:13,745 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:13,746 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:13,746 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:13,746 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:13,747 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C45F8> checked out from pool
2020-03-11 03:51:13,747 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:51:13,747 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,748 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:51:13,748 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:51:13,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:51:13,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,749 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:51:13,749 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:51:13,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:51:13,750 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,752 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:51:13,752 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:51:13,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:51:13,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:51:13,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:51:13,753 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C45F8> being returned to pool
2020-03-11 03:51:13,754 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C45F8> rollback-on-return
2020-03-11 03:51:13,756 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5EBA8>
2020-03-11 03:51:13,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:13,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,758 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:13,758 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:13,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:13,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,760 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:13,760 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:13,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:13,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,761 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:13,762 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:51:13,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:13,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:13,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:13,763 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:13,764 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5EBA8> checked out from pool
2020-03-11 03:51:13,764 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:51:13,765 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:51:13,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5EBA8> being returned to pool
2020-03-11 03:51:13,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5EBA8> rollback-on-return
2020-03-11 03:51:13,769 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682C50>
2020-03-11 03:51:13,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:13,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,770 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:13,770 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:13,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:13,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,771 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:13,771 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:13,772 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:13,772 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,772 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:13,772 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:51:13,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:13,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:13,774 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:13,774 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:13,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682C50> checked out from pool
2020-03-11 03:51:13,774 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:51:13,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:51:13,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:51:13,776 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:51:13,776 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:51:13,776 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:51:13,776 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:51:13,776 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:51:13,776 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682C50> being returned to pool
2020-03-11 03:51:13,776 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682C50> rollback-on-return, via agent
2020-03-11 03:51:13,776 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:51:13,776 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC682438>, <hospital_test.models.Address object at 0x00000207CC682240>, <hospital_test.models.Address object at 0x00000207CC682D30>, <hospital_test.models.Address object at 0x00000207CC682898>]}
2020-03-11 03:51:13,780 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682F98>
2020-03-11 03:51:13,781 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:13,781 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,784 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:13,784 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:13,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:13,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,786 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:13,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:13,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:13,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:13,787 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:13,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:51:13,788 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:13,788 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:13,789 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:13,789 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:13,789 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682F98> checked out from pool
2020-03-11 03:51:13,789 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:51:13,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:51:13,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:51:13,790 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:51:13,790 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:51:13,790 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682F98> being returned to pool
2020-03-11 03:51:13,790 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682F98> rollback-on-return, via agent
2020-03-11 03:51:13,790 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:51:13,791 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC682438>, <hospital_test.models.Address object at 0x00000207CC682240>, <hospital_test.models.Address object at 0x00000207CC682D30>, <hospital_test.models.Address object at 0x00000207CC682898>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CCA08048>]}
2020-03-11 03:51:42,266 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 03:51:42,268 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D710>
2020-03-11 03:51:42,269 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:42,269 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:42,271 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:42,271 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:42,271 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:42,271 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:42,272 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:42,273 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:42,273 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:42,273 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:42,273 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:42,273 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:51:42,274 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:42,274 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:42,274 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:42,275 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:42,275 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D710> checked out from pool
2020-03-11 03:51:42,275 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:51:42,276 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 03:51:42,276 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201912203096', 'addr_id': '3', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 03:51:42,286 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:51:42,286 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D710> being returned to pool
2020-03-11 03:51:42,286 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D710> rollback-on-return
2020-03-11 03:51:42,286 root:INFO:models:save_pres_addr:MainProcess:1836:处方关联失败！
2020-03-11 03:51:42,287 root:INFO:models:save_pres_addr:MainProcess:1836:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201912203096' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201912203096', 'addr_id': '3', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 03:51:56,559 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEDD8>
2020-03-11 03:51:56,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:56,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,561 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:56,561 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:56,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:56,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,563 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:56,563 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:56,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:56,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,564 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:56,564 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:51:56,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:56,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:56,567 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:56,567 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:56,567 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEDD8> checked out from pool
2020-03-11 03:51:56,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:51:56,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,569 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:51:56,569 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:51:56,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:51:56,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,571 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:51:56,571 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:51:56,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:51:56,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:51:56,572 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:51:56,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:51:56,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,573 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:51:56,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:51:56,573 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEDD8> being returned to pool
2020-03-11 03:51:56,573 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEDD8> rollback-on-return
2020-03-11 03:51:56,576 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC796978>
2020-03-11 03:51:56,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:56,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,578 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:56,578 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:56,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:56,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,580 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:56,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:56,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:56,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,581 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:56,581 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:51:56,583 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:56,583 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:56,583 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:56,583 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:56,584 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC796978> checked out from pool
2020-03-11 03:51:56,584 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:51:56,585 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:51:56,585 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC796978> being returned to pool
2020-03-11 03:51:56,585 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC796978> rollback-on-return
2020-03-11 03:51:56,587 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FCC0>
2020-03-11 03:51:56,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:56,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,589 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:56,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:56,589 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:56,589 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,590 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:56,590 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:56,591 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:56,591 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,591 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:56,591 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:51:56,592 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:56,592 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:56,593 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:56,593 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:56,593 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FCC0> checked out from pool
2020-03-11 03:51:56,593 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:51:56,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:51:56,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:51:56,595 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:51:56,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:51:56,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:51:56,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:51:56,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:51:56,595 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FCC0> being returned to pool
2020-03-11 03:51:56,595 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FCC0> rollback-on-return, via agent
2020-03-11 03:51:56,595 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:51:56,596 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC682A90>, <hospital_test.models.Address object at 0x00000207CC6825F8>, <hospital_test.models.Address object at 0x00000207CC682D30>, <hospital_test.models.Address object at 0x00000207CC682FD0>]}
2020-03-11 03:51:56,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682470>
2020-03-11 03:51:56,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:51:56,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,601 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:56,601 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:51:56,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:51:56,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,603 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:51:56,603 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:51:56,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:51:56,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:51:56,604 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:51:56,604 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:51:56,605 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:56,605 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:56,605 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:51:56,605 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:51:56,606 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682470> checked out from pool
2020-03-11 03:51:56,606 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:51:56,606 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:51:56,606 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:51:56,607 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:51:56,607 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:51:56,607 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682470> being returned to pool
2020-03-11 03:51:56,607 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682470> rollback-on-return, via agent
2020-03-11 03:51:56,607 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:51:56,607 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC682A90>, <hospital_test.models.Address object at 0x00000207CC6825F8>, <hospital_test.models.Address object at 0x00000207CC682D30>, <hospital_test.models.Address object at 0x00000207CC682FD0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC796A20>]}
2020-03-11 03:52:35,087 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FBE0>
2020-03-11 03:52:35,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:52:35,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,089 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:35,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:52:35,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:52:35,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,091 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:35,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:52:35,092 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:52:35,092 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,093 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:52:35,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:52:35,094 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:35,094 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:35,095 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:35,095 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:35,095 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FBE0> checked out from pool
2020-03-11 03:52:35,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:52:35,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,096 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:52:35,096 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:52:35,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:52:35,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:52:35,099 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:52:35,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:52:35,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,100 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:52:35,100 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:52:35,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:52:35,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,102 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:52:35,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:52:35,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FBE0> being returned to pool
2020-03-11 03:52:35,102 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FBE0> rollback-on-return
2020-03-11 03:52:35,104 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB5C0>
2020-03-11 03:52:35,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:52:35,105 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,106 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:35,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:52:35,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:52:35,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:35,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:52:35,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:52:35,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,108 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:52:35,108 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:52:35,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:35,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:35,110 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:35,110 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:35,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB5C0> checked out from pool
2020-03-11 03:52:35,110 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:52:35,111 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:52:35,111 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB5C0> being returned to pool
2020-03-11 03:52:35,111 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB5C0> rollback-on-return
2020-03-11 03:52:35,114 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC88>
2020-03-11 03:52:35,115 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:52:35,115 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,116 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:35,116 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:52:35,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:52:35,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,117 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:35,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:52:35,118 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:52:35,118 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,118 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:52:35,118 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:52:35,119 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:35,119 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:35,120 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:35,120 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:35,121 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC88> checked out from pool
2020-03-11 03:52:35,121 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:52:35,121 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:52:35,122 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:52:35,122 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:52:35,122 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:52:35,122 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:52:35,122 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:52:35,122 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:52:35,123 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC88> being returned to pool
2020-03-11 03:52:35,123 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC88> rollback-on-return, via agent
2020-03-11 03:52:35,123 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:52:35,123 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6CB710>, <hospital_test.models.Address object at 0x00000207CC6CB5C0>, <hospital_test.models.Address object at 0x00000207CC6CB3C8>, <hospital_test.models.Address object at 0x00000207CC6CB7F0>]}
2020-03-11 03:52:35,125 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB908>
2020-03-11 03:52:35,126 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:52:35,126 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,127 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:35,127 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:52:35,127 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:52:35,127 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,129 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:35,129 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:52:35,130 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:52:35,130 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:35,130 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:52:35,130 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:52:35,131 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:35,131 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:35,132 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:35,132 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:35,132 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB908> checked out from pool
2020-03-11 03:52:35,132 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:52:35,133 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:52:35,133 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:52:35,133 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:52:35,133 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:52:35,133 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB908> being returned to pool
2020-03-11 03:52:35,133 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB908> rollback-on-return, via agent
2020-03-11 03:52:35,133 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:52:35,134 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6CB710>, <hospital_test.models.Address object at 0x00000207CC6CB5C0>, <hospital_test.models.Address object at 0x00000207CC6CB3C8>, <hospital_test.models.Address object at 0x00000207CC6CB7F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6F1860>]}
2020-03-11 03:52:48,238 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 03:52:48,241 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9BEF28>
2020-03-11 03:52:48,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:52:48,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:48,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:48,243 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:52:48,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:52:48,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:48,245 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:52:48,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:52:48,246 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:52:48,246 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:52:48,246 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:52:48,246 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:52:48,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:48,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:48,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:52:48,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:52:48,248 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9BEF28> checked out from pool
2020-03-11 03:52:48,248 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:52:48,248 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 03:52:48,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201912203096', 'addr_id': '2', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 03:52:48,249 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:52:48,250 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9BEF28> being returned to pool
2020-03-11 03:52:48,250 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9BEF28> rollback-on-return
2020-03-11 03:52:48,250 root:INFO:models:save_pres_addr:MainProcess:1836:处方关联失败！
2020-03-11 03:52:48,250 root:INFO:models:save_pres_addr:MainProcess:1836:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201912203096' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201912203096', 'addr_id': '2', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 03:53:07,778 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08208>
2020-03-11 03:53:07,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:53:07,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,779 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:53:07,780 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:53:07,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:53:07,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,781 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:53:07,781 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:53:07,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:53:07,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,782 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:53:07,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:53:07,783 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:53:07,783 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:53:07,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:53:07,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:53:07,784 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08208> checked out from pool
2020-03-11 03:53:07,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:53:07,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,785 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:53:07,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:53:07,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:53:07,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,787 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:53:07,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:53:07,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:53:07,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,788 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:53:07,788 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:53:07,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:53:07,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,789 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:53:07,789 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:53:07,789 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08208> being returned to pool
2020-03-11 03:53:07,789 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08208> rollback-on-return
2020-03-11 03:53:07,791 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E0B8>
2020-03-11 03:53:07,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:53:07,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,793 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:53:07,793 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:53:07,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:53:07,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:53:07,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:53:07,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:53:07,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:53:07,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:53:07,796 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:53:07,796 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:53:07,797 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:53:07,797 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:53:07,797 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E0B8> checked out from pool
2020-03-11 03:53:07,797 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:53:07,798 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:53:07,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E0B8> being returned to pool
2020-03-11 03:53:07,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E0B8> rollback-on-return
2020-03-11 03:53:07,801 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66EF28>
2020-03-11 03:53:07,801 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:53:07,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,803 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:53:07,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:53:07,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:53:07,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,804 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:53:07,804 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:53:07,805 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:53:07,805 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,805 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:53:07,805 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:53:07,806 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:53:07,806 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:53:07,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:53:07,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:53:07,807 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66EF28> checked out from pool
2020-03-11 03:53:07,807 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:53:07,808 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:53:07,808 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:53:07,808 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:53:07,808 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:53:07,809 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 0)
2020-03-11 03:53:07,809 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 0)
2020-03-11 03:53:07,809 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 0)
2020-03-11 03:53:07,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66EF28> being returned to pool
2020-03-11 03:53:07,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66EF28> rollback-on-return, via agent
2020-03-11 03:53:07,809 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:53:07,809 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC65EF98>, <hospital_test.models.Address object at 0x00000207CC65EE10>, <hospital_test.models.Address object at 0x00000207CC65EBE0>, <hospital_test.models.Address object at 0x00000207CC6746A0>]}
2020-03-11 03:53:07,811 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66EB00>
2020-03-11 03:53:07,811 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:53:07,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,814 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:53:07,814 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:53:07,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:53:07,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,817 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:53:07,817 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:53:07,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:53:07,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:53:07,817 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:53:07,817 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:53:07,818 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:53:07,818 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:53:07,819 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:53:07,819 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:53:07,819 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66EB00> checked out from pool
2020-03-11 03:53:07,819 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:53:07,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:53:07,820 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:53:07,820 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:53:07,820 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:53:07,820 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66EB00> being returned to pool
2020-03-11 03:53:07,821 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66EB00> rollback-on-return, via agent
2020-03-11 03:53:07,821 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:53:07,821 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC65EF98>, <hospital_test.models.Address object at 0x00000207CC65EE10>, <hospital_test.models.Address object at 0x00000207CC65EBE0>, <hospital_test.models.Address object at 0x00000207CC6746A0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC675F98>]}
2020-03-11 03:54:27,386 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675390>
2020-03-11 03:54:27,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:54:27,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,388 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:54:27,388 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:54:27,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:54:27,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,390 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:54:27,391 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:54:27,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:54:27,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,392 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:54:27,392 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:54:27,393 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:54:27,393 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:54:27,393 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:54:27,393 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:54:27,394 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675390> checked out from pool
2020-03-11 03:54:27,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:54:27,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,395 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:54:27,395 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:54:27,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:54:27,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,397 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:54:27,397 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:54:27,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:54:27,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:54:27,398 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:54:27,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:54:27,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,399 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:54:27,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:54:27,399 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675390> being returned to pool
2020-03-11 03:54:27,400 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675390> rollback-on-return
2020-03-11 03:54:27,402 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6885C0>
2020-03-11 03:54:27,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:54:27,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,403 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:54:27,403 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:54:27,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:54:27,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,405 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:54:27,405 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:54:27,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:54:27,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,406 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:54:27,406 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:54:27,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:54:27,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:54:27,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:54:27,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:54:27,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6885C0> checked out from pool
2020-03-11 03:54:27,408 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:54:27,408 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:54:27,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6885C0> being returned to pool
2020-03-11 03:54:27,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6885C0> rollback-on-return
2020-03-11 03:54:27,411 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6709E8>
2020-03-11 03:54:27,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:54:27,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,413 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:54:27,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:54:27,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:54:27,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,415 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:54:27,415 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:54:27,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:54:27,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,416 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:54:27,416 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:54:27,417 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:54:27,417 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:54:27,418 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:54:27,418 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:54:27,418 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6709E8> checked out from pool
2020-03-11 03:54:27,418 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:54:27,419 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:54:27,419 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:54:27,420 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:54:27,420 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 1)
2020-03-11 03:54:27,420 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (3, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 1)
2020-03-11 03:54:27,420 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 1)
2020-03-11 03:54:27,420 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 1)
2020-03-11 03:54:27,420 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6709E8> being returned to pool
2020-03-11 03:54:27,420 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6709E8> rollback-on-return, via agent
2020-03-11 03:54:27,420 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:54:27,421 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC67FB00>, <hospital_test.models.Address object at 0x00000207CC67F240>, <hospital_test.models.Address object at 0x00000207CC67FF98>, <hospital_test.models.Address object at 0x00000207CC67FF28>]}
2020-03-11 03:54:27,423 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688358>
2020-03-11 03:54:27,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:54:27,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,424 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:54:27,424 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:54:27,425 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:54:27,425 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,426 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:54:27,426 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:54:27,427 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:54:27,427 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:54:27,427 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:54:27,427 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:54:27,428 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:54:27,428 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:54:27,428 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:54:27,428 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:54:27,429 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688358> checked out from pool
2020-03-11 03:54:27,429 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:54:27,429 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:54:27,429 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:54:27,430 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:54:27,430 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:54:27,430 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688358> being returned to pool
2020-03-11 03:54:27,430 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688358> rollback-on-return, via agent
2020-03-11 03:54:27,430 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:54:27,430 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC67FB00>, <hospital_test.models.Address object at 0x00000207CC67F240>, <hospital_test.models.Address object at 0x00000207CC67FF98>, <hospital_test.models.Address object at 0x00000207CC67FF28>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CCA5E7B8>]}
2020-03-11 03:55:04,637 root:INFO:models:del_custom_addr:MainProcess:1836:删除联系人：==>
2020-03-11 03:55:04,639 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6ADB38>
2020-03-11 03:55:04,639 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:55:04,640 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:04,641 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:04,641 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:55:04,641 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:55:04,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:04,643 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:04,643 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:55:04,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:55:04,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:04,644 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:55:04,644 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:55:04,645 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:04,645 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:04,646 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:04,646 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:04,647 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6ADB38> checked out from pool
2020-03-11 03:55:04,647 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:55:04,647 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DELETE FROM custom_addr WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 03:55:04,647 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'addr_id_1': '3'}
2020-03-11 03:55:04,648 root:INFO:models:del_custom_addr:MainProcess:1836:==> Parameters:1
2020-03-11 03:55:04,648 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 03:55:04,660 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6ADB38> being returned to pool
2020-03-11 03:55:04,660 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6ADB38> rollback-on-return
2020-03-11 03:55:04,660 root:INFO:models:del_custom_addr:MainProcess:1836:联系人删除成功！
2020-03-11 03:55:04,660 root:INFO:views:del_addr:MainProcess:1836:{'status': 'success'}
2020-03-11 03:55:07,389 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C46D8>
2020-03-11 03:55:07,389 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:55:07,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,391 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:07,391 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:55:07,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:55:07,391 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,393 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:07,394 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:55:07,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:55:07,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,394 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:55:07,394 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:55:07,395 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:07,395 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:07,396 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:07,396 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:07,396 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C46D8> checked out from pool
2020-03-11 03:55:07,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:55:07,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,397 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:55:07,397 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:55:07,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:55:07,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,399 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:55:07,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:55:07,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:55:07,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,400 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:55:07,400 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:55:07,400 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:55:07,400 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,400 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:55:07,400 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:55:07,401 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C46D8> being returned to pool
2020-03-11 03:55:07,401 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C46D8> rollback-on-return
2020-03-11 03:55:07,402 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC683278>
2020-03-11 03:55:07,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:55:07,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,404 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:07,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:55:07,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:55:07,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,405 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:07,405 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:55:07,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:55:07,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,406 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:55:07,406 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:55:07,406 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:07,406 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:07,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:07,407 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:07,407 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC683278> checked out from pool
2020-03-11 03:55:07,407 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:55:07,408 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:55:07,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC683278> being returned to pool
2020-03-11 03:55:07,408 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC683278> rollback-on-return
2020-03-11 03:55:07,411 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C1780>
2020-03-11 03:55:07,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:55:07,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:07,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:55:07,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:55:07,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,416 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:07,416 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:55:07,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:55:07,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,417 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:55:07,417 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:55:07,418 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:07,418 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:07,419 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:07,419 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:07,419 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C1780> checked out from pool
2020-03-11 03:55:07,419 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:55:07,420 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:55:07,420 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:55:07,421 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:55:07,421 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 1)
2020-03-11 03:55:07,421 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 1)
2020-03-11 03:55:07,421 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 1)
2020-03-11 03:55:07,421 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C1780> being returned to pool
2020-03-11 03:55:07,421 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C1780> rollback-on-return, via agent
2020-03-11 03:55:07,421 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:55:07,421 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6C42E8>, <hospital_test.models.Address object at 0x00000207CC67FC88>, <hospital_test.models.Address object at 0x00000207CC67FC50>]}
2020-03-11 03:55:07,424 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C1400>
2020-03-11 03:55:07,424 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:55:07,424 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,425 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:07,426 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:55:07,426 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:55:07,426 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,427 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:55:07,427 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:55:07,428 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:55:07,428 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:55:07,429 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:55:07,429 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:55:07,430 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:07,430 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:07,431 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:55:07,431 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:55:07,431 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C1400> checked out from pool
2020-03-11 03:55:07,431 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:55:07,432 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:55:07,432 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:55:07,432 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:55:07,433 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:55:07,433 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C1400> being returned to pool
2020-03-11 03:55:07,433 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C1400> rollback-on-return, via agent
2020-03-11 03:55:07,433 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:55:07,433 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6C42E8>, <hospital_test.models.Address object at 0x00000207CC67FC88>, <hospital_test.models.Address object at 0x00000207CC67FC50>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6C1BE0>]}
2020-03-11 03:58:17,160 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68A710>
2020-03-11 03:58:17,160 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:58:17,161 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,162 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:58:17,162 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:58:17,162 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:58:17,162 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,163 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:58:17,163 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:58:17,164 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:58:17,164 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,164 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:58:17,164 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:58:17,165 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:58:17,165 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:58:17,166 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:58:17,166 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:58:17,166 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68A710> checked out from pool
2020-03-11 03:58:17,166 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:58:17,166 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,167 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:58:17,167 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:58:17,167 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:58:17,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,169 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:58:17,169 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:58:17,169 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:58:17,169 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,170 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:58:17,170 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:58:17,171 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:58:17,171 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,171 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:58:17,171 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:58:17,172 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68A710> being returned to pool
2020-03-11 03:58:17,172 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68A710> rollback-on-return
2020-03-11 03:58:17,174 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6DF780>
2020-03-11 03:58:17,174 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:58:17,175 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,176 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:58:17,176 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:58:17,176 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:58:17,176 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,177 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:58:17,177 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:58:17,178 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:58:17,178 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,179 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:58:17,179 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:58:17,180 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:58:17,180 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:58:17,180 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:58:17,180 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:58:17,181 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6DF780> checked out from pool
2020-03-11 03:58:17,181 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:58:17,181 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:58:17,182 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6DF780> being returned to pool
2020-03-11 03:58:17,182 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6DF780> rollback-on-return
2020-03-11 03:58:17,184 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6DF668>
2020-03-11 03:58:17,184 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:58:17,184 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,185 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:58:17,185 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:58:17,186 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:58:17,186 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,187 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:58:17,187 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:58:17,188 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:58:17,188 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,188 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:58:17,188 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:58:17,189 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:58:17,189 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:58:17,190 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:58:17,190 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:58:17,190 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6DF668> checked out from pool
2020-03-11 03:58:17,190 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:58:17,191 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:58:17,191 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:58:17,192 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:58:17,192 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 1)
2020-03-11 03:58:17,192 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 1)
2020-03-11 03:58:17,192 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 1)
2020-03-11 03:58:17,192 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6DF668> being returned to pool
2020-03-11 03:58:17,192 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6DF668> rollback-on-return, via agent
2020-03-11 03:58:17,193 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:58:17,193 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6ADD68>, <hospital_test.models.Address object at 0x00000207CC6ADE80>, <hospital_test.models.Address object at 0x00000207CC6AD518>]}
2020-03-11 03:58:17,195 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6AD320>
2020-03-11 03:58:17,195 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:58:17,195 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,197 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:58:17,197 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:58:17,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:58:17,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,198 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:58:17,198 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:58:17,199 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:58:17,199 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:58:17,199 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:58:17,199 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:58:17,200 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:58:17,200 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:58:17,200 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:58:17,200 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:58:17,201 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6AD320> checked out from pool
2020-03-11 03:58:17,201 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:58:17,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:58:17,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:58:17,201 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:58:17,202 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:58:17,202 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6AD320> being returned to pool
2020-03-11 03:58:17,202 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6AD320> rollback-on-return, via agent
2020-03-11 03:58:17,202 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:58:17,202 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6ADD68>, <hospital_test.models.Address object at 0x00000207CC6ADE80>, <hospital_test.models.Address object at 0x00000207CC6AD518>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6DFB38>]}
2020-03-11 03:59:25,927 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9160>
2020-03-11 03:59:25,928 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:59:25,928 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,929 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:25,929 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:59:25,929 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:59:25,929 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,930 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:25,931 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:59:25,931 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:59:25,931 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,931 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:59:25,931 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:59:25,932 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:25,932 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:25,933 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:25,933 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:25,934 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9160> checked out from pool
2020-03-11 03:59:25,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:59:25,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,934 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:59:25,935 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:59:25,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:59:25,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,936 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:59:25,936 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:59:25,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:59:25,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,938 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:59:25,938 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:59:25,938 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:59:25,938 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,939 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:59:25,940 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:59:25,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9160> being returned to pool
2020-03-11 03:59:25,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9160> rollback-on-return
2020-03-11 03:59:25,942 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC18>
2020-03-11 03:59:25,943 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:59:25,943 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,944 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:25,944 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:59:25,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:59:25,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,945 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:25,945 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:59:25,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:59:25,946 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,946 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:59:25,946 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:59:25,947 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:25,947 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:25,948 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:25,948 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:25,948 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC18> checked out from pool
2020-03-11 03:59:25,948 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:59:25,949 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:59:25,949 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC18> being returned to pool
2020-03-11 03:59:25,949 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EC18> rollback-on-return
2020-03-11 03:59:25,951 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC725A20>
2020-03-11 03:59:25,952 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:59:25,952 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,953 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:25,953 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:59:25,953 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:59:25,953 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,955 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:25,955 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:59:25,955 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:59:25,955 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,955 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:59:25,955 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:59:25,957 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:25,957 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:25,957 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:25,957 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:25,958 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC725A20> checked out from pool
2020-03-11 03:59:25,958 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:59:25,959 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:59:25,959 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:59:25,959 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:59:25,959 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 1)
2020-03-11 03:59:25,959 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 1)
2020-03-11 03:59:25,960 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 1)
2020-03-11 03:59:25,960 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC725A20> being returned to pool
2020-03-11 03:59:25,960 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC725A20> rollback-on-return, via agent
2020-03-11 03:59:25,960 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:59:25,960 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6A9C50>, <hospital_test.models.Address object at 0x00000207CC65EF28>, <hospital_test.models.Address object at 0x00000207CC65ED30>]}
2020-03-11 03:59:25,962 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC725B70>
2020-03-11 03:59:25,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:59:25,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,964 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:25,964 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:59:25,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:59:25,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,965 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:25,965 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:59:25,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:59:25,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:25,966 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:59:25,966 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:59:25,967 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:25,967 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:25,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:25,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:25,968 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC725B70> checked out from pool
2020-03-11 03:59:25,969 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:59:25,969 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:59:25,969 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:59:25,970 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:59:25,970 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:59:25,970 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC725B70> being returned to pool
2020-03-11 03:59:25,970 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC725B70> rollback-on-return, via agent
2020-03-11 03:59:25,970 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:59:25,970 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6A9C50>, <hospital_test.models.Address object at 0x00000207CC65EF28>, <hospital_test.models.Address object at 0x00000207CC65ED30>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC725A58>]}
2020-03-11 03:59:41,320 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBB1C18>
2020-03-11 03:59:41,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:59:41,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:41,322 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:59:41,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:59:41,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,324 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:41,324 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:59:41,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:59:41,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:59:41,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:59:41,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:41,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:41,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:41,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:41,327 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBB1C18> checked out from pool
2020-03-11 03:59:41,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 03:59:41,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,328 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:59:41,328 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:59:41,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 03:59:41,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,329 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:59:41,330 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 03:59:41,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 03:59:41,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,330 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:59:41,330 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 03:59:41,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 03:59:41,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,331 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 03:59:41,331 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 03:59:41,331 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBB1C18> being returned to pool
2020-03-11 03:59:41,331 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBB1C18> rollback-on-return
2020-03-11 03:59:41,333 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C4D68>
2020-03-11 03:59:41,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:59:41,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,335 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:41,335 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:59:41,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:59:41,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,336 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:41,337 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:59:41,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:59:41,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,338 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:59:41,338 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 03:59:41,339 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:41,339 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:41,339 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:41,339 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:41,340 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C4D68> checked out from pool
2020-03-11 03:59:41,340 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 03:59:41,340 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 03:59:41,340 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C4D68> being returned to pool
2020-03-11 03:59:41,340 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6C4D68> rollback-on-return
2020-03-11 03:59:41,343 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E438>
2020-03-11 03:59:41,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:59:41,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,344 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:41,344 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:59:41,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:59:41,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,345 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:41,345 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:59:41,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:59:41,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,346 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:59:41,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:59:41,347 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:41,347 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:41,348 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:41,348 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:41,348 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E438> checked out from pool
2020-03-11 03:59:41,348 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:59:41,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 03:59:41,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 03:59:41,350 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 03:59:41,350 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 1)
2020-03-11 03:59:41,350 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 1)
2020-03-11 03:59:41,350 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 1)
2020-03-11 03:59:41,350 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E438> being returned to pool
2020-03-11 03:59:41,350 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E438> rollback-on-return, via agent
2020-03-11 03:59:41,350 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:59:41,350 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6C4048>, <hospital_test.models.Address object at 0x00000207CC6C4828>, <hospital_test.models.Address object at 0x00000207CC6C4F98>]}
2020-03-11 03:59:41,353 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E400>
2020-03-11 03:59:41,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 03:59:41,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:41,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 03:59:41,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 03:59:41,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,356 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 03:59:41,356 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 03:59:41,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 03:59:41,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 03:59:41,357 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 03:59:41,358 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 03:59:41,359 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:41,359 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:41,359 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 03:59:41,359 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 03:59:41,360 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E400> checked out from pool
2020-03-11 03:59:41,360 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 03:59:41,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 03:59:41,361 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 03:59:41,361 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 03:59:41,361 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 03:59:41,361 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E400> being returned to pool
2020-03-11 03:59:41,361 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E400> rollback-on-return, via agent
2020-03-11 03:59:41,361 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 03:59:41,361 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6C4048>, <hospital_test.models.Address object at 0x00000207CC6C4828>, <hospital_test.models.Address object at 0x00000207CC6C4F98>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CCA5E780>]}
2020-03-11 04:00:48,785 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC512F28>
2020-03-11 04:00:48,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:00:48,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,786 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:00:48,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:00:48,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:00:48,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,789 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:00:48,789 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:00:48,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:00:48,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,791 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:00:48,791 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:00:48,792 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:00:48,792 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:00:48,792 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:00:48,792 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:00:48,793 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC512F28> checked out from pool
2020-03-11 04:00:48,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:00:48,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,794 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:00:48,794 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:00:48,794 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:00:48,794 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:00:48,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:00:48,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:00:48,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,796 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:00:48,796 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:00:48,797 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:00:48,797 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,797 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:00:48,797 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:00:48,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC512F28> being returned to pool
2020-03-11 04:00:48,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC512F28> rollback-on-return
2020-03-11 04:00:48,800 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEBA8>
2020-03-11 04:00:48,801 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:00:48,801 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,802 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:00:48,802 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:00:48,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:00:48,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,804 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:00:48,804 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:00:48,805 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:00:48,806 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,806 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:00:48,806 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:00:48,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:00:48,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:00:48,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:00:48,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:00:48,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEBA8> checked out from pool
2020-03-11 04:00:48,809 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:00:48,809 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:00:48,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEBA8> being returned to pool
2020-03-11 04:00:48,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEBA8> rollback-on-return
2020-03-11 04:00:48,812 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62E10>
2020-03-11 04:00:48,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:00:48,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,813 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:00:48,813 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:00:48,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:00:48,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,815 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:00:48,815 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:00:48,815 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:00:48,815 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,815 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:00:48,816 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:00:48,816 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:00:48,816 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:00:48,817 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:00:48,817 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:00:48,817 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62E10> checked out from pool
2020-03-11 04:00:48,817 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:00:48,818 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:00:48,818 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:00:48,819 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:00:48,819 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (2, '5550008088', '马彬', '18687854124', '云南省', '市(城市)', '区(县)', '', 2, 1)
2020-03-11 04:00:48,819 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 1)
2020-03-11 04:00:48,819 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 1)
2020-03-11 04:00:48,820 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62E10> being returned to pool
2020-03-11 04:00:48,820 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62E10> rollback-on-return, via agent
2020-03-11 04:00:48,820 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:00:48,820 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6CE8D0>, <hospital_test.models.Address object at 0x00000207CC6CE9B0>, <hospital_test.models.Address object at 0x00000207CC6CEC88>]}
2020-03-11 04:00:48,822 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEAC8>
2020-03-11 04:00:48,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:00:48,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,824 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:00:48,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:00:48,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:00:48,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,825 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:00:48,825 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:00:48,825 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:00:48,825 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:00:48,826 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:00:48,826 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:00:48,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:00:48,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:00:48,827 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:00:48,827 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:00:48,827 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEAC8> checked out from pool
2020-03-11 04:00:48,827 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:00:48,828 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:00:48,828 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:00:48,828 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:00:48,828 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 04:00:48,828 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEAC8> being returned to pool
2020-03-11 04:00:48,829 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEAC8> rollback-on-return, via agent
2020-03-11 04:00:48,829 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:00:48,829 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6CE8D0>, <hospital_test.models.Address object at 0x00000207CC6CE9B0>, <hospital_test.models.Address object at 0x00000207CC6CEC88>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC68D0B8>]}
2020-03-11 04:01:28,449 root:INFO:models:del_custom_addr:MainProcess:1836:删除联系人：==>
2020-03-11 04:01:28,451 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEDD8>
2020-03-11 04:01:28,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:28,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:28,453 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:28,453 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:28,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:28,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:28,455 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:28,455 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:28,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:28,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:28,456 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:28,456 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:28,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:28,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:28,457 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:28,457 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:28,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEDD8> checked out from pool
2020-03-11 04:01:28,457 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:28,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DELETE FROM custom_addr WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 04:01:28,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'addr_id_1': '2'}
2020-03-11 04:01:28,458 root:INFO:models:del_custom_addr:MainProcess:1836:==> Parameters:1
2020-03-11 04:01:28,458 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:01:28,459 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEDD8> being returned to pool
2020-03-11 04:01:28,460 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CEDD8> rollback-on-return
2020-03-11 04:01:28,460 root:INFO:models:del_custom_addr:MainProcess:1836:联系人删除成功！
2020-03-11 04:01:28,460 root:INFO:views:del_addr:MainProcess:1836:{'status': 'success'}
2020-03-11 04:01:30,255 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CE6D8>
2020-03-11 04:01:30,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:30,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,258 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:30,258 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:30,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:30,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,259 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:30,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:30,260 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:30,260 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,260 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:30,260 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:30,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:30,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:30,262 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:30,262 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:30,262 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CE6D8> checked out from pool
2020-03-11 04:01:30,263 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:01:30,263 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,263 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:30,263 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:01:30,264 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:01:30,264 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,266 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:30,266 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:01:30,266 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:01:30,266 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,266 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:30,266 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:01:30,266 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:01:30,266 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,267 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:30,267 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:01:30,268 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CE6D8> being returned to pool
2020-03-11 04:01:30,268 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CE6D8> rollback-on-return
2020-03-11 04:01:30,272 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62B00>
2020-03-11 04:01:30,272 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:30,273 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,274 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:30,275 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:30,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:30,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,276 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:30,276 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:30,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:30,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,278 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:30,278 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:01:30,279 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:30,279 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:30,279 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:30,280 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:30,280 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62B00> checked out from pool
2020-03-11 04:01:30,280 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:01:30,281 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:01:30,281 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62B00> being returned to pool
2020-03-11 04:01:30,281 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62B00> rollback-on-return
2020-03-11 04:01:30,284 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6E2CC0>
2020-03-11 04:01:30,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:30,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,287 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:30,287 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:30,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:30,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,290 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:30,290 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:30,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:30,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,291 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:30,291 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:30,292 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:30,292 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:30,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:30,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:30,293 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6E2CC0> checked out from pool
2020-03-11 04:01:30,293 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:30,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:01:30,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:01:30,295 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:01:30,295 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (4, '5550008088', '马彬', '18687854124', '云南省', '市', '区', '', 2, 1)
2020-03-11 04:01:30,295 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 1)
2020-03-11 04:01:30,295 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6E2CC0> being returned to pool
2020-03-11 04:01:30,295 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6E2CC0> rollback-on-return, via agent
2020-03-11 04:01:30,296 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:01:30,296 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA62588>, <hospital_test.models.Address object at 0x00000207CCA62B38>]}
2020-03-11 04:01:30,298 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA624E0>
2020-03-11 04:01:30,299 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:30,299 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,300 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:30,300 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:30,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:30,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,302 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:30,302 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:30,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:30,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:30,303 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:30,303 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:30,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:30,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:30,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:30,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:30,306 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA624E0> checked out from pool
2020-03-11 04:01:30,306 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:30,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:01:30,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:01:30,308 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:01:30,308 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 04:01:30,308 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA624E0> being returned to pool
2020-03-11 04:01:30,308 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA624E0> rollback-on-return, via agent
2020-03-11 04:01:30,308 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:01:30,308 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA62588>, <hospital_test.models.Address object at 0x00000207CCA62B38>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6E2AC8>]}
2020-03-11 04:01:51,032 root:INFO:models:del_custom_addr:MainProcess:1836:删除联系人：==>
2020-03-11 04:01:51,035 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5ECF8>
2020-03-11 04:01:51,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:51,035 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:51,037 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:51,037 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:51,037 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:51,037 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:51,038 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:51,038 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:51,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:51,039 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:51,039 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:51,039 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:51,040 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:51,040 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:51,040 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:51,041 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:51,041 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5ECF8> checked out from pool
2020-03-11 04:01:51,041 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:51,041 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DELETE FROM custom_addr WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 04:01:51,041 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'addr_id_1': '4'}
2020-03-11 04:01:51,042 root:INFO:models:del_custom_addr:MainProcess:1836:==> Parameters:1
2020-03-11 04:01:51,042 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:01:51,054 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5ECF8> being returned to pool
2020-03-11 04:01:51,054 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5ECF8> rollback-on-return
2020-03-11 04:01:51,055 root:INFO:models:del_custom_addr:MainProcess:1836:联系人删除成功！
2020-03-11 04:01:51,055 root:INFO:views:del_addr:MainProcess:1836:{'status': 'success'}
2020-03-11 04:01:52,319 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA65D30>
2020-03-11 04:01:52,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:52,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,321 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:52,321 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:52,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:52,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,324 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:52,324 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:52,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:52,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:52,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:52,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:52,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:52,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:52,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:52,328 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA65D30> checked out from pool
2020-03-11 04:01:52,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:01:52,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,329 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:52,329 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:01:52,329 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:01:52,329 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,331 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:52,331 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:01:52,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:01:52,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,332 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:52,332 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:01:52,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:01:52,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,334 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:52,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:01:52,334 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA65D30> being returned to pool
2020-03-11 04:01:52,334 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA65D30> rollback-on-return
2020-03-11 04:01:52,336 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0AC8>
2020-03-11 04:01:52,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:52,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,338 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:52,338 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:52,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:52,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,341 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:52,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:52,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:52,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,343 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:52,343 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:01:52,344 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:52,344 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:52,344 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:52,344 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:52,345 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0AC8> checked out from pool
2020-03-11 04:01:52,345 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:01:52,346 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:01:52,346 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0AC8> being returned to pool
2020-03-11 04:01:52,346 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0AC8> rollback-on-return
2020-03-11 04:01:52,348 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC72A6A0>
2020-03-11 04:01:52,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:52,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,351 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:52,351 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:52,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:52,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,352 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:52,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:52,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:52,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:52,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:52,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:52,356 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:52,356 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:52,356 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:52,357 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC72A6A0> checked out from pool
2020-03-11 04:01:52,357 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:52,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:01:52,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:01:52,358 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:01:52,358 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (5, '5550008088', '马彬', '18687854124', '吉林省', '四平市', '双辽市', '万科云子6栋203', 2, 1)
2020-03-11 04:01:52,358 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC72A6A0> being returned to pool
2020-03-11 04:01:52,359 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC72A6A0> rollback-on-return, via agent
2020-03-11 04:01:52,359 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:01:52,359 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC72A8D0>]}
2020-03-11 04:01:52,361 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC72AEF0>
2020-03-11 04:01:52,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:52,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,363 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:52,363 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:52,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:52,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,365 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:52,365 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:52,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:52,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:52,366 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:52,366 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:52,367 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:52,367 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:52,368 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:52,368 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:52,368 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC72AEF0> checked out from pool
2020-03-11 04:01:52,368 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:52,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:01:52,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:01:52,369 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:01:52,369 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 04:01:52,370 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC72AEF0> being returned to pool
2020-03-11 04:01:52,370 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC72AEF0> rollback-on-return, via agent
2020-03-11 04:01:52,370 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:01:52,370 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC72A8D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC796A20>]}
2020-03-11 04:01:57,700 root:INFO:models:del_custom_addr:MainProcess:1836:删除联系人：==>
2020-03-11 04:01:57,703 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D710>
2020-03-11 04:01:57,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:57,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:57,705 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:57,705 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:57,706 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:57,706 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:57,707 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:57,707 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:57,708 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:57,709 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:57,709 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:57,709 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:57,710 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:57,710 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:57,710 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:57,710 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:57,710 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D710> checked out from pool
2020-03-11 04:01:57,711 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:57,711 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DELETE FROM custom_addr WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 04:01:57,711 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'addr_id_1': '5'}
2020-03-11 04:01:57,711 root:INFO:models:del_custom_addr:MainProcess:1836:==> Parameters:1
2020-03-11 04:01:57,711 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:01:57,715 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D710> being returned to pool
2020-03-11 04:01:57,715 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D710> rollback-on-return
2020-03-11 04:01:57,715 root:INFO:models:del_custom_addr:MainProcess:1836:联系人删除成功！
2020-03-11 04:01:57,715 root:INFO:views:del_addr:MainProcess:1836:{'status': 'success'}
2020-03-11 04:01:59,689 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6AD828>
2020-03-11 04:01:59,689 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:59,689 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,691 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:59,691 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:59,691 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:59,691 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,693 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:59,693 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:59,694 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:59,694 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,694 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:59,694 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:59,695 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:59,695 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:59,696 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:59,696 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:59,696 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6AD828> checked out from pool
2020-03-11 04:01:59,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:01:59,697 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,698 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:59,698 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:01:59,698 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:01:59,698 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,700 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:59,700 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:01:59,701 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:01:59,701 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,702 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:59,702 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:01:59,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:01:59,703 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,703 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:01:59,703 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:01:59,703 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6AD828> being returned to pool
2020-03-11 04:01:59,703 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6AD828> rollback-on-return
2020-03-11 04:01:59,707 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65ECF8>
2020-03-11 04:01:59,707 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:59,707 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,709 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:59,709 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:59,710 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:59,710 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,711 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:59,711 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:59,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:59,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,712 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:59,712 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:01:59,713 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:59,713 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:59,714 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:59,714 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:59,714 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65ECF8> checked out from pool
2020-03-11 04:01:59,715 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:01:59,715 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:01:59,715 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65ECF8> being returned to pool
2020-03-11 04:01:59,715 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65ECF8> rollback-on-return
2020-03-11 04:01:59,718 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FF28>
2020-03-11 04:01:59,719 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:59,719 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,721 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:59,721 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:59,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:59,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,724 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:59,724 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:59,725 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:59,725 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,725 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:59,725 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:59,726 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:59,726 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:59,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:59,727 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:59,727 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FF28> checked out from pool
2020-03-11 04:01:59,727 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:59,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:01:59,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:01:59,729 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:01:59,729 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FF28> being returned to pool
2020-03-11 04:01:59,729 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC67FF28> rollback-on-return, via agent
2020-03-11 04:01:59,729 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:01:59,729 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': []}
2020-03-11 04:01:59,732 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EDD8>
2020-03-11 04:01:59,732 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:01:59,732 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,733 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:59,733 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:01:59,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:01:59,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,735 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:01:59,735 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:01:59,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:01:59,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:01:59,736 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:01:59,736 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:01:59,738 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:59,738 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:59,739 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:01:59,739 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:01:59,739 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EDD8> checked out from pool
2020-03-11 04:01:59,740 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:01:59,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:01:59,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:01:59,741 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:01:59,741 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 04:01:59,741 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EDD8> being returned to pool
2020-03-11 04:01:59,741 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EDD8> rollback-on-return, via agent
2020-03-11 04:01:59,741 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:01:59,741 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC66E7B8>]}
2020-03-11 04:02:04,185 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62860>
2020-03-11 04:02:04,186 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:04,186 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,189 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:04,189 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:04,189 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:04,189 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,191 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:04,191 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:04,192 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:04,192 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,192 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:04,192 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:02:04,193 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:04,193 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:04,193 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:04,194 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:04,194 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62860> checked out from pool
2020-03-11 04:02:04,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:02:04,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,195 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:02:04,195 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:02:04,195 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:02:04,195 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,196 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:02:04,196 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:02:04,196 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:02:04,196 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,197 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:02:04,197 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:02:04,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:02:04,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,198 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:02:04,198 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:02:04,198 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62860> being returned to pool
2020-03-11 04:02:04,198 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62860> rollback-on-return
2020-03-11 04:02:04,200 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5E128>
2020-03-11 04:02:04,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:04,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,202 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:04,202 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:04,203 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:04,203 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,204 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:04,204 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:04,205 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:04,205 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,205 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:04,205 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:02:04,206 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:04,206 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:04,206 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:04,206 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:04,207 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5E128> checked out from pool
2020-03-11 04:02:04,207 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:02:04,207 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:02:04,207 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5E128> being returned to pool
2020-03-11 04:02:04,207 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5E128> rollback-on-return
2020-03-11 04:02:04,209 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB240>
2020-03-11 04:02:04,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:04,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,211 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:04,211 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:04,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:04,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,212 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:04,212 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:04,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:04,212 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,213 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:04,213 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:02:04,214 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:04,214 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:04,214 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:04,214 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:04,215 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB240> checked out from pool
2020-03-11 04:02:04,215 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:02:04,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:02:04,216 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:02:04,216 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:02:04,216 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB240> being returned to pool
2020-03-11 04:02:04,216 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB240> rollback-on-return, via agent
2020-03-11 04:02:04,216 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:02:04,217 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': []}
2020-03-11 04:02:04,219 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5EA90>
2020-03-11 04:02:04,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:04,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,222 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:04,222 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:04,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:04,222 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,224 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:04,224 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:04,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:04,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:04,225 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:04,225 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:02:04,226 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:04,226 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:04,227 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:04,227 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:04,227 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5EA90> checked out from pool
2020-03-11 04:02:04,227 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:02:04,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:02:04,228 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:02:04,228 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:02:04,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 04:02:04,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5EA90> being returned to pool
2020-03-11 04:02:04,229 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5EA90> rollback-on-return, via agent
2020-03-11 04:02:04,229 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:02:04,229 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC674860>]}
2020-03-11 04:02:25,340 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB470>
2020-03-11 04:02:25,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:25,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:25,342 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:25,342 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:25,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:25,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:25,344 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:25,344 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:25,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:25,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:25,344 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:25,344 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:02:25,345 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:25,345 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:25,346 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:25,346 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:25,346 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB470> checked out from pool
2020-03-11 04:02:25,346 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:02:25,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:02:25,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:02:25,348 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:02:25,348 root:INFO:models:save_custom_addr:MainProcess:1836:开始连接数据库保存地址信息
2020-03-11 04:02:25,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 04:02:25,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num': '5550008088', 'consignee': '马彬', 'con_tel': '18687854124', 'province': '江苏省', 'city': '无锡市', 'zone': '滨湖区', 'addr_detail': '翠屏山', 'is_hos_addr': '2', 'auto_state': 0}
2020-03-11 04:02:25,350 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:02:25,351 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB470> being returned to pool
2020-03-11 04:02:25,351 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB470> rollback-on-return
2020-03-11 04:02:25,351 root:INFO:models:save_custom_addr:MainProcess:1836:地址信息保存成功！
2020-03-11 04:02:25,351 root:INFO:views:save_addr:MainProcess:1836:{'status': 'success'}
2020-03-11 04:02:27,303 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08940>
2020-03-11 04:02:27,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:27,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,305 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:27,305 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:27,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:27,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,307 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:27,307 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:27,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:27,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,308 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:27,308 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:02:27,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:27,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:27,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:27,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:27,310 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08940> checked out from pool
2020-03-11 04:02:27,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:02:27,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,311 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:02:27,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:02:27,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:02:27,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,313 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:02:27,313 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:02:27,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:02:27,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,314 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:02:27,314 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:02:27,315 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:02:27,315 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,315 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:02:27,316 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:02:27,316 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08940> being returned to pool
2020-03-11 04:02:27,316 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08940> rollback-on-return
2020-03-11 04:02:27,319 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB828>
2020-03-11 04:02:27,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:27,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,323 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:27,323 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:27,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:27,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:27,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:27,326 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:27,326 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,326 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:27,326 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:02:27,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:27,327 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:27,328 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:27,328 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:27,328 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB828> checked out from pool
2020-03-11 04:02:27,329 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:02:27,329 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:02:27,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB828> being returned to pool
2020-03-11 04:02:27,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB828> rollback-on-return
2020-03-11 04:02:27,332 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675F60>
2020-03-11 04:02:27,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:27,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,333 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:27,333 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:27,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:27,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,335 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:27,335 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:27,336 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:27,336 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,336 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:27,336 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:02:27,337 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:27,337 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:27,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:27,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:27,339 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675F60> checked out from pool
2020-03-11 04:02:27,339 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:02:27,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:02:27,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:02:27,341 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:02:27,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 0)
2020-03-11 04:02:27,341 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675F60> being returned to pool
2020-03-11 04:02:27,341 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675F60> rollback-on-return, via agent
2020-03-11 04:02:27,341 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:02:27,342 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6EB0B8>]}
2020-03-11 04:02:27,344 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB1D0>
2020-03-11 04:02:27,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:02:27,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,346 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:27,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:02:27,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:02:27,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,347 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:02:27,347 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:02:27,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:02:27,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:02:27,349 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:02:27,349 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:02:27,350 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:27,350 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:27,350 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:02:27,350 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:02:27,351 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB1D0> checked out from pool
2020-03-11 04:02:27,351 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:02:27,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:02:27,352 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:02:27,352 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:02:27,352 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 04:02:27,352 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB1D0> being returned to pool
2020-03-11 04:02:27,353 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB1D0> rollback-on-return, via agent
2020-03-11 04:02:27,353 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:02:27,353 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6EB0B8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC675B70>]}
2020-03-11 04:03:47,894 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 04:03:47,897 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692F28>
2020-03-11 04:03:47,897 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:03:47,897 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:47,899 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:47,899 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:03:47,899 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:03:47,899 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:47,900 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:47,900 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:03:47,901 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:03:47,901 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:47,901 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:03:47,901 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:03:47,902 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:47,902 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:47,902 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:47,902 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:47,903 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692F28> checked out from pool
2020-03-11 04:03:47,903 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:03:47,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 04:03:47,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201912203096', 'addr_id': '6', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 04:03:47,904 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:03:47,904 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692F28> being returned to pool
2020-03-11 04:03:47,904 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692F28> rollback-on-return
2020-03-11 04:03:47,904 root:INFO:models:save_pres_addr:MainProcess:1836:处方关联失败！
2020-03-11 04:03:47,904 root:INFO:models:save_pres_addr:MainProcess:1836:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201912203096' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201912203096', 'addr_id': '6', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 04:03:57,962 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08A90>
2020-03-11 04:03:57,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:03:57,963 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,964 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:57,965 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:03:57,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:03:57,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,966 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:57,966 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:03:57,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:03:57,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:03:57,968 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:03:57,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:57,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:57,970 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:57,970 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:57,971 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08A90> checked out from pool
2020-03-11 04:03:57,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:03:57,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,972 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:03:57,972 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:03:57,972 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:03:57,972 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,973 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:03:57,973 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:03:57,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:03:57,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,974 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:03:57,974 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:03:57,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:03:57,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,975 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:03:57,976 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:03:57,976 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08A90> being returned to pool
2020-03-11 04:03:57,976 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08A90> rollback-on-return
2020-03-11 04:03:57,978 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9400>
2020-03-11 04:03:57,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:03:57,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,980 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:57,980 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:03:57,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:03:57,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,982 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:57,982 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:03:57,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:03:57,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,983 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:03:57,983 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:03:57,984 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:57,984 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:57,985 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:57,986 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:57,987 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9400> checked out from pool
2020-03-11 04:03:57,987 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:03:57,987 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:03:57,987 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9400> being returned to pool
2020-03-11 04:03:57,988 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9400> rollback-on-return
2020-03-11 04:03:57,992 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D3C8>
2020-03-11 04:03:57,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:03:57,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,994 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:57,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:03:57,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:03:57,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,995 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:57,996 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:03:57,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:03:57,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:57,997 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:03:57,997 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:03:57,998 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:57,998 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:57,998 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:57,999 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:57,999 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D3C8> checked out from pool
2020-03-11 04:03:57,999 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:03:58,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:03:58,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:03:58,002 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:03:58,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 0)
2020-03-11 04:03:58,002 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D3C8> being returned to pool
2020-03-11 04:03:58,002 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D3C8> rollback-on-return, via agent
2020-03-11 04:03:58,002 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:03:58,003 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC68D7B8>]}
2020-03-11 04:03:58,006 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D470>
2020-03-11 04:03:58,006 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:03:58,006 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:58,008 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:58,008 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:03:58,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:03:58,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:58,009 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:03:58,009 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:03:58,010 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:03:58,010 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:03:58,010 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:03:58,010 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:03:58,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:58,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:58,012 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:03:58,012 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:03:58,012 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D470> checked out from pool
2020-03-11 04:03:58,012 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:03:58,013 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:03:58,013 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:03:58,014 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:03:58,014 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 1, None, 0)
2020-03-11 04:03:58,014 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D470> being returned to pool
2020-03-11 04:03:58,014 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68D470> rollback-on-return, via agent
2020-03-11 04:03:58,014 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:03:58,014 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC68D7B8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6E2C50>]}
2020-03-11 04:04:28,371 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 04:04:28,373 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBC8240>
2020-03-11 04:04:28,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:04:28,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:28,375 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:28,375 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:04:28,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:04:28,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:28,377 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:28,377 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:04:28,378 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:04:28,378 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:28,378 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:04:28,378 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:04:28,379 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:28,379 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:28,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:28,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:28,380 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBC8240> checked out from pool
2020-03-11 04:04:28,380 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:04:28,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 04:04:28,381 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201912203096', 'addr_id': '6', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 04:04:28,381 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:04:28,392 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBC8240> being returned to pool
2020-03-11 04:04:28,393 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBC8240> rollback-on-return
2020-03-11 04:04:28,393 root:INFO:models:save_pres_addr:MainProcess:1836:处方地址关联成功！
2020-03-11 04:04:28,393 root:INFO:models:update_addr_state:MainProcess:1836:更新地址状态：==>
2020-03-11 04:04:28,395 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBB9080>
2020-03-11 04:04:28,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:04:28,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:28,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:28,398 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:04:28,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:04:28,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:28,400 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:28,400 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:04:28,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:04:28,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:28,402 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:04:28,402 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:04:28,403 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:28,403 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:28,403 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:28,404 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:28,404 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBB9080> checked out from pool
2020-03-11 04:04:28,404 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:04:28,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:UPDATE custom_addr SET auto_state=%(auto_state)s WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 04:04:28,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'auto_state': 1, 'addr_id_1': '6'}
2020-03-11 04:04:28,405 root:INFO:models:update_addr_state:MainProcess:1836:==> Parameters:1
2020-03-11 04:04:28,405 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:04:28,406 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBB9080> being returned to pool
2020-03-11 04:04:28,406 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBB9080> rollback-on-return
2020-03-11 04:04:28,406 root:INFO:models:update_addr_state:MainProcess:1836:地址状态更新成功！
2020-03-11 04:04:34,405 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDD198>
2020-03-11 04:04:34,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:04:34,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,407 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:34,407 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:04:34,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:04:34,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,409 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:34,409 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:04:34,410 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:04:34,410 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,410 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:04:34,410 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:04:34,411 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:34,412 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:34,412 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:34,412 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:34,413 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDD198> checked out from pool
2020-03-11 04:04:34,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:04:34,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:04:34,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:04:34,415 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:04:34,415 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,416 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:04:34,416 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:04:34,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:04:34,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,419 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:04:34,419 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:04:34,419 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:04:34,420 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,421 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:04:34,421 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:04:34,421 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDD198> being returned to pool
2020-03-11 04:04:34,421 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDD198> rollback-on-return
2020-03-11 04:04:34,424 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDDEF0>
2020-03-11 04:04:34,424 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:04:34,424 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,426 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:34,426 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:04:34,426 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:04:34,426 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,428 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:34,428 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:04:34,428 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:04:34,429 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,429 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:04:34,429 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:04:34,430 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:34,430 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:34,431 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:34,431 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:34,431 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDDEF0> checked out from pool
2020-03-11 04:04:34,431 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:04:34,432 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:04:34,432 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDDEF0> being returned to pool
2020-03-11 04:04:34,432 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDDEF0> rollback-on-return
2020-03-11 04:04:34,436 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6787F0>
2020-03-11 04:04:34,436 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:04:34,437 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,438 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:34,438 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:04:34,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:04:34,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,439 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:34,439 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:04:34,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:04:34,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,441 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:04:34,441 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:04:34,441 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:34,442 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:34,442 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:34,442 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:34,443 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6787F0> checked out from pool
2020-03-11 04:04:34,443 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:04:34,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:04:34,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:04:34,444 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:04:34,445 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:04:34,445 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6787F0> being returned to pool
2020-03-11 04:04:34,445 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6787F0> rollback-on-return, via agent
2020-03-11 04:04:34,445 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:04:34,445 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC678E48>]}
2020-03-11 04:04:34,448 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678748>
2020-03-11 04:04:34,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:04:34,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,450 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:34,451 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:04:34,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:04:34,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,453 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:04:34,454 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:04:34,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:04:34,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:04:34,455 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:04:34,455 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:04:34,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:34,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:34,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:04:34,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:04:34,456 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678748> checked out from pool
2020-03-11 04:04:34,457 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:04:34,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:04:34,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:04:34,457 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:04:34,457 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 6, None, 0)
2020-03-11 04:04:34,458 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678748> being returned to pool
2020-03-11 04:04:34,458 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678748> rollback-on-return, via agent
2020-03-11 04:04:34,458 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:04:34,458 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC678E48>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6CEA20>]}
2020-03-11 04:05:56,660 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CE860>
2020-03-11 04:05:56,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:05:56,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,664 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:05:56,664 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:05:56,665 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:05:56,665 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,666 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:05:56,666 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:05:56,667 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:05:56,667 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,667 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:05:56,668 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:05:56,668 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:05:56,668 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:05:56,669 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:05:56,669 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:05:56,670 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CE860> checked out from pool
2020-03-11 04:05:56,670 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:05:56,670 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,671 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:05:56,671 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:05:56,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:05:56,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,673 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:05:56,673 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:05:56,673 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:05:56,673 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,674 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:05:56,674 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:05:56,675 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:05:56,675 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,675 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:05:56,675 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:05:56,676 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CE860> being returned to pool
2020-03-11 04:05:56,676 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CE860> rollback-on-return
2020-03-11 04:05:56,678 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692518>
2020-03-11 04:05:56,678 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:05:56,678 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,680 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:05:56,680 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:05:56,680 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:05:56,680 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,682 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:05:56,682 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:05:56,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:05:56,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,684 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:05:56,684 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:05:56,684 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:05:56,685 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:05:56,685 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:05:56,685 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:05:56,686 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692518> checked out from pool
2020-03-11 04:05:56,686 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:05:56,686 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:05:56,686 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692518> being returned to pool
2020-03-11 04:05:56,686 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692518> rollback-on-return
2020-03-11 04:05:56,689 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCC01278>
2020-03-11 04:05:56,690 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:05:56,690 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,691 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:05:56,691 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:05:56,691 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:05:56,691 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,692 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:05:56,692 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:05:56,693 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:05:56,693 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,693 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:05:56,693 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:05:56,694 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:05:56,694 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:05:56,694 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:05:56,694 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:05:56,695 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCC01278> checked out from pool
2020-03-11 04:05:56,695 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:05:56,696 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:05:56,696 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:05:56,696 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:05:56,697 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:05:56,697 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCC01278> being returned to pool
2020-03-11 04:05:56,697 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCC01278> rollback-on-return, via agent
2020-03-11 04:05:56,697 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:05:56,697 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC683470>]}
2020-03-11 04:05:56,700 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692BE0>
2020-03-11 04:05:56,701 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:05:56,701 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,702 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:05:56,702 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:05:56,702 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:05:56,702 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,703 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:05:56,704 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:05:56,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:05:56,704 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:05:56,705 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:05:56,705 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:05:56,706 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:05:56,706 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:05:56,706 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:05:56,706 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:05:56,706 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692BE0> checked out from pool
2020-03-11 04:05:56,707 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:05:56,707 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:05:56,707 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:05:56,707 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:05:56,708 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692BE0> being returned to pool
2020-03-11 04:05:56,708 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC692BE0> rollback-on-return, via agent
2020-03-11 04:05:56,708 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:05:56,708 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC683470>], 'pres_addr_info': []}
2020-03-11 04:23:10,557 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62A58>
2020-03-11 04:23:10,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:10,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,559 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:10,559 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:10,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:10,560 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,561 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:10,561 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:10,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:10,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,562 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:10,563 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:23:10,564 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:10,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:10,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:10,565 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:10,566 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62A58> checked out from pool
2020-03-11 04:23:10,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:23:10,567 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,567 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:23:10,567 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:23:10,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:23:10,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,569 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:23:10,569 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:23:10,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:23:10,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,570 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:23:10,570 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:23:10,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:23:10,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,571 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:23:10,571 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:23:10,571 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62A58> being returned to pool
2020-03-11 04:23:10,572 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62A58> rollback-on-return
2020-03-11 04:23:10,574 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0DD8>
2020-03-11 04:23:10,574 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:10,574 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:10,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:10,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:10,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,577 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:10,577 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:10,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:10,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,578 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:10,578 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:23:10,579 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:10,579 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:10,581 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:10,581 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:10,581 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0DD8> checked out from pool
2020-03-11 04:23:10,581 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:23:10,582 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:23:10,582 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0DD8> being returned to pool
2020-03-11 04:23:10,582 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0DD8> rollback-on-return
2020-03-11 04:23:10,585 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA088D0>
2020-03-11 04:23:10,585 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:10,585 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,586 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:10,586 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:10,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:10,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,588 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:10,588 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:10,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:10,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,588 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:10,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:23:10,589 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:10,589 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:10,590 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:10,590 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:10,590 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA088D0> checked out from pool
2020-03-11 04:23:10,590 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:23:10,591 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:23:10,591 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:23:10,591 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:23:10,592 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:23:10,592 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA088D0> being returned to pool
2020-03-11 04:23:10,592 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA088D0> rollback-on-return, via agent
2020-03-11 04:23:10,592 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:23:10,592 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC7F0D30>]}
2020-03-11 04:23:10,595 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0400>
2020-03-11 04:23:10,595 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:10,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,597 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:10,597 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:10,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:10,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,598 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:10,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:10,599 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:10,599 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:10,600 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:10,600 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:23:10,601 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:10,601 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:10,601 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:10,601 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:10,602 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0400> checked out from pool
2020-03-11 04:23:10,602 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:23:10,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:23:10,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:23:10,603 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:23:10,603 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0400> being returned to pool
2020-03-11 04:23:10,603 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0400> rollback-on-return, via agent
2020-03-11 04:23:10,603 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:23:10,603 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC7F0D30>], 'pres_addr_info': []}
2020-03-11 04:23:53,644 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC701B70>
2020-03-11 04:23:53,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:53,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:53,645 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:53,645 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:53,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:53,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:53,647 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:53,647 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:53,648 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:53,648 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:53,648 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:53,648 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:23:53,649 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:53,649 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:53,649 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:53,649 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:53,650 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC701B70> checked out from pool
2020-03-11 04:23:53,650 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:23:53,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:23:53,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:23:53,652 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:23:53,652 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:23:53,652 root:INFO:models:save_custom_addr:MainProcess:1836:开始连接数据库保存地址信息
2020-03-11 04:23:53,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 04:23:53,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num': '5550008088', 'consignee': '马彬', 'con_tel': '18687854124', 'province': '辽宁省', 'city': '大连市', 'zone': '中山区', 'addr_detail': '叽里呱啦', 'is_hos_addr': '2', 'auto_state': 0}
2020-03-11 04:23:53,653 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:23:53,654 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC701B70> being returned to pool
2020-03-11 04:23:53,655 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC701B70> rollback-on-return
2020-03-11 04:23:53,655 root:INFO:models:save_custom_addr:MainProcess:1836:地址信息保存成功！
2020-03-11 04:23:53,655 root:INFO:views:save_addr:MainProcess:1836:{'status': 'success'}
2020-03-11 04:23:55,441 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678518>
2020-03-11 04:23:55,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:55,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,444 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:55,444 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:55,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:55,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,447 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:55,447 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:55,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:55,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,449 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:55,449 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:23:55,450 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:55,450 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:55,451 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:55,451 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:55,451 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678518> checked out from pool
2020-03-11 04:23:55,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:23:55,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,452 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:23:55,453 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:23:55,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:23:55,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,454 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:23:55,454 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:23:55,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:23:55,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,456 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:23:55,456 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:23:55,456 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:23:55,456 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,457 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:23:55,457 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:23:55,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678518> being returned to pool
2020-03-11 04:23:55,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678518> rollback-on-return
2020-03-11 04:23:55,460 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670A90>
2020-03-11 04:23:55,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:55,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,462 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:55,462 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:55,463 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:55,463 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,465 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:55,465 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:55,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:55,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,466 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:55,467 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:23:55,468 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:55,468 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:55,468 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:55,469 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:55,469 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670A90> checked out from pool
2020-03-11 04:23:55,469 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:23:55,469 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:23:55,469 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670A90> being returned to pool
2020-03-11 04:23:55,470 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670A90> rollback-on-return
2020-03-11 04:23:55,472 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB278>
2020-03-11 04:23:55,472 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:55,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,474 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:55,474 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:55,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:55,475 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,476 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:55,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:55,477 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:55,477 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,477 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:55,477 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:23:55,478 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:55,478 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:55,480 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:55,480 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:55,480 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB278> checked out from pool
2020-03-11 04:23:55,480 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:23:55,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:23:55,482 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:23:55,482 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:23:55,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:23:55,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 0)
2020-03-11 04:23:55,483 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB278> being returned to pool
2020-03-11 04:23:55,483 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB278> rollback-on-return, via agent
2020-03-11 04:23:55,483 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:23:55,483 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6EB6D8>, <hospital_test.models.Address object at 0x00000207CC6EBB70>]}
2020-03-11 04:23:55,485 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5E668>
2020-03-11 04:23:55,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:23:55,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,487 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:55,487 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:23:55,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:23:55,487 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:23:55,488 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:23:55,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:23:55,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:23:55,489 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:23:55,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:23:55,490 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:55,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:55,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:23:55,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:23:55,492 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5E668> checked out from pool
2020-03-11 04:23:55,492 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:23:55,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:23:55,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:23:55,493 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:23:55,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5E668> being returned to pool
2020-03-11 04:23:55,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA5E668> rollback-on-return, via agent
2020-03-11 04:23:55,493 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:23:55,493 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6EB6D8>, <hospital_test.models.Address object at 0x00000207CC6EBB70>], 'pres_addr_info': []}
2020-03-11 04:24:53,758 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 04:24:53,759 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0B38>
2020-03-11 04:24:53,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:24:53,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:53,761 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:53,761 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:24:53,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:24:53,761 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:53,763 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:53,763 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:24:53,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:24:53,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:53,763 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:24:53,763 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:24:53,764 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:53,764 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:53,765 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:53,765 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:53,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0B38> checked out from pool
2020-03-11 04:24:53,765 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:24:53,766 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 04:24:53,766 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201911014772', 'addr_id': '6', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 04:24:53,766 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:24:53,777 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0B38> being returned to pool
2020-03-11 04:24:53,777 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0B38> rollback-on-return
2020-03-11 04:24:53,778 root:INFO:models:save_pres_addr:MainProcess:1836:处方地址关联成功！
2020-03-11 04:24:53,779 root:INFO:models:update_addr_state:MainProcess:1836:更新地址状态：==>
2020-03-11 04:24:53,781 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0BE0>
2020-03-11 04:24:53,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:24:53,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:53,783 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:53,783 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:24:53,783 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:24:53,783 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:53,784 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:53,784 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:24:53,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:24:53,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:53,785 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:24:53,785 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:24:53,786 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:53,786 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:53,787 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:53,787 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:53,787 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0BE0> checked out from pool
2020-03-11 04:24:53,787 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:24:53,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:UPDATE custom_addr SET auto_state=%(auto_state)s WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 04:24:53,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'auto_state': 1, 'addr_id_1': '6'}
2020-03-11 04:24:53,788 root:INFO:models:update_addr_state:MainProcess:1836:==> Parameters:1
2020-03-11 04:24:53,788 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:24:53,789 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0BE0> being returned to pool
2020-03-11 04:24:53,789 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0BE0> rollback-on-return
2020-03-11 04:24:53,790 root:INFO:models:update_addr_state:MainProcess:1836:地址状态更新成功！
2020-03-11 04:24:56,439 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0CC0>
2020-03-11 04:24:56,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:24:56,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,442 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:56,442 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:24:56,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:24:56,443 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,444 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:56,444 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:24:56,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:24:56,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,445 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:24:56,445 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:24:56,446 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:56,446 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:56,447 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:56,447 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:56,447 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0CC0> checked out from pool
2020-03-11 04:24:56,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:24:56,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,449 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:24:56,449 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:24:56,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:24:56,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,450 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:24:56,450 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:24:56,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:24:56,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,452 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:24:56,452 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:24:56,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:24:56,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,452 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:24:56,453 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:24:56,453 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0CC0> being returned to pool
2020-03-11 04:24:56,453 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0CC0> rollback-on-return
2020-03-11 04:24:56,455 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678C50>
2020-03-11 04:24:56,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:24:56,456 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,457 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:56,457 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:24:56,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:24:56,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,459 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:56,459 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:24:56,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:24:56,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,461 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:24:56,461 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:24:56,463 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:56,463 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:56,465 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:56,465 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:56,465 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678C50> checked out from pool
2020-03-11 04:24:56,466 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:24:56,466 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:24:56,466 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678C50> being returned to pool
2020-03-11 04:24:56,466 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678C50> rollback-on-return
2020-03-11 04:24:56,469 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDD6D8>
2020-03-11 04:24:56,469 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:24:56,469 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,471 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:56,471 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:24:56,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:24:56,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,472 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:56,472 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:24:56,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:24:56,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,473 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:24:56,473 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:24:56,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:56,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:56,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:56,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:56,476 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDD6D8> checked out from pool
2020-03-11 04:24:56,476 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:24:56,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:24:56,477 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:24:56,477 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:24:56,477 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:24:56,477 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 0)
2020-03-11 04:24:56,478 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDD6D8> being returned to pool
2020-03-11 04:24:56,478 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDD6D8> rollback-on-return, via agent
2020-03-11 04:24:56,478 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:24:56,478 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA65D30>, <hospital_test.models.Address object at 0x00000207CC678DA0>]}
2020-03-11 04:24:56,481 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678780>
2020-03-11 04:24:56,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:24:56,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,482 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:56,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:24:56,484 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:24:56,484 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,484 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:24:56,484 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:24:56,485 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:24:56,485 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:24:56,485 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:24:56,485 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:24:56,486 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:56,486 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:56,487 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:24:56,487 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:24:56,487 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678780> checked out from pool
2020-03-11 04:24:56,487 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:24:56,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:24:56,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:24:56,488 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:24:56,489 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201911014772', 6, None, 0)
2020-03-11 04:24:56,489 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678780> being returned to pool
2020-03-11 04:24:56,489 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC678780> rollback-on-return, via agent
2020-03-11 04:24:56,489 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:24:56,489 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA65D30>, <hospital_test.models.Address object at 0x00000207CC678DA0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6DF7F0>]}
2020-03-11 04:28:13,529 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688CF8>
2020-03-11 04:28:13,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:13,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,530 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:13,530 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:13,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:13,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,532 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:13,532 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:13,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:13,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,533 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:13,533 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:28:13,534 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:13,534 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:13,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:13,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:13,535 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688CF8> checked out from pool
2020-03-11 04:28:13,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:28:13,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,536 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:28:13,536 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:28:13,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:28:13,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,538 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:28:13,538 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:28:13,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:28:13,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,539 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:28:13,539 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:28:13,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:28:13,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,541 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:28:13,541 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:28:13,541 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688CF8> being returned to pool
2020-03-11 04:28:13,541 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC688CF8> rollback-on-return
2020-03-11 04:28:13,543 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08CC0>
2020-03-11 04:28:13,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:13,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,545 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:13,545 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:13,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:13,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,546 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:13,546 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:13,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:13,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:13,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:28:13,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:13,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:13,549 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:13,549 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:13,549 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08CC0> checked out from pool
2020-03-11 04:28:13,549 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:28:13,550 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:28:13,550 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08CC0> being returned to pool
2020-03-11 04:28:13,550 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA08CC0> rollback-on-return
2020-03-11 04:28:13,552 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F09E8>
2020-03-11 04:28:13,552 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:13,553 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,554 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:13,554 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:13,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:13,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,555 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:13,555 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:13,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:13,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,557 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:13,557 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:28:13,559 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:13,559 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:13,560 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:13,560 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:13,560 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F09E8> checked out from pool
2020-03-11 04:28:13,560 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:28:13,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:28:13,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:28:13,562 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:28:13,562 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:28:13,562 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 0)
2020-03-11 04:28:13,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F09E8> being returned to pool
2020-03-11 04:28:13,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F09E8> rollback-on-return, via agent
2020-03-11 04:28:13,562 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:28:13,562 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA08A20>, <hospital_test.models.Address object at 0x00000207CCA08C88>]}
2020-03-11 04:28:13,565 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F01D0>
2020-03-11 04:28:13,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:13,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,566 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:13,567 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:13,567 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:13,567 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,568 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:13,568 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:13,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:13,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:13,569 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:13,569 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:28:13,570 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:13,570 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:13,570 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:13,570 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:13,570 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F01D0> checked out from pool
2020-03-11 04:28:13,570 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:28:13,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:28:13,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:28:13,571 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:28:13,571 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201911014772', 6, None, 0)
2020-03-11 04:28:13,571 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F01D0> being returned to pool
2020-03-11 04:28:13,572 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F01D0> rollback-on-return, via agent
2020-03-11 04:28:13,572 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:28:13,572 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCA08A20>, <hospital_test.models.Address object at 0x00000207CCA08C88>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CCBEA908>]}
2020-03-11 04:28:24,435 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 04:28:24,437 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA58AC8>
2020-03-11 04:28:24,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:24,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:24,439 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:24,439 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:24,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:24,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:24,441 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:24,441 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:24,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:24,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:24,442 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:24,442 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:28:24,443 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:24,443 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:24,443 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:24,443 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:24,443 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA58AC8> checked out from pool
2020-03-11 04:28:24,443 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:28:24,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 04:28:24,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201911014772', 'addr_id': '7', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 04:28:24,444 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:28:24,445 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA58AC8> being returned to pool
2020-03-11 04:28:24,445 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA58AC8> rollback-on-return
2020-03-11 04:28:24,445 root:INFO:models:save_pres_addr:MainProcess:1836:处方关联失败！
2020-03-11 04:28:24,445 root:INFO:models:save_pres_addr:MainProcess:1836:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201911014772' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201911014772', 'addr_id': '7', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 04:28:26,623 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB82198>
2020-03-11 04:28:26,623 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:26,623 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,624 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:26,625 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:26,625 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:26,625 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,627 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:26,627 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:26,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:26,627 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,627 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:26,627 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:28:26,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:26,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:26,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:26,628 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:26,629 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB82198> checked out from pool
2020-03-11 04:28:26,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:28:26,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,630 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:28:26,630 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:28:26,630 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:28:26,630 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,631 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:28:26,631 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:28:26,632 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:28:26,632 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,633 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:28:26,633 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:28:26,633 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:28:26,633 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,634 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:28:26,634 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:28:26,634 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB82198> being returned to pool
2020-03-11 04:28:26,634 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB82198> rollback-on-return
2020-03-11 04:28:26,636 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB7F6A0>
2020-03-11 04:28:26,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:26,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,637 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:26,638 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:26,638 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:26,638 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,640 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:26,640 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:26,640 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:26,641 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,641 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:26,641 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:28:26,642 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:26,642 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:26,643 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:26,643 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:26,643 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB7F6A0> checked out from pool
2020-03-11 04:28:26,643 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:28:26,644 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:28:26,644 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB7F6A0> being returned to pool
2020-03-11 04:28:26,644 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB7F6A0> rollback-on-return
2020-03-11 04:28:26,646 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBADDD8>
2020-03-11 04:28:26,647 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:26,647 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,648 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:26,648 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:26,648 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:26,648 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,649 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:26,649 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:26,650 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:26,650 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,650 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:26,650 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:28:26,651 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:26,651 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:26,651 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:26,652 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:26,652 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBADDD8> checked out from pool
2020-03-11 04:28:26,652 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:28:26,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:28:26,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:28:26,653 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:28:26,653 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:28:26,654 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 0)
2020-03-11 04:28:26,654 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBADDD8> being returned to pool
2020-03-11 04:28:26,654 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBADDD8> rollback-on-return, via agent
2020-03-11 04:28:26,654 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:28:26,654 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCB98080>, <hospital_test.models.Address object at 0x00000207CCB821D0>]}
2020-03-11 04:28:26,658 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB9A9E8>
2020-03-11 04:28:26,658 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:28:26,658 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,660 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:26,660 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:28:26,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:28:26,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,662 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:28:26,662 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:28:26,663 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:28:26,663 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:28:26,663 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:28:26,663 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:28:26,664 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:26,664 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:26,665 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:28:26,665 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:28:26,666 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB9A9E8> checked out from pool
2020-03-11 04:28:26,666 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:28:26,666 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:28:26,666 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:28:26,667 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:28:26,667 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201911014772', 6, None, 0)
2020-03-11 04:28:26,667 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB9A9E8> being returned to pool
2020-03-11 04:28:26,667 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB9A9E8> rollback-on-return, via agent
2020-03-11 04:28:26,667 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:28:26,667 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCB98080>, <hospital_test.models.Address object at 0x00000207CCB821D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CCB7ADA0>]}
2020-03-11 04:29:01,784 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682470>
2020-03-11 04:29:01,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:01,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,785 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:01,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:01,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:01,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,787 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:01,787 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:01,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:01,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,788 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:01,789 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:29:01,789 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:01,789 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:01,790 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:01,790 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:01,791 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682470> checked out from pool
2020-03-11 04:29:01,791 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:29:01,791 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,792 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:29:01,792 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:29:01,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:29:01,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,794 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:29:01,794 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:29:01,794 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:29:01,794 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:29:01,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:29:01,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:29:01,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,796 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:29:01,796 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:29:01,796 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682470> being returned to pool
2020-03-11 04:29:01,796 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682470> rollback-on-return
2020-03-11 04:29:01,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682E80>
2020-03-11 04:29:01,798 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:01,798 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,799 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:01,800 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:01,800 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:01,800 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,801 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:01,801 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:01,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:01,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,802 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:01,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:29:01,803 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:01,803 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:01,804 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:01,804 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:01,804 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682E80> checked out from pool
2020-03-11 04:29:01,805 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:29:01,805 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:29:01,805 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682E80> being returned to pool
2020-03-11 04:29:01,805 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682E80> rollback-on-return
2020-03-11 04:29:01,808 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6759B0>
2020-03-11 04:29:01,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:01,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,810 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:01,811 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:01,811 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:01,811 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,812 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:01,812 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:01,813 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:01,813 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,813 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:01,813 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:29:01,814 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:01,814 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:01,814 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:01,814 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:01,814 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6759B0> checked out from pool
2020-03-11 04:29:01,814 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:29:01,815 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:29:01,815 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:29:01,816 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:29:01,816 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:29:01,816 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 0)
2020-03-11 04:29:01,816 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6759B0> being returned to pool
2020-03-11 04:29:01,816 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6759B0> rollback-on-return, via agent
2020-03-11 04:29:01,816 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:29:01,816 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC682EF0>, <hospital_test.models.Address object at 0x00000207CC682828>]}
2020-03-11 04:29:01,819 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682F60>
2020-03-11 04:29:01,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:01,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,820 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:01,820 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:01,821 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:01,821 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,822 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:01,822 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:01,822 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:01,822 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:01,823 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:01,823 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:29:01,823 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:01,823 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:01,824 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:01,824 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:01,824 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682F60> checked out from pool
2020-03-11 04:29:01,824 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:29:01,825 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:29:01,825 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:29:01,825 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:29:01,825 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682F60> being returned to pool
2020-03-11 04:29:01,825 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682F60> rollback-on-return, via agent
2020-03-11 04:29:01,826 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:29:01,826 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC682EF0>, <hospital_test.models.Address object at 0x00000207CC682828>], 'pres_addr_info': []}
2020-03-11 04:29:29,948 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 04:29:29,951 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46400>
2020-03-11 04:29:29,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:29,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:29,952 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:29,953 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:29,953 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:29,953 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:29,954 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:29,954 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:29,955 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:29,955 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:29,955 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:29,955 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:29:29,956 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:29,956 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:29,957 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:29,957 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:29,957 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46400> checked out from pool
2020-03-11 04:29:29,958 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:29:29,958 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 04:29:29,959 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201911014772', 'addr_id': '6', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 04:29:29,959 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:29:29,960 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46400> being returned to pool
2020-03-11 04:29:29,960 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46400> rollback-on-return
2020-03-11 04:29:29,960 root:INFO:models:save_pres_addr:MainProcess:1836:处方地址关联成功！
2020-03-11 04:29:29,961 root:INFO:models:update_addr_state:MainProcess:1836:更新地址状态：==>
2020-03-11 04:29:29,963 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675518>
2020-03-11 04:29:29,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:29,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:29,965 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:29,965 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:29,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:29,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:29,966 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:29,966 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:29,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:29,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:29,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:29,967 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:29:29,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:29,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:29,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:29,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:29,969 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675518> checked out from pool
2020-03-11 04:29:29,970 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:29:29,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:UPDATE custom_addr SET auto_state=%(auto_state)s WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 04:29:29,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'auto_state': 1, 'addr_id_1': '6'}
2020-03-11 04:29:29,971 root:INFO:models:update_addr_state:MainProcess:1836:==> Parameters:1
2020-03-11 04:29:29,971 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:29:29,972 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675518> being returned to pool
2020-03-11 04:29:29,972 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC675518> rollback-on-return
2020-03-11 04:29:29,972 root:INFO:models:update_addr_state:MainProcess:1836:地址状态更新成功！
2020-03-11 04:29:32,546 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F09E8>
2020-03-11 04:29:32,546 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:32,546 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:32,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:32,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:32,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,549 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:32,549 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:32,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:32,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,551 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:32,551 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:29:32,552 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:32,552 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:32,552 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:32,552 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:32,553 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F09E8> checked out from pool
2020-03-11 04:29:32,553 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:29:32,553 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,554 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:29:32,554 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:29:32,555 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:29:32,555 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,556 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:29:32,556 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:29:32,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:29:32,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,557 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:29:32,557 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:29:32,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:29:32,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,559 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:29:32,559 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:29:32,559 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F09E8> being returned to pool
2020-03-11 04:29:32,559 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F09E8> rollback-on-return
2020-03-11 04:29:32,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46940>
2020-03-11 04:29:32,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:32,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,563 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:32,563 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:32,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:32,564 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,564 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:32,564 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:32,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:32,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,565 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:32,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:29:32,566 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:32,566 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:32,567 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:32,567 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:32,567 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46940> checked out from pool
2020-03-11 04:29:32,568 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:29:32,568 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:29:32,568 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46940> being returned to pool
2020-03-11 04:29:32,568 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46940> rollback-on-return
2020-03-11 04:29:32,571 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0908>
2020-03-11 04:29:32,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:32,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,573 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:32,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:32,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:32,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:32,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:32,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:32,576 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,576 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:32,576 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:29:32,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:32,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:32,578 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:32,578 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:32,578 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0908> checked out from pool
2020-03-11 04:29:32,578 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:29:32,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:29:32,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:29:32,580 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:29:32,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:29:32,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 0)
2020-03-11 04:29:32,580 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0908> being returned to pool
2020-03-11 04:29:32,580 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0908> rollback-on-return, via agent
2020-03-11 04:29:32,581 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:29:32,581 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6B0828>, <hospital_test.models.Address object at 0x00000207CC6B07B8>]}
2020-03-11 04:29:32,583 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0E10>
2020-03-11 04:29:32,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:29:32,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,585 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:32,585 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:29:32,585 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:29:32,585 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,586 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:29:32,586 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:29:32,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:29:32,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:29:32,588 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:29:32,588 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:29:32,589 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:32,589 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:32,589 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:29:32,589 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:29:32,590 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0E10> checked out from pool
2020-03-11 04:29:32,590 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:29:32,591 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:29:32,591 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:29:32,591 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:29:32,591 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201911014772', 6, None, 0)
2020-03-11 04:29:32,592 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0E10> being returned to pool
2020-03-11 04:29:32,592 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0E10> rollback-on-return, via agent
2020-03-11 04:29:32,592 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:29:32,592 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6B0828>, <hospital_test.models.Address object at 0x00000207CC6B07B8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CCB82780>]}
2020-03-11 04:30:13,247 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 04:30:13,249 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68DDD8>
2020-03-11 04:30:13,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:13,250 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:13,251 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:13,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:13,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:13,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:13,253 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:13,253 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:13,254 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:13,254 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:13,254 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:13,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:30:13,255 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:13,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:13,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:13,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:13,257 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68DDD8> checked out from pool
2020-03-11 04:30:13,257 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:30:13,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 04:30:13,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201911014772', 'addr_id': '7', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 04:30:13,258 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:30:13,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68DDD8> being returned to pool
2020-03-11 04:30:13,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC68DDD8> rollback-on-return
2020-03-11 04:30:13,259 root:INFO:models:save_pres_addr:MainProcess:1836:处方关联失败！
2020-03-11 04:30:13,259 root:INFO:models:save_pres_addr:MainProcess:1836:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_201911014772' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_201911014772', 'addr_id': '7', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 04:30:15,067 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E0F0>
2020-03-11 04:30:15,068 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:15,068 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,069 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:15,069 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:15,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:15,070 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,071 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:15,071 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:15,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:15,072 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,072 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:15,072 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:30:15,074 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:15,074 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:15,075 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:15,075 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:15,075 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E0F0> checked out from pool
2020-03-11 04:30:15,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:30:15,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,077 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:30:15,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:30:15,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:30:15,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,078 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:30:15,078 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:30:15,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:30:15,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,080 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:30:15,080 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:30:15,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:30:15,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,081 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:30:15,081 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:30:15,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E0F0> being returned to pool
2020-03-11 04:30:15,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66E0F0> rollback-on-return
2020-03-11 04:30:15,083 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB957F0>
2020-03-11 04:30:15,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:15,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,086 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:15,086 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:15,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:15,090 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,091 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:15,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:15,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:15,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,093 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:15,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:30:15,094 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:15,094 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:15,095 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:15,095 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:15,095 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB957F0> checked out from pool
2020-03-11 04:30:15,096 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201911014772'and p.treat_card ='5550008088';
2020-03-11 04:30:15,096 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:30:15,096 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB957F0> being returned to pool
2020-03-11 04:30:15,096 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB957F0> rollback-on-return
2020-03-11 04:30:15,099 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB95B00>
2020-03-11 04:30:15,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:15,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,100 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:15,100 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:15,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:15,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,102 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:15,102 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:15,103 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:15,103 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,104 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:15,104 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:30:15,105 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:15,105 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:15,105 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:15,106 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:15,106 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB95B00> checked out from pool
2020-03-11 04:30:15,106 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:30:15,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:30:15,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:30:15,109 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:30:15,109 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:30:15,109 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 0)
2020-03-11 04:30:15,109 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB95B00> being returned to pool
2020-03-11 04:30:15,109 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB95B00> rollback-on-return, via agent
2020-03-11 04:30:15,109 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:30:15,110 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCB95400>, <hospital_test.models.Address object at 0x00000207CCB95AC8>]}
2020-03-11 04:30:15,112 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB957F0>
2020-03-11 04:30:15,112 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:15,112 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,113 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:15,114 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:15,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:15,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,115 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:15,115 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:15,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:15,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:15,116 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:15,116 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:30:15,117 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:15,117 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:15,118 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:15,118 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:15,119 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB957F0> checked out from pool
2020-03-11 04:30:15,119 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:30:15,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:30:15,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201911014772'}
2020-03-11 04:30:15,120 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:30:15,120 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201911014772', 6, None, 0)
2020-03-11 04:30:15,120 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB957F0> being returned to pool
2020-03-11 04:30:15,120 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB957F0> rollback-on-return, via agent
2020-03-11 04:30:15,120 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:30:15,121 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201911014772', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CCB95400>, <hospital_test.models.Address object at 0x00000207CCB95AC8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC67FD30>]}
2020-03-11 04:30:53,570 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46748>
2020-03-11 04:30:53,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:53,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,573 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:53,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:53,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:53,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,574 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:53,574 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:53,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:53,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:53,576 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:30:53,576 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:53,576 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:53,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:53,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:53,578 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46748> checked out from pool
2020-03-11 04:30:53,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:30:53,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,579 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:30:53,579 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:30:53,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:30:53,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,581 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:30:53,581 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:30:53,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:30:53,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,582 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:30:53,582 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:30:53,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:30:53,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,584 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:30:53,584 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:30:53,584 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46748> being returned to pool
2020-03-11 04:30:53,584 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA46748> rollback-on-return
2020-03-11 04:30:53,586 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0898>
2020-03-11 04:30:53,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:53,587 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,589 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:53,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:53,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:53,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,591 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:53,591 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:53,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:53,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,592 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:53,593 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:30:53,594 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:53,594 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:53,594 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:53,595 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:53,595 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0898> checked out from pool
2020-03-11 04:30:53,595 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:30:53,596 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:30:53,596 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0898> being returned to pool
2020-03-11 04:30:53,596 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC9F0898> rollback-on-return
2020-03-11 04:30:53,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66BD30>
2020-03-11 04:30:53,599 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:53,599 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,600 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:53,600 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:53,601 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:53,601 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,602 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:53,602 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:53,603 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:53,603 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,603 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:53,603 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:30:53,604 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:53,604 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:53,605 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:53,605 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:53,606 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66BD30> checked out from pool
2020-03-11 04:30:53,606 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:30:53,607 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:30:53,608 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:30:53,608 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:30:53,608 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:30:53,608 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 0)
2020-03-11 04:30:53,609 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66BD30> being returned to pool
2020-03-11 04:30:53,609 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66BD30> rollback-on-return, via agent
2020-03-11 04:30:53,609 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:30:53,609 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC9F0B00>, <hospital_test.models.Address object at 0x00000207CC9F0DD8>]}
2020-03-11 04:30:53,612 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B6A0>
2020-03-11 04:30:53,612 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:30:53,612 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,613 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:53,613 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:30:53,614 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:30:53,614 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,615 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:30:53,615 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:30:53,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:30:53,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:30:53,615 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:30:53,615 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:30:53,616 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:53,616 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:53,617 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:30:53,617 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:30:53,617 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B6A0> checked out from pool
2020-03-11 04:30:53,617 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:30:53,618 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:30:53,618 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:30:53,618 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:30:53,618 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B6A0> being returned to pool
2020-03-11 04:30:53,618 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B6A0> rollback-on-return, via agent
2020-03-11 04:30:53,618 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:30:53,619 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC9F0B00>, <hospital_test.models.Address object at 0x00000207CC9F0DD8>], 'pres_addr_info': []}
2020-03-11 04:31:46,452 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 04:31:46,455 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6929E8>
2020-03-11 04:31:46,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:31:46,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:46,457 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:46,457 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:31:46,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:31:46,457 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:46,459 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:46,459 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:31:46,459 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:31:46,460 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:46,460 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:31:46,460 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:31:46,460 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:46,461 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:46,461 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:46,461 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:46,461 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6929E8> checked out from pool
2020-03-11 04:31:46,461 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:31:46,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 04:31:46,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_201912203096', 'addr_id': '7', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 04:31:46,463 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:31:46,464 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6929E8> being returned to pool
2020-03-11 04:31:46,464 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6929E8> rollback-on-return
2020-03-11 04:31:46,464 root:INFO:models:save_pres_addr:MainProcess:1836:处方地址关联成功！
2020-03-11 04:31:46,465 root:INFO:models:update_addr_state:MainProcess:1836:更新地址状态：==>
2020-03-11 04:31:46,468 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0B00>
2020-03-11 04:31:46,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:31:46,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:46,469 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:46,470 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:31:46,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:31:46,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:46,472 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:46,472 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:31:46,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:31:46,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:46,474 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:31:46,474 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:31:46,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:46,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:46,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:46,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:46,475 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0B00> checked out from pool
2020-03-11 04:31:46,476 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:31:46,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:UPDATE custom_addr SET auto_state=%(auto_state)s WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 04:31:46,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'auto_state': 1, 'addr_id_1': '7'}
2020-03-11 04:31:46,477 root:INFO:models:update_addr_state:MainProcess:1836:==> Parameters:1
2020-03-11 04:31:46,477 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:31:46,478 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0B00> being returned to pool
2020-03-11 04:31:46,478 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0B00> rollback-on-return
2020-03-11 04:31:46,478 root:INFO:models:update_addr_state:MainProcess:1836:地址状态更新成功！
2020-03-11 04:31:48,157 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0978>
2020-03-11 04:31:48,157 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:31:48,157 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,159 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:48,160 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:31:48,160 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:31:48,160 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,161 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:48,161 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:31:48,161 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:31:48,161 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,162 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:31:48,162 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:31:48,162 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:48,162 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:48,163 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:48,163 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:48,163 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0978> checked out from pool
2020-03-11 04:31:48,163 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:31:48,164 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,164 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:31:48,164 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:31:48,164 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:31:48,164 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,166 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:31:48,166 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:31:48,167 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:31:48,167 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,168 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:31:48,168 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:31:48,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:31:48,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,169 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:31:48,169 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:31:48,170 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0978> being returned to pool
2020-03-11 04:31:48,170 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC7F0978> rollback-on-return
2020-03-11 04:31:48,173 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB1D0>
2020-03-11 04:31:48,173 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:31:48,174 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,175 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:48,175 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:31:48,175 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:31:48,175 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,177 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:48,177 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:31:48,177 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:31:48,177 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,178 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:31:48,178 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:31:48,178 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:48,178 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:48,179 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:48,179 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:48,179 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB1D0> checked out from pool
2020-03-11 04:31:48,179 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:31:48,180 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:31:48,180 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB1D0> being returned to pool
2020-03-11 04:31:48,180 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB1D0> rollback-on-return
2020-03-11 04:31:48,182 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682358>
2020-03-11 04:31:48,183 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:31:48,183 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,184 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:48,185 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:31:48,185 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:31:48,185 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,188 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:48,189 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:31:48,190 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:31:48,190 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,190 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:31:48,191 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:31:48,191 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:48,192 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:48,192 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:48,192 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:48,193 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682358> checked out from pool
2020-03-11 04:31:48,193 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:31:48,193 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:31:48,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:31:48,194 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:31:48,194 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:31:48,194 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 04:31:48,194 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682358> being returned to pool
2020-03-11 04:31:48,195 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC682358> rollback-on-return, via agent
2020-03-11 04:31:48,195 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:31:48,195 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6CB438>, <hospital_test.models.Address object at 0x00000207CC6CB2E8>]}
2020-03-11 04:31:48,197 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB128>
2020-03-11 04:31:48,198 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:31:48,198 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,199 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:48,199 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:31:48,199 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:31:48,200 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,201 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:31:48,201 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:31:48,202 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:31:48,202 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:31:48,202 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:31:48,202 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:31:48,204 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:48,204 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:48,205 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:31:48,205 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:31:48,206 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB128> checked out from pool
2020-03-11 04:31:48,206 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:31:48,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:31:48,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:31:48,207 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:31:48,207 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 7, None, 0)
2020-03-11 04:31:48,207 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB128> being returned to pool
2020-03-11 04:31:48,207 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6CB128> rollback-on-return, via agent
2020-03-11 04:31:48,208 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:31:48,208 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6CB438>, <hospital_test.models.Address object at 0x00000207CC6CB2E8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6822B0>]}
2020-03-11 04:33:35,347 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670DD8>
2020-03-11 04:33:35,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:33:35,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,350 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:33:35,350 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:33:35,350 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:33:35,350 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,352 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:33:35,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:33:35,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:33:35,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:33:35,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:33:35,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:33:35,355 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:33:35,356 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:33:35,356 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:33:35,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670DD8> checked out from pool
2020-03-11 04:33:35,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:33:35,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,358 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:33:35,358 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:33:35,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:33:35,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,359 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:33:35,359 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:33:35,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:33:35,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,361 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:33:35,361 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:33:35,361 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:33:35,361 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,362 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:33:35,362 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:33:35,362 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670DD8> being returned to pool
2020-03-11 04:33:35,362 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC670DD8> rollback-on-return
2020-03-11 04:33:35,364 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9978>
2020-03-11 04:33:35,365 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:33:35,365 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,366 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:33:35,366 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:33:35,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:33:35,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,368 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:33:35,368 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:33:35,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:33:35,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,369 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:33:35,369 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:33:35,371 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:33:35,371 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:33:35,371 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:33:35,371 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:33:35,372 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9978> checked out from pool
2020-03-11 04:33:35,372 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-11 04:33:35,372 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:33:35,372 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9978> being returned to pool
2020-03-11 04:33:35,373 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9978> rollback-on-return
2020-03-11 04:33:35,375 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9400>
2020-03-11 04:33:35,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:33:35,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,376 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:33:35,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:33:35,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:33:35,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,378 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:33:35,378 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:33:35,378 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:33:35,379 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,379 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:33:35,379 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:33:35,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:33:35,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:33:35,380 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:33:35,381 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:33:35,381 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9400> checked out from pool
2020-03-11 04:33:35,381 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:33:35,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:33:35,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:33:35,382 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:33:35,382 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:33:35,383 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 04:33:35,383 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9400> being returned to pool
2020-03-11 04:33:35,383 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9400> rollback-on-return, via agent
2020-03-11 04:33:35,383 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:33:35,383 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6F16A0>, <hospital_test.models.Address object at 0x00000207CC6F16D8>]}
2020-03-11 04:33:35,385 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6F1BE0>
2020-03-11 04:33:35,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:33:35,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,387 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:33:35,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:33:35,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:33:35,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,388 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:33:35,388 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:33:35,389 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:33:35,389 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:33:35,389 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:33:35,390 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:33:35,390 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:33:35,390 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:33:35,391 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:33:35,391 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:33:35,391 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6F1BE0> checked out from pool
2020-03-11 04:33:35,392 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:33:35,392 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:33:35,392 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_201912203096'}
2020-03-11 04:33:35,393 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:33:35,393 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_201912203096', 7, None, 0)
2020-03-11 04:33:35,393 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6F1BE0> being returned to pool
2020-03-11 04:33:35,393 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6F1BE0> rollback-on-return, via agent
2020-03-11 04:33:35,393 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:33:35,393 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6F16A0>, <hospital_test.models.Address object at 0x00000207CC6F16D8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC6F1860>]}
2020-03-11 04:36:39,528 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB98198>
2020-03-11 04:36:39,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:36:39,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,530 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:36:39,530 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:36:39,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:36:39,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,532 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:36:39,533 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:36:39,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:36:39,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,534 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:36:39,534 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:36:39,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:36:39,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:36:39,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:36:39,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:36:39,536 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB98198> checked out from pool
2020-03-11 04:36:39,536 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:36:39,536 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,537 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:36:39,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:36:39,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:36:39,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,539 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:36:39,539 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:36:39,539 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:36:39,539 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,540 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:36:39,540 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:36:39,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:36:39,540 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,541 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:36:39,541 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:36:39,541 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB98198> being returned to pool
2020-03-11 04:36:39,541 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCB98198> rollback-on-return
2020-03-11 04:36:39,543 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B7B8>
2020-03-11 04:36:39,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:36:39,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,545 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:36:39,545 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:36:39,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:36:39,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:36:39,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:36:39,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:36:39,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,549 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:36:39,549 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:36:39,551 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:36:39,551 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:36:39,551 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:36:39,551 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:36:39,552 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B7B8> checked out from pool
2020-03-11 04:36:39,552 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 04:36:39,552 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:36:39,552 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B7B8> being returned to pool
2020-03-11 04:36:39,553 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B7B8> rollback-on-return
2020-03-11 04:36:39,555 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B8D0>
2020-03-11 04:36:39,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:36:39,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,557 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:36:39,557 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:36:39,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:36:39,557 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,558 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:36:39,558 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:36:39,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:36:39,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,559 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:36:39,559 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:36:39,560 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:36:39,560 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:36:39,561 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:36:39,561 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:36:39,561 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B8D0> checked out from pool
2020-03-11 04:36:39,561 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:36:39,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:36:39,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:36:39,563 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:36:39,563 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:36:39,564 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 04:36:39,564 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B8D0> being returned to pool
2020-03-11 04:36:39,564 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC66B8D0> rollback-on-return, via agent
2020-03-11 04:36:39,564 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:36:39,564 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC66BF28>, <hospital_test.models.Address object at 0x00000207CC66B4A8>]}
2020-03-11 04:36:39,567 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EEB8>
2020-03-11 04:36:39,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:36:39,568 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,569 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:36:39,569 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:36:39,569 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:36:39,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,571 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:36:39,571 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:36:39,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:36:39,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:36:39,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:36:39,572 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:36:39,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:36:39,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:36:39,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:36:39,573 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:36:39,574 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EEB8> checked out from pool
2020-03-11 04:36:39,574 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:36:39,574 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:36:39,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 04:36:39,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:36:39,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EEB8> being returned to pool
2020-03-11 04:36:39,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC65EEB8> rollback-on-return, via agent
2020-03-11 04:36:39,575 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:36:39,575 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC66BF28>, <hospital_test.models.Address object at 0x00000207CC66B4A8>], 'pres_addr_info': []}
2020-03-11 04:37:32,909 root:INFO:models:save_pres_addr:MainProcess:1836:开始连接数据库关联处方和地址
2020-03-11 04:37:32,911 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDDB70>
2020-03-11 04:37:32,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:37:32,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:32,913 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:32,914 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:37:32,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:37:32,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:32,915 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:32,915 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:37:32,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:37:32,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:32,916 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:37:32,916 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:37:32,917 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:32,917 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:32,917 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:32,917 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:32,918 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDDB70> checked out from pool
2020-03-11 04:37:32,918 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:37:32,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 04:37:32,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num': 'MZ_202001249876', 'addr_id': '6', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 04:37:32,927 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:37:32,928 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDDB70> being returned to pool
2020-03-11 04:37:32,929 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCBDDB70> rollback-on-return
2020-03-11 04:37:32,929 root:INFO:models:save_pres_addr:MainProcess:1836:处方地址关联成功！
2020-03-11 04:37:32,929 root:INFO:models:update_addr_state:MainProcess:1836:更新地址状态：==>
2020-03-11 04:37:32,933 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0438>
2020-03-11 04:37:32,933 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:37:32,933 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:32,935 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:32,935 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:37:32,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:37:32,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:32,936 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:32,936 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:37:32,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:37:32,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:32,937 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:37:32,937 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:37:32,938 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:32,938 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:32,938 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:32,938 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:32,939 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0438> checked out from pool
2020-03-11 04:37:32,939 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:37:32,939 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:UPDATE custom_addr SET auto_state=%(auto_state)s WHERE custom_addr.addr_id = %(addr_id_1)s
2020-03-11 04:37:32,939 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'auto_state': 1, 'addr_id_1': '6'}
2020-03-11 04:37:32,940 root:INFO:models:update_addr_state:MainProcess:1836:==> Parameters:1
2020-03-11 04:37:32,940 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:1836:COMMIT
2020-03-11 04:37:32,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0438> being returned to pool
2020-03-11 04:37:32,941 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6B0438> rollback-on-return
2020-03-11 04:37:32,941 root:INFO:models:update_addr_state:MainProcess:1836:地址状态更新成功！
2020-03-11 04:37:36,318 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB518>
2020-03-11 04:37:36,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:37:36,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,319 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:36,319 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:37:36,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:37:36,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:36,322 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:37:36,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:37:36,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,323 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:37:36,323 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:37:36,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:36,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:36,324 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:36,324 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:36,324 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB518> checked out from pool
2020-03-11 04:37:36,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `pres_consignee`
2020-03-11 04:37:36,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:37:36,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:37:36,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid _prescriptions`
2020-03-11 04:37:36,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,326 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:37:36,327 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 04:37:36,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `mid_prescription_details`
2020-03-11 04:37:36,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,328 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:37:36,328 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 04:37:36,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:DESCRIBE `custom_addr`
2020-03-11 04:37:36,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,329 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 04:37:36,329 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 04:37:36,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB518> being returned to pool
2020-03-11 04:37:36,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6EB518> rollback-on-return
2020-03-11 04:37:36,331 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62B00>
2020-03-11 04:37:36,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:37:36,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,334 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:36,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:37:36,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:37:36,335 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,336 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:36,336 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:37:36,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:37:36,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,337 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:37:36,337 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('addr_test',)
2020-03-11 04:37:36,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:36,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:36,339 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:36,339 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:36,339 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62B00> checked out from pool
2020-03-11 04:37:36,339 root:INFO:models:mysql_connect:MainProcess:1836:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 04:37:36,340 root:INFO:models:mysql_connect:MainProcess:1836:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 04:37:36,340 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62B00> being returned to pool
2020-03-11 04:37:36,340 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA62B00> rollback-on-return
2020-03-11 04:37:36,342 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9B00>
2020-03-11 04:37:36,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:37:36,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,344 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:36,344 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:37:36,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:37:36,345 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,346 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:36,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:37:36,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:37:36,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,347 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:37:36,347 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:37:36,348 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:36,348 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:36,349 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:36,349 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:36,350 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9B00> checked out from pool
2020-03-11 04:37:36,350 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:37:36,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 04:37:36,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'custom_num_1': '5550008088'}
2020-03-11 04:37:36,351 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 04:37:36,352 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 04:37:36,352 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 04:37:36,352 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9B00> being returned to pool
2020-03-11 04:37:36,352 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CC6A9B00> rollback-on-return, via agent
2020-03-11 04:37:36,352 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:37:36,352 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6A9208>, <hospital_test.models.Address object at 0x00000207CC6A9240>]}
2020-03-11 04:37:36,354 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:1836:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA624A8>
2020-03-11 04:37:36,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 04:37:36,354 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,356 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:36,356 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 04:37:36,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 04:37:36,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,357 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('Variable_name', 'Value')
2020-03-11 04:37:36,357 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('lower_case_table_names', '1')
2020-03-11 04:37:36,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT DATABASE()
2020-03-11 04:37:36,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{}
2020-03-11 04:37:36,357 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('DATABASE()',)
2020-03-11 04:37:36,357 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('zhyf_host',)
2020-03-11 04:37:36,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:36,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:36,358 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 04:37:36,358 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:1836:{}
2020-03-11 04:37:36,358 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA624A8> checked out from pool
2020-03-11 04:37:36,358 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:1836:BEGIN (implicit)
2020-03-11 04:37:36,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 04:37:36,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:1836:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 04:37:36,359 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:1836:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 04:37:36,359 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:1836:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 04:37:36,359 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA624A8> being returned to pool
2020-03-11 04:37:36,361 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:1836:Connection <mysql.connector.connection.MySQLConnection object at 0x00000207CCA624A8> rollback-on-return, via agent
2020-03-11 04:37:36,361 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:1836:ROLLBACK
2020-03-11 04:37:36,361 root:INFO:views:entry_addr:MainProcess:1836:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000207CC6A9208>, <hospital_test.models.Address object at 0x00000207CC6A9240>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000207CC68DDD8>]}
2020-03-11 07:14:49,194 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:1836:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_docking\settings.py changed, reloading.
2020-03-11 07:14:49,199 asyncio:DEBUG:selector_events:__init__:MainProcess:1836:Using selector: SelectSelector
2020-03-11 08:08:59,202 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE238A9B0>
2020-03-11 08:08:59,203 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:08:59,203 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,209 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:08:59,209 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:08:59,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:08:59,210 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,211 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:08:59,211 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:08:59,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:08:59,213 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,214 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:08:59,214 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:08:59,215 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:08:59,215 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:08:59,216 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:08:59,216 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:08:59,217 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE238A9B0> checked out from pool
2020-03-11 08:08:59,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `pres_consignee`
2020-03-11 08:08:59,217 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,218 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:08:59,218 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:08:59,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `mid _prescriptions`
2020-03-11 08:08:59,218 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,220 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:08:59,220 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:08:59,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `mid_prescription_details`
2020-03-11 08:08:59,220 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,221 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:08:59,221 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 08:08:59,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `custom_addr`
2020-03-11 08:08:59,221 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,222 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:08:59,222 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 08:08:59,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE238A9B0> being returned to pool
2020-03-11 08:08:59,222 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE238A9B0> rollback-on-return
2020-03-11 08:08:59,224 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B4860>
2020-03-11 08:08:59,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:08:59,225 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,226 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:08:59,227 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:08:59,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:08:59,227 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,228 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:08:59,228 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:08:59,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:08:59,229 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,229 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:08:59,229 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('addr_test',)
2020-03-11 08:08:59,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:08:59,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:08:59,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:08:59,230 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:08:59,231 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B4860> checked out from pool
2020-03-11 08:08:59,231 root:INFO:models:mysql_connect:MainProcess:12864:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 08:08:59,234 root:INFO:models:mysql_connect:MainProcess:12864:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 08:08:59,234 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B4860> being returned to pool
2020-03-11 08:08:59,234 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B4860> rollback-on-return
2020-03-11 08:08:59,239 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23F2860>
2020-03-11 08:08:59,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:08:59,240 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,241 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:08:59,241 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:08:59,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:08:59,241 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,242 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:08:59,243 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:08:59,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:08:59,243 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,244 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:08:59,244 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:08:59,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:08:59,245 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:08:59,246 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:08:59,246 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:08:59,246 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23F2860> checked out from pool
2020-03-11 08:08:59,246 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:12864:BEGIN (implicit)
2020-03-11 08:08:59,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 08:08:59,247 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{'custom_num_1': '5550008088'}
2020-03-11 08:08:59,248 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 08:08:59,248 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 08:08:59,248 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 08:08:59,248 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23F2860> being returned to pool
2020-03-11 08:08:59,248 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23F2860> rollback-on-return, via agent
2020-03-11 08:08:59,248 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:12864:ROLLBACK
2020-03-11 08:08:59,249 root:INFO:views:entry_addr:MainProcess:12864:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021CE2402588>, <hospital_test.models.Address object at 0x0000021CE2402550>]}
2020-03-11 08:08:59,251 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE2402908>
2020-03-11 08:08:59,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:08:59,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,252 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:08:59,253 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:08:59,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:08:59,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,254 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:08:59,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:08:59,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:08:59,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:08:59,255 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:08:59,255 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:08:59,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:08:59,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:08:59,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:08:59,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:08:59,257 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE2402908> checked out from pool
2020-03-11 08:08:59,257 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:12864:BEGIN (implicit)
2020-03-11 08:08:59,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 08:08:59,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 08:08:59,259 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 08:08:59,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 08:08:59,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE2402908> being returned to pool
2020-03-11 08:08:59,259 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE2402908> rollback-on-return, via agent
2020-03-11 08:08:59,259 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:12864:ROLLBACK
2020-03-11 08:08:59,259 root:INFO:views:entry_addr:MainProcess:12864:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021CE2402588>, <hospital_test.models.Address object at 0x0000021CE2402550>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021CE24174A8>]}
2020-03-11 08:10:10,136 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE2035898>
2020-03-11 08:10:10,136 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:10:10,136 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,138 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:10:10,138 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:10:10,138 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:10:10,138 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,139 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:10:10,139 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:10:10,140 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:10:10,140 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,140 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:10:10,140 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:10:10,141 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:10:10,141 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:10:10,142 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:10:10,142 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:10:10,142 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE2035898> checked out from pool
2020-03-11 08:10:10,142 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `pres_consignee`
2020-03-11 08:10:10,142 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,143 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:10:10,143 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:10:10,143 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `mid _prescriptions`
2020-03-11 08:10:10,144 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,145 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:10:10,145 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:10:10,145 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `mid_prescription_details`
2020-03-11 08:10:10,146 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,147 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:10:10,147 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 08:10:10,147 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `custom_addr`
2020-03-11 08:10:10,147 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,148 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:10:10,148 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 08:10:10,148 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE2035898> being returned to pool
2020-03-11 08:10:10,148 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE2035898> rollback-on-return
2020-03-11 08:10:10,150 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE208CA20>
2020-03-11 08:10:10,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:10:10,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,151 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:10:10,151 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:10:10,152 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:10:10,152 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,153 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:10:10,153 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:10:10,153 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:10:10,153 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,153 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:10:10,154 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('addr_test',)
2020-03-11 08:10:10,154 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:10:10,154 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:10:10,155 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:10:10,155 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:10:10,155 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE208CA20> checked out from pool
2020-03-11 08:10:10,155 root:INFO:models:mysql_connect:MainProcess:12864:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 08:10:10,156 root:INFO:models:mysql_connect:MainProcess:12864:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 08:10:10,156 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE208CA20> being returned to pool
2020-03-11 08:10:10,156 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE208CA20> rollback-on-return
2020-03-11 08:10:10,158 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE20353C8>
2020-03-11 08:10:10,159 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:10:10,159 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,160 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:10:10,160 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:10:10,160 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:10:10,160 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,161 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:10:10,162 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:10:10,162 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:10:10,162 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,163 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:10:10,163 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:10:10,163 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:10:10,163 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:10:10,164 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:10:10,164 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:10:10,164 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE20353C8> checked out from pool
2020-03-11 08:10:10,165 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:12864:BEGIN (implicit)
2020-03-11 08:10:10,165 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 08:10:10,166 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{'custom_num_1': '5550008088'}
2020-03-11 08:10:10,166 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 08:10:10,166 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 08:10:10,167 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 08:10:10,167 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE20353C8> being returned to pool
2020-03-11 08:10:10,167 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE20353C8> rollback-on-return, via agent
2020-03-11 08:10:10,167 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:12864:ROLLBACK
2020-03-11 08:10:10,167 root:INFO:views:entry_addr:MainProcess:12864:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021CE208C3C8>, <hospital_test.models.Address object at 0x0000021CE22E4CF8>]}
2020-03-11 08:10:10,169 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE22E4DD8>
2020-03-11 08:10:10,169 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:10:10,169 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,171 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:10:10,171 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:10:10,171 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:10:10,171 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,172 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:10:10,172 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:10:10,172 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:10:10,173 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:10:10,173 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:10:10,173 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:10:10,174 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:10:10,174 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:10:10,174 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:10:10,174 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:10:10,174 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE22E4DD8> checked out from pool
2020-03-11 08:10:10,174 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:12864:BEGIN (implicit)
2020-03-11 08:10:10,175 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 08:10:10,175 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 08:10:10,175 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 08:10:10,176 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 08:10:10,176 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE22E4DD8> being returned to pool
2020-03-11 08:10:10,176 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE22E4DD8> rollback-on-return, via agent
2020-03-11 08:10:10,176 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:12864:ROLLBACK
2020-03-11 08:10:10,176 root:INFO:views:entry_addr:MainProcess:12864:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021CE208C3C8>, <hospital_test.models.Address object at 0x0000021CE22E4CF8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021CE22E4CC0>]}
2020-03-11 08:10:20,482 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:10:30,716 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:12:07,515 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:12:10,489 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:12:15,935 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:12:19,581 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:13:39,281 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23F28D0>
2020-03-11 08:13:39,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:13:39,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,283 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:13:39,284 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:13:39,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:13:39,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,286 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:13:39,286 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:13:39,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:13:39,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,288 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:13:39,288 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:13:39,290 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:13:39,290 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:13:39,291 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:13:39,291 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:13:39,292 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23F28D0> checked out from pool
2020-03-11 08:13:39,292 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `pres_consignee`
2020-03-11 08:13:39,292 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,293 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:13:39,293 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:13:39,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `mid _prescriptions`
2020-03-11 08:13:39,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,295 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:13:39,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:13:39,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `mid_prescription_details`
2020-03-11 08:13:39,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,298 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:13:39,298 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 08:13:39,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:DESCRIBE `custom_addr`
2020-03-11 08:13:39,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,299 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:13:39,299 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 08:13:39,299 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23F28D0> being returned to pool
2020-03-11 08:13:39,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23F28D0> rollback-on-return
2020-03-11 08:13:39,302 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B4748>
2020-03-11 08:13:39,302 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:13:39,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,305 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:13:39,306 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:13:39,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:13:39,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,308 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:13:39,308 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:13:39,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:13:39,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,309 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:13:39,309 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('addr_test',)
2020-03-11 08:13:39,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:13:39,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:13:39,311 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:13:39,311 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:13:39,311 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B4748> checked out from pool
2020-03-11 08:13:39,312 root:INFO:models:mysql_connect:MainProcess:12864:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 08:13:39,312 root:INFO:models:mysql_connect:MainProcess:12864:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 08:13:39,312 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B4748> being returned to pool
2020-03-11 08:13:39,312 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B4748> rollback-on-return
2020-03-11 08:13:39,315 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE20EA940>
2020-03-11 08:13:39,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:13:39,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,318 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:13:39,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:13:39,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:13:39,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,321 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:13:39,321 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:13:39,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:13:39,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:13:39,322 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:13:39,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:13:39,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:13:39,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:13:39,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:13:39,324 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE20EA940> checked out from pool
2020-03-11 08:13:39,324 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:12864:BEGIN (implicit)
2020-03-11 08:13:39,326 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 08:13:39,326 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{'custom_num_1': '5550008088'}
2020-03-11 08:13:39,326 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 08:13:39,327 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 08:13:39,327 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 08:13:39,327 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE20EA940> being returned to pool
2020-03-11 08:13:39,327 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE20EA940> rollback-on-return, via agent
2020-03-11 08:13:39,327 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:12864:ROLLBACK
2020-03-11 08:13:39,327 root:INFO:views:entry_addr:MainProcess:12864:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021CE23B4748>, <hospital_test.models.Address object at 0x0000021CE23B4668>]}
2020-03-11 08:13:39,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:12864:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B49B0>
2020-03-11 08:13:39,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:13:39,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,331 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:13:39,331 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:13:39,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:13:39,331 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,332 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('Variable_name', 'Value')
2020-03-11 08:13:39,332 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('lower_case_table_names', '1')
2020-03-11 08:13:39,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT DATABASE()
2020-03-11 08:13:39,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{}
2020-03-11 08:13:39,333 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('DATABASE()',)
2020-03-11 08:13:39,333 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('zhyf_host',)
2020-03-11 08:13:39,334 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:13:39,334 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:13:39,334 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:13:39,335 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:12864:{}
2020-03-11 08:13:39,335 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B49B0> checked out from pool
2020-03-11 08:13:39,335 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:12864:BEGIN (implicit)
2020-03-11 08:13:39,336 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 08:13:39,336 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:12864:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 08:13:39,336 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:12864:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 08:13:39,337 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:12864:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 08:13:39,337 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B49B0> being returned to pool
2020-03-11 08:13:39,337 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:12864:Connection <mysql.connector.connection.MySQLConnection object at 0x0000021CE23B49B0> rollback-on-return, via agent
2020-03-11 08:13:39,337 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:12864:ROLLBACK
2020-03-11 08:13:39,337 root:INFO:views:entry_addr:MainProcess:12864:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000021CE23B4748>, <hospital_test.models.Address object at 0x0000021CE23B4668>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000021CE2417B38>]}
2020-03-11 08:13:42,637 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:13:44,759 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:13:46,440 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:13:48,315 django.security.csrf:WARNING:log:log_response:MainProcess:12864:Forbidden (CSRF token missing or incorrect.): /customAddr/getHosProperties.do
2020-03-11 08:14:51,043 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:12864:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 08:14:51,043 asyncio:DEBUG:selector_events:__init__:MainProcess:12864:Using selector: SelectSelector
2020-03-11 08:14:53,785 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:14840:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAEC0978>
2020-03-11 08:14:53,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:14:53,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,787 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Variable_name', 'Value')
2020-03-11 08:14:53,788 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:14:53,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:14:53,788 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,789 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Variable_name', 'Value')
2020-03-11 08:14:53,789 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('lower_case_table_names', '1')
2020-03-11 08:14:53,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SELECT DATABASE()
2020-03-11 08:14:53,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,790 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('DATABASE()',)
2020-03-11 08:14:53,790 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('zhyf_host',)
2020-03-11 08:14:53,791 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:14:53,791 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:{}
2020-03-11 08:14:53,792 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:14:53,792 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:{}
2020-03-11 08:14:53,792 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAEC0978> checked out from pool
2020-03-11 08:14:53,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:DESCRIBE `pres_consignee`
2020-03-11 08:14:53,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,794 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:14:53,794 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:14:53,794 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:DESCRIBE `mid _prescriptions`
2020-03-11 08:14:53,794 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,795 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:14:53,795 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:14:53,795 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:DESCRIBE `mid_prescription_details`
2020-03-11 08:14:53,796 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,796 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:14:53,796 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 08:14:53,797 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:DESCRIBE `custom_addr`
2020-03-11 08:14:53,797 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,797 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:14:53,797 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 08:14:53,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAEC0978> being returned to pool
2020-03-11 08:14:53,798 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAEC0978> rollback-on-return
2020-03-11 08:14:53,800 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:14840:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAEEA828>
2020-03-11 08:14:53,800 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:14:53,800 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,801 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Variable_name', 'Value')
2020-03-11 08:14:53,801 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:14:53,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:14:53,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,803 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Variable_name', 'Value')
2020-03-11 08:14:53,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('lower_case_table_names', '1')
2020-03-11 08:14:53,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SELECT DATABASE()
2020-03-11 08:14:53,804 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,804 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('DATABASE()',)
2020-03-11 08:14:53,804 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('addr_test',)
2020-03-11 08:14:53,805 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:14:53,805 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:{}
2020-03-11 08:14:53,806 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:14:53,806 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:{}
2020-03-11 08:14:53,806 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAEEA828> checked out from pool
2020-03-11 08:14:53,806 root:INFO:models:mysql_connect:MainProcess:14840:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 08:14:53,807 root:INFO:models:mysql_connect:MainProcess:14840:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 08:14:53,807 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAEEA828> being returned to pool
2020-03-11 08:14:53,807 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAEEA828> rollback-on-return
2020-03-11 08:14:53,812 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:14840:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAF0B240>
2020-03-11 08:14:53,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:14:53,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,813 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Variable_name', 'Value')
2020-03-11 08:14:53,813 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:14:53,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:14:53,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,815 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Variable_name', 'Value')
2020-03-11 08:14:53,815 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('lower_case_table_names', '1')
2020-03-11 08:14:53,815 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SELECT DATABASE()
2020-03-11 08:14:53,815 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,816 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('DATABASE()',)
2020-03-11 08:14:53,816 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('zhyf_host',)
2020-03-11 08:14:53,817 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:14:53,817 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:{}
2020-03-11 08:14:53,817 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:14:53,817 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:{}
2020-03-11 08:14:53,818 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAF0B240> checked out from pool
2020-03-11 08:14:53,818 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:14840:BEGIN (implicit)
2020-03-11 08:14:53,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 08:14:53,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{'custom_num_1': '5550008088'}
2020-03-11 08:14:53,819 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 08:14:53,819 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 08:14:53,819 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 08:14:53,820 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAF0B240> being returned to pool
2020-03-11 08:14:53,820 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAF0B240> rollback-on-return, via agent
2020-03-11 08:14:53,820 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:14840:ROLLBACK
2020-03-11 08:14:53,820 root:INFO:views:entry_addr:MainProcess:14840:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000200F913FD68>, <hospital_test.models.Address object at 0x00000200FAF420F0>]}
2020-03-11 08:14:53,823 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:14840:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAF0BC18>
2020-03-11 08:14:53,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:14:53,823 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,824 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Variable_name', 'Value')
2020-03-11 08:14:53,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:14:53,825 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:14:53,825 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,826 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('Variable_name', 'Value')
2020-03-11 08:14:53,826 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('lower_case_table_names', '1')
2020-03-11 08:14:53,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SELECT DATABASE()
2020-03-11 08:14:53,826 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{}
2020-03-11 08:14:53,827 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('DATABASE()',)
2020-03-11 08:14:53,827 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('zhyf_host',)
2020-03-11 08:14:53,828 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:14:53,828 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:{}
2020-03-11 08:14:53,828 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:14:53,828 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:14840:{}
2020-03-11 08:14:53,829 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAF0BC18> checked out from pool
2020-03-11 08:14:53,829 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:14840:BEGIN (implicit)
2020-03-11 08:14:53,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 08:14:53,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:14840:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 08:14:53,830 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:14840:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 08:14:53,830 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:14840:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 08:14:53,830 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAF0BC18> being returned to pool
2020-03-11 08:14:53,830 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:14840:Connection <mysql.connector.connection.MySQLConnection object at 0x00000200FAF0BC18> rollback-on-return, via agent
2020-03-11 08:14:53,830 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:14840:ROLLBACK
2020-03-11 08:14:53,830 root:INFO:views:entry_addr:MainProcess:14840:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000200F913FD68>, <hospital_test.models.Address object at 0x00000200FAF420F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000200FAF42160>]}
2020-03-11 08:14:57,523 django.request:ERROR:log:log_response:MainProcess:14840:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    "returned None instead." % (callback.__module__, view_name)
ValueError: The view hospital_test.views.get_hos_properties didn't return an HttpResponse object. It returned None instead.
2020-03-11 08:14:59,512 django.request:ERROR:log:log_response:MainProcess:14840:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 126, in _get_response
    "returned None instead." % (callback.__module__, view_name)
ValueError: The view hospital_test.views.get_hos_properties didn't return an HttpResponse object. It returned None instead.
2020-03-11 08:17:01,850 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:14840:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 08:17:01,850 asyncio:DEBUG:selector_events:__init__:MainProcess:14840:Using selector: SelectSelector
2020-03-11 08:17:02,925 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18556:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6A76668>
2020-03-11 08:17:02,926 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:17:02,926 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,927 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Variable_name', 'Value')
2020-03-11 08:17:02,927 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:17:02,928 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:17:02,928 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,929 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Variable_name', 'Value')
2020-03-11 08:17:02,929 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('lower_case_table_names', '1')
2020-03-11 08:17:02,930 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SELECT DATABASE()
2020-03-11 08:17:02,930 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,930 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('DATABASE()',)
2020-03-11 08:17:02,930 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('zhyf_host',)
2020-03-11 08:17:02,931 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:17:02,931 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:{}
2020-03-11 08:17:02,932 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:17:02,932 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:{}
2020-03-11 08:17:02,932 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6A76668> checked out from pool
2020-03-11 08:17:02,933 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:DESCRIBE `pres_consignee`
2020-03-11 08:17:02,933 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,934 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:17:02,934 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:17:02,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:DESCRIBE `mid _prescriptions`
2020-03-11 08:17:02,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,936 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:17:02,936 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:17:02,936 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:DESCRIBE `mid_prescription_details`
2020-03-11 08:17:02,936 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,937 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:17:02,937 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 08:17:02,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:DESCRIBE `custom_addr`
2020-03-11 08:17:02,937 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,938 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:17:02,938 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 08:17:02,938 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6A76668> being returned to pool
2020-03-11 08:17:02,938 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6A76668> rollback-on-return
2020-03-11 08:17:02,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18556:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AA8F98>
2020-03-11 08:17:02,940 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:17:02,940 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,941 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Variable_name', 'Value')
2020-03-11 08:17:02,941 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:17:02,942 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:17:02,942 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,943 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Variable_name', 'Value')
2020-03-11 08:17:02,943 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('lower_case_table_names', '1')
2020-03-11 08:17:02,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SELECT DATABASE()
2020-03-11 08:17:02,944 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,944 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('DATABASE()',)
2020-03-11 08:17:02,945 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('addr_test',)
2020-03-11 08:17:02,945 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:17:02,945 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:{}
2020-03-11 08:17:02,946 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:17:02,946 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:{}
2020-03-11 08:17:02,947 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AA8F98> checked out from pool
2020-03-11 08:17:02,947 root:INFO:models:mysql_connect:MainProcess:18556:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 08:17:02,947 root:INFO:models:mysql_connect:MainProcess:18556:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 08:17:02,948 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AA8F98> being returned to pool
2020-03-11 08:17:02,948 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AA8F98> rollback-on-return
2020-03-11 08:17:02,953 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18556:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AA8D68>
2020-03-11 08:17:02,953 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:17:02,953 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,954 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Variable_name', 'Value')
2020-03-11 08:17:02,955 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:17:02,955 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:17:02,955 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,956 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Variable_name', 'Value')
2020-03-11 08:17:02,956 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('lower_case_table_names', '1')
2020-03-11 08:17:02,957 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SELECT DATABASE()
2020-03-11 08:17:02,957 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,957 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('DATABASE()',)
2020-03-11 08:17:02,957 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('zhyf_host',)
2020-03-11 08:17:02,958 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:17:02,958 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:{}
2020-03-11 08:17:02,959 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:17:02,959 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:{}
2020-03-11 08:17:02,959 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AA8D68> checked out from pool
2020-03-11 08:17:02,959 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:18556:BEGIN (implicit)
2020-03-11 08:17:02,960 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 08:17:02,960 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{'custom_num_1': '5550008088'}
2020-03-11 08:17:02,960 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 08:17:02,961 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 08:17:02,961 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 08:17:02,961 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AA8D68> being returned to pool
2020-03-11 08:17:02,961 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AA8D68> rollback-on-return, via agent
2020-03-11 08:17:02,961 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:18556:ROLLBACK
2020-03-11 08:17:02,961 root:INFO:views:entry_addr:MainProcess:18556:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000210E6AE6BE0>, <hospital_test.models.Address object at 0x00000210E6AE6C50>]}
2020-03-11 08:17:02,963 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18556:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AFF048>
2020-03-11 08:17:02,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:17:02,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,965 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Variable_name', 'Value')
2020-03-11 08:17:02,965 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:17:02,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:17:02,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('Variable_name', 'Value')
2020-03-11 08:17:02,967 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('lower_case_table_names', '1')
2020-03-11 08:17:02,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SELECT DATABASE()
2020-03-11 08:17:02,967 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{}
2020-03-11 08:17:02,968 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('DATABASE()',)
2020-03-11 08:17:02,968 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('zhyf_host',)
2020-03-11 08:17:02,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:17:02,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:{}
2020-03-11 08:17:02,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:17:02,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18556:{}
2020-03-11 08:17:02,970 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AFF048> checked out from pool
2020-03-11 08:17:02,970 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:18556:BEGIN (implicit)
2020-03-11 08:17:02,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 08:17:02,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18556:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 08:17:02,971 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18556:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 08:17:02,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18556:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 08:17:02,971 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AFF048> being returned to pool
2020-03-11 08:17:02,971 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18556:Connection <mysql.connector.connection.MySQLConnection object at 0x00000210E6AFF048> rollback-on-return, via agent
2020-03-11 08:17:02,971 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:18556:ROLLBACK
2020-03-11 08:17:02,971 root:INFO:views:entry_addr:MainProcess:18556:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000210E6AE6BE0>, <hospital_test.models.Address object at 0x00000210E6AE6C50>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000210E6AFF940>]}
2020-03-11 08:17:05,315 django.request:ERROR:log:log_response:MainProcess:18556:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    return HttpResponse(json.dumps(r), content_type='application/json')
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 08:17:06,987 django.request:ERROR:log:log_response:MainProcess:18556:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    return HttpResponse(json.dumps(r), content_type='application/json')
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 08:17:08,725 django.request:ERROR:log:log_response:MainProcess:18556:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    return HttpResponse(json.dumps(r), content_type='application/json')
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 08:18:18,209 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:18556:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 08:18:18,210 asyncio:DEBUG:selector_events:__init__:MainProcess:18556:Using selector: SelectSelector
2020-03-11 08:18:19,109 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5552:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0EF5710>
2020-03-11 08:18:19,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:18:19,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,111 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Variable_name', 'Value')
2020-03-11 08:18:19,111 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:18:19,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:18:19,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,113 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Variable_name', 'Value')
2020-03-11 08:18:19,113 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('lower_case_table_names', '1')
2020-03-11 08:18:19,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SELECT DATABASE()
2020-03-11 08:18:19,114 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,114 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('DATABASE()',)
2020-03-11 08:18:19,114 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('zhyf_host',)
2020-03-11 08:18:19,115 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:18:19,115 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:{}
2020-03-11 08:18:19,116 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:18:19,116 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:{}
2020-03-11 08:18:19,116 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0EF5710> checked out from pool
2020-03-11 08:18:19,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:DESCRIBE `pres_consignee`
2020-03-11 08:18:19,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,118 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:18:19,118 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:18:19,118 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:DESCRIBE `mid _prescriptions`
2020-03-11 08:18:19,118 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,119 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:18:19,119 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:18:19,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:DESCRIBE `mid_prescription_details`
2020-03-11 08:18:19,120 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,120 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:18:19,121 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 08:18:19,121 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:DESCRIBE `custom_addr`
2020-03-11 08:18:19,121 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,122 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:18:19,122 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 08:18:19,122 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0EF5710> being returned to pool
2020-03-11 08:18:19,122 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0EF5710> rollback-on-return
2020-03-11 08:18:19,124 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5552:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0F55160>
2020-03-11 08:18:19,124 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:18:19,124 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,126 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Variable_name', 'Value')
2020-03-11 08:18:19,126 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:18:19,126 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:18:19,126 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,127 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Variable_name', 'Value')
2020-03-11 08:18:19,127 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('lower_case_table_names', '1')
2020-03-11 08:18:19,128 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SELECT DATABASE()
2020-03-11 08:18:19,128 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,128 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('DATABASE()',)
2020-03-11 08:18:19,128 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('addr_test',)
2020-03-11 08:18:19,129 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:18:19,129 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:{}
2020-03-11 08:18:19,130 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:18:19,130 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:{}
2020-03-11 08:18:19,131 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0F55160> checked out from pool
2020-03-11 08:18:19,131 root:INFO:models:mysql_connect:MainProcess:5552:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 08:18:19,131 root:INFO:models:mysql_connect:MainProcess:5552:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 08:18:19,131 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0F55160> being returned to pool
2020-03-11 08:18:19,131 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0F55160> rollback-on-return
2020-03-11 08:18:19,135 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5552:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0F6B550>
2020-03-11 08:18:19,136 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:18:19,136 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,138 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Variable_name', 'Value')
2020-03-11 08:18:19,138 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:18:19,138 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:18:19,138 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,140 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Variable_name', 'Value')
2020-03-11 08:18:19,140 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('lower_case_table_names', '1')
2020-03-11 08:18:19,140 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SELECT DATABASE()
2020-03-11 08:18:19,140 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,140 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('DATABASE()',)
2020-03-11 08:18:19,140 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('zhyf_host',)
2020-03-11 08:18:19,141 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:18:19,141 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:{}
2020-03-11 08:18:19,142 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:18:19,142 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:{}
2020-03-11 08:18:19,142 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0F6B550> checked out from pool
2020-03-11 08:18:19,142 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:5552:BEGIN (implicit)
2020-03-11 08:18:19,143 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 08:18:19,143 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{'custom_num_1': '5550008088'}
2020-03-11 08:18:19,144 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 08:18:19,144 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 08:18:19,144 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 08:18:19,144 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0F6B550> being returned to pool
2020-03-11 08:18:19,145 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0F6B550> rollback-on-return, via agent
2020-03-11 08:18:19,145 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:5552:ROLLBACK
2020-03-11 08:18:19,145 root:INFO:views:entry_addr:MainProcess:5552:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000269D0F9BC50>, <hospital_test.models.Address object at 0x00000269D0F9BC88>]}
2020-03-11 08:18:19,147 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:5552:Created new connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0FB0080>
2020-03-11 08:18:19,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:18:19,148 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,150 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Variable_name', 'Value')
2020-03-11 08:18:19,150 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:18:19,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:18:19,150 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,151 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('Variable_name', 'Value')
2020-03-11 08:18:19,151 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('lower_case_table_names', '1')
2020-03-11 08:18:19,152 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SELECT DATABASE()
2020-03-11 08:18:19,152 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{}
2020-03-11 08:18:19,152 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('DATABASE()',)
2020-03-11 08:18:19,152 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('zhyf_host',)
2020-03-11 08:18:19,153 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:18:19,153 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:{}
2020-03-11 08:18:19,154 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:18:19,154 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:5552:{}
2020-03-11 08:18:19,154 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0FB0080> checked out from pool
2020-03-11 08:18:19,154 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:5552:BEGIN (implicit)
2020-03-11 08:18:19,155 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 08:18:19,155 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:5552:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 08:18:19,155 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:5552:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 08:18:19,155 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:5552:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 08:18:19,156 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0FB0080> being returned to pool
2020-03-11 08:18:19,156 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:5552:Connection <mysql.connector.connection.MySQLConnection object at 0x00000269D0FB0080> rollback-on-return, via agent
2020-03-11 08:18:19,156 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:5552:ROLLBACK
2020-03-11 08:18:19,156 root:INFO:views:entry_addr:MainProcess:5552:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x00000269D0F9BC50>, <hospital_test.models.Address object at 0x00000269D0F9BC88>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x00000269D0FBBF28>]}
2020-03-11 08:18:20,498 django.request:ERROR:log:log_response:MainProcess:5552:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    print(r)
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 08:18:22,333 django.request:ERROR:log:log_response:MainProcess:5552:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    print(r)
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 08:18:23,621 django.request:ERROR:log:log_response:MainProcess:5552:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    print(r)
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 08:19:47,974 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:5552:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 08:19:47,975 asyncio:DEBUG:selector_events:__init__:MainProcess:5552:Using selector: SelectSelector
2020-03-11 08:19:49,355 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:460:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED1D56A0>
2020-03-11 08:19:49,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:19:49,356 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,357 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:19:49,357 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:19:49,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:19:49,357 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,358 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:19:49,358 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('lower_case_table_names', '1')
2020-03-11 08:19:49,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT DATABASE()
2020-03-11 08:19:49,359 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,359 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('DATABASE()',)
2020-03-11 08:19:49,359 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('zhyf_host',)
2020-03-11 08:19:49,360 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:19:49,360 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:19:49,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:19:49,361 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:19:49,361 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED1D56A0> checked out from pool
2020-03-11 08:19:49,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:DESCRIBE `pres_consignee`
2020-03-11 08:19:49,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,363 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:19:49,363 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:19:49,364 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:DESCRIBE `mid _prescriptions`
2020-03-11 08:19:49,364 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,365 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:19:49,365 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:19:49,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:DESCRIBE `mid_prescription_details`
2020-03-11 08:19:49,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,366 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:19:49,366 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 08:19:49,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:DESCRIBE `custom_addr`
2020-03-11 08:19:49,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,367 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:19:49,367 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 08:19:49,368 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED1D56A0> being returned to pool
2020-03-11 08:19:49,368 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED1D56A0> rollback-on-return
2020-03-11 08:19:49,370 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:460:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED208F98>
2020-03-11 08:19:49,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:19:49,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,371 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:19:49,371 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:19:49,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:19:49,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,373 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:19:49,373 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('lower_case_table_names', '1')
2020-03-11 08:19:49,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT DATABASE()
2020-03-11 08:19:49,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,373 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('DATABASE()',)
2020-03-11 08:19:49,373 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('addr_test',)
2020-03-11 08:19:49,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:19:49,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:19:49,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:19:49,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:19:49,375 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED208F98> checked out from pool
2020-03-11 08:19:49,375 root:INFO:models:mysql_connect:MainProcess:460:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 08:19:49,376 root:INFO:models:mysql_connect:MainProcess:460:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 08:19:49,376 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED208F98> being returned to pool
2020-03-11 08:19:49,376 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED208F98> rollback-on-return
2020-03-11 08:19:49,381 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:460:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED208D68>
2020-03-11 08:19:49,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:19:49,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,383 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:19:49,383 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:19:49,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:19:49,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,384 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:19:49,384 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('lower_case_table_names', '1')
2020-03-11 08:19:49,385 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT DATABASE()
2020-03-11 08:19:49,385 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,385 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('DATABASE()',)
2020-03-11 08:19:49,385 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('zhyf_host',)
2020-03-11 08:19:49,386 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:19:49,386 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:19:49,387 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:19:49,387 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:19:49,387 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED208D68> checked out from pool
2020-03-11 08:19:49,387 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:460:BEGIN (implicit)
2020-03-11 08:19:49,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 08:19:49,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{'custom_num_1': '5550008088'}
2020-03-11 08:19:49,389 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 08:19:49,389 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 08:19:49,389 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 08:19:49,389 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED208D68> being returned to pool
2020-03-11 08:19:49,389 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED208D68> rollback-on-return, via agent
2020-03-11 08:19:49,389 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:460:ROLLBACK
2020-03-11 08:19:49,389 root:INFO:views:entry_addr:MainProcess:460:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000023DED247BE0>, <hospital_test.models.Address object at 0x0000023DED247C50>]}
2020-03-11 08:19:49,392 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:460:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED25E048>
2020-03-11 08:19:49,392 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:19:49,392 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,393 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:19:49,393 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:19:49,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:19:49,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,395 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:19:49,395 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('lower_case_table_names', '1')
2020-03-11 08:19:49,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT DATABASE()
2020-03-11 08:19:49,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:19:49,395 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('DATABASE()',)
2020-03-11 08:19:49,396 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('zhyf_host',)
2020-03-11 08:19:49,396 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:19:49,396 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:19:49,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:19:49,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:19:49,397 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED25E048> checked out from pool
2020-03-11 08:19:49,397 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:460:BEGIN (implicit)
2020-03-11 08:19:49,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 08:19:49,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 08:19:49,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 08:19:49,398 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 08:19:49,398 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED25E048> being returned to pool
2020-03-11 08:19:49,398 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED25E048> rollback-on-return, via agent
2020-03-11 08:19:49,398 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:460:ROLLBACK
2020-03-11 08:19:49,398 root:INFO:views:entry_addr:MainProcess:460:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000023DED247BE0>, <hospital_test.models.Address object at 0x0000023DED247C50>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000023DED25E940>]}
2020-03-11 08:20:00,554 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:460:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451828>
2020-03-11 08:20:00,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:20:00,555 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,556 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:20:00,556 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:20:00,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:20:00,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,558 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:20:00,558 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('lower_case_table_names', '1')
2020-03-11 08:20:00,558 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT DATABASE()
2020-03-11 08:20:00,559 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,559 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('DATABASE()',)
2020-03-11 08:20:00,559 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('zhyf_host',)
2020-03-11 08:20:00,560 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:20:00,560 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:20:00,561 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:20:00,561 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:20:00,561 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451828> checked out from pool
2020-03-11 08:20:00,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:DESCRIBE `pres_consignee`
2020-03-11 08:20:00,562 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,563 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:20:00,563 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:20:00,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:DESCRIBE `mid _prescriptions`
2020-03-11 08:20:00,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,564 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:20:00,564 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 08:20:00,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:DESCRIBE `mid_prescription_details`
2020-03-11 08:20:00,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,566 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:20:00,566 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 08:20:00,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:DESCRIBE `custom_addr`
2020-03-11 08:20:00,566 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,567 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 08:20:00,567 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 08:20:00,567 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451828> being returned to pool
2020-03-11 08:20:00,567 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451828> rollback-on-return
2020-03-11 08:20:00,569 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:460:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED4C60B8>
2020-03-11 08:20:00,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:20:00,570 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,571 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:20:00,571 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:20:00,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:20:00,571 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,572 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:20:00,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('lower_case_table_names', '1')
2020-03-11 08:20:00,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT DATABASE()
2020-03-11 08:20:00,573 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,573 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('DATABASE()',)
2020-03-11 08:20:00,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('addr_test',)
2020-03-11 08:20:00,574 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:20:00,574 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:20:00,575 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:20:00,575 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:20:00,575 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED4C60B8> checked out from pool
2020-03-11 08:20:00,575 root:INFO:models:mysql_connect:MainProcess:460:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 08:20:00,576 root:INFO:models:mysql_connect:MainProcess:460:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 08:20:00,576 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED4C60B8> being returned to pool
2020-03-11 08:20:00,576 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED4C60B8> rollback-on-return
2020-03-11 08:20:00,578 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:460:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451A20>
2020-03-11 08:20:00,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:20:00,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,580 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:20:00,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:20:00,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:20:00,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,583 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:20:00,583 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('lower_case_table_names', '1')
2020-03-11 08:20:00,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT DATABASE()
2020-03-11 08:20:00,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,585 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('DATABASE()',)
2020-03-11 08:20:00,585 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('zhyf_host',)
2020-03-11 08:20:00,586 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:20:00,586 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:20:00,586 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:20:00,587 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:20:00,587 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451A20> checked out from pool
2020-03-11 08:20:00,587 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:460:BEGIN (implicit)
2020-03-11 08:20:00,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 08:20:00,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{'custom_num_1': '5550008088'}
2020-03-11 08:20:00,589 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 08:20:00,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 08:20:00,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 08:20:00,589 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451A20> being returned to pool
2020-03-11 08:20:00,589 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451A20> rollback-on-return, via agent
2020-03-11 08:20:00,589 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:460:ROLLBACK
2020-03-11 08:20:00,589 root:INFO:views:entry_addr:MainProcess:460:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000023DED4C6588>, <hospital_test.models.Address object at 0x0000023DED4C6C18>]}
2020-03-11 08:20:00,592 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:460:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451CF8>
2020-03-11 08:20:00,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 08:20:00,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,594 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:20:00,594 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 08:20:00,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 08:20:00,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,596 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('Variable_name', 'Value')
2020-03-11 08:20:00,596 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('lower_case_table_names', '1')
2020-03-11 08:20:00,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT DATABASE()
2020-03-11 08:20:00,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{}
2020-03-11 08:20:00,598 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('DATABASE()',)
2020-03-11 08:20:00,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('zhyf_host',)
2020-03-11 08:20:00,600 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 08:20:00,600 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:20:00,601 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 08:20:00,601 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:460:{}
2020-03-11 08:20:00,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451CF8> checked out from pool
2020-03-11 08:20:00,602 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:460:BEGIN (implicit)
2020-03-11 08:20:00,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 08:20:00,602 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:460:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 08:20:00,603 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:460:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 08:20:00,603 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:460:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 08:20:00,603 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451CF8> being returned to pool
2020-03-11 08:20:00,603 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:460:Connection <mysql.connector.connection.MySQLConnection object at 0x0000023DED451CF8> rollback-on-return, via agent
2020-03-11 08:20:00,603 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:460:ROLLBACK
2020-03-11 08:20:00,603 root:INFO:views:entry_addr:MainProcess:460:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000023DED4C6588>, <hospital_test.models.Address object at 0x0000023DED4C6C18>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000023DED451B38>]}
2020-03-11 08:22:50,788 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:460:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\handling.py changed, reloading.
2020-03-11 08:22:50,789 asyncio:DEBUG:selector_events:__init__:MainProcess:460:Using selector: SelectSelector
2020-03-11 08:24:11,304 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:19680:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\handling.py changed, reloading.
2020-03-11 08:24:11,304 asyncio:DEBUG:selector_events:__init__:MainProcess:19680:Using selector: SelectSelector
2020-03-11 08:37:26,891 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:11868:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\handling.py changed, reloading.
2020-03-11 08:37:26,892 asyncio:DEBUG:selector_events:__init__:MainProcess:11868:Using selector: SelectSelector
2020-03-11 09:40:11,930 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:4816:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 09:40:11,930 asyncio:DEBUG:selector_events:__init__:MainProcess:4816:Using selector: SelectSelector
2020-03-11 09:40:15,562 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17308:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E0DB00>
2020-03-11 09:40:15,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:40:15,563 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,577 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:15,577 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:40:15,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:40:15,578 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,579 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:15,579 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('lower_case_table_names', '1')
2020-03-11 09:40:15,580 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT DATABASE()
2020-03-11 09:40:15,580 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,581 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('DATABASE()',)
2020-03-11 09:40:15,581 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('zhyf_host',)
2020-03-11 09:40:15,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:15,582 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:15,583 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:15,583 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:15,583 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E0DB00> checked out from pool
2020-03-11 09:40:15,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:DESCRIBE `pres_consignee`
2020-03-11 09:40:15,584 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,586 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:40:15,586 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 09:40:15,586 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:DESCRIBE `mid _prescriptions`
2020-03-11 09:40:15,586 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,588 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:40:15,588 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 09:40:15,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:DESCRIBE `mid_prescription_details`
2020-03-11 09:40:15,589 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,589 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:40:15,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 09:40:15,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:DESCRIBE `custom_addr`
2020-03-11 09:40:15,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,591 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:40:15,591 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 09:40:15,591 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E0DB00> being returned to pool
2020-03-11 09:40:15,591 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E0DB00> rollback-on-return
2020-03-11 09:40:15,594 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17308:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E2A9B0>
2020-03-11 09:40:15,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:40:15,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,596 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:15,596 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:40:15,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:40:15,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,597 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:15,597 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('lower_case_table_names', '1')
2020-03-11 09:40:15,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT DATABASE()
2020-03-11 09:40:15,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,598 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('DATABASE()',)
2020-03-11 09:40:15,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('addr_test',)
2020-03-11 09:40:15,598 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:15,598 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:15,599 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:15,599 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:15,599 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E2A9B0> checked out from pool
2020-03-11 09:40:15,599 root:INFO:models:mysql_connect:MainProcess:17308:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 09:40:15,600 root:INFO:models:mysql_connect:MainProcess:17308:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 09:40:15,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E2A9B0> being returned to pool
2020-03-11 09:40:15,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E2A9B0> rollback-on-return
2020-03-11 09:40:15,607 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17308:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E2AF28>
2020-03-11 09:40:15,607 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:40:15,608 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,609 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:15,609 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:40:15,609 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:40:15,609 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,610 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:15,610 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('lower_case_table_names', '1')
2020-03-11 09:40:15,611 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT DATABASE()
2020-03-11 09:40:15,611 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,611 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('DATABASE()',)
2020-03-11 09:40:15,611 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('zhyf_host',)
2020-03-11 09:40:15,612 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:15,612 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:15,613 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:15,613 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:15,614 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E2AF28> checked out from pool
2020-03-11 09:40:15,614 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17308:BEGIN (implicit)
2020-03-11 09:40:15,614 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 09:40:15,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{'custom_num_1': '5550008088'}
2020-03-11 09:40:15,615 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 09:40:15,615 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 09:40:15,616 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 09:40:15,616 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E2AF28> being returned to pool
2020-03-11 09:40:15,616 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E2AF28> rollback-on-return, via agent
2020-03-11 09:40:15,616 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17308:ROLLBACK
2020-03-11 09:40:15,617 root:INFO:views:entry_addr:MainProcess:17308:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024272E5AD68>, <hospital_test.models.Address object at 0x0000024272E93080>]}
2020-03-11 09:40:15,619 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17308:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E93278>
2020-03-11 09:40:15,619 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:40:15,620 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,621 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:15,621 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:40:15,621 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:40:15,621 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,622 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:15,622 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('lower_case_table_names', '1')
2020-03-11 09:40:15,623 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT DATABASE()
2020-03-11 09:40:15,623 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:15,623 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('DATABASE()',)
2020-03-11 09:40:15,623 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('zhyf_host',)
2020-03-11 09:40:15,624 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:15,624 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:15,625 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:15,625 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:15,625 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E93278> checked out from pool
2020-03-11 09:40:15,625 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17308:BEGIN (implicit)
2020-03-11 09:40:15,626 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 09:40:15,626 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 09:40:15,627 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 09:40:15,627 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 09:40:15,627 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E93278> being returned to pool
2020-03-11 09:40:15,627 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E93278> rollback-on-return, via agent
2020-03-11 09:40:15,627 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17308:ROLLBACK
2020-03-11 09:40:15,628 root:INFO:views:entry_addr:MainProcess:17308:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024272E5AD68>, <hospital_test.models.Address object at 0x0000024272E93080>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024272E93DA0>]}
2020-03-11 09:40:20,882 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17308:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024272AC20F0>
2020-03-11 09:40:20,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:40:20,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,884 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:20,885 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:40:20,885 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:40:20,885 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,887 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:20,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('lower_case_table_names', '1')
2020-03-11 09:40:20,887 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT DATABASE()
2020-03-11 09:40:20,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,888 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('DATABASE()',)
2020-03-11 09:40:20,888 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('zhyf_host',)
2020-03-11 09:40:20,889 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:20,889 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:20,890 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:20,890 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:20,891 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272AC20F0> checked out from pool
2020-03-11 09:40:20,891 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:DESCRIBE `pres_consignee`
2020-03-11 09:40:20,891 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,892 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:40:20,892 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 09:40:20,892 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:DESCRIBE `mid _prescriptions`
2020-03-11 09:40:20,892 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,894 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:40:20,894 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 09:40:20,895 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:DESCRIBE `mid_prescription_details`
2020-03-11 09:40:20,895 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,896 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:40:20,896 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 09:40:20,897 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:DESCRIBE `custom_addr`
2020-03-11 09:40:20,897 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,898 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:40:20,898 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 09:40:20,898 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272AC20F0> being returned to pool
2020-03-11 09:40:20,898 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272AC20F0> rollback-on-return
2020-03-11 09:40:20,900 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17308:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024272B1BB70>
2020-03-11 09:40:20,900 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:40:20,900 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,902 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:20,902 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:40:20,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:40:20,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,903 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:20,903 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('lower_case_table_names', '1')
2020-03-11 09:40:20,904 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT DATABASE()
2020-03-11 09:40:20,904 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,904 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('DATABASE()',)
2020-03-11 09:40:20,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('addr_test',)
2020-03-11 09:40:20,905 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:20,905 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:20,906 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:20,906 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:20,906 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272B1BB70> checked out from pool
2020-03-11 09:40:20,906 root:INFO:models:mysql_connect:MainProcess:17308:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 09:40:20,907 root:INFO:models:mysql_connect:MainProcess:17308:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 09:40:20,907 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272B1BB70> being returned to pool
2020-03-11 09:40:20,907 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272B1BB70> rollback-on-return
2020-03-11 09:40:20,910 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17308:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024272ABEC50>
2020-03-11 09:40:20,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:40:20,911 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,913 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:20,913 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:40:20,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:40:20,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,915 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:20,916 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('lower_case_table_names', '1')
2020-03-11 09:40:20,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT DATABASE()
2020-03-11 09:40:20,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,917 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('DATABASE()',)
2020-03-11 09:40:20,917 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('zhyf_host',)
2020-03-11 09:40:20,919 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:20,919 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:20,919 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:20,919 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:20,920 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272ABEC50> checked out from pool
2020-03-11 09:40:20,920 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17308:BEGIN (implicit)
2020-03-11 09:40:20,921 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 09:40:20,921 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{'custom_num_1': '5550008088'}
2020-03-11 09:40:20,921 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 09:40:20,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 09:40:20,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 09:40:20,922 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272ABEC50> being returned to pool
2020-03-11 09:40:20,922 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272ABEC50> rollback-on-return, via agent
2020-03-11 09:40:20,922 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17308:ROLLBACK
2020-03-11 09:40:20,922 root:INFO:views:entry_addr:MainProcess:17308:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024272B1BF60>, <hospital_test.models.Address object at 0x0000024272B1B710>]}
2020-03-11 09:40:20,925 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:17308:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E93C18>
2020-03-11 09:40:20,925 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:40:20,925 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,927 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:20,927 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:40:20,927 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:40:20,928 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,929 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('Variable_name', 'Value')
2020-03-11 09:40:20,930 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('lower_case_table_names', '1')
2020-03-11 09:40:20,931 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT DATABASE()
2020-03-11 09:40:20,931 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{}
2020-03-11 09:40:20,931 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('DATABASE()',)
2020-03-11 09:40:20,931 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('zhyf_host',)
2020-03-11 09:40:20,932 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:20,933 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:20,933 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:40:20,933 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:17308:{}
2020-03-11 09:40:20,934 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E93C18> checked out from pool
2020-03-11 09:40:20,934 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:17308:BEGIN (implicit)
2020-03-11 09:40:20,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 09:40:20,935 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:17308:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 09:40:20,935 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:17308:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 09:40:20,935 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:17308:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 09:40:20,935 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E93C18> being returned to pool
2020-03-11 09:40:20,935 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:17308:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024272E93C18> rollback-on-return, via agent
2020-03-11 09:40:20,935 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:17308:ROLLBACK
2020-03-11 09:40:20,936 root:INFO:views:entry_addr:MainProcess:17308:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024272B1BF60>, <hospital_test.models.Address object at 0x0000024272B1B710>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024272ACBFD0>]}
2020-03-11 09:44:06,955 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:17308:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\handling.py changed, reloading.
2020-03-11 09:44:06,955 asyncio:DEBUG:selector_events:__init__:MainProcess:17308:Using selector: SelectSelector
2020-03-11 09:45:15,580 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:17820:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\handling.py changed, reloading.
2020-03-11 09:45:15,580 asyncio:DEBUG:selector_events:__init__:MainProcess:17820:Using selector: SelectSelector
2020-03-11 09:46:02,737 asyncio:DEBUG:selector_events:__init__:MainProcess:2116:Using selector: SelectSelector
2020-03-11 09:47:14,977 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16884:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD5DFA90>
2020-03-11 09:47:14,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:47:14,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,980 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Variable_name', 'Value')
2020-03-11 09:47:14,980 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:47:14,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:47:14,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,981 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Variable_name', 'Value')
2020-03-11 09:47:14,981 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('lower_case_table_names', '1')
2020-03-11 09:47:14,982 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SELECT DATABASE()
2020-03-11 09:47:14,982 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,982 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('DATABASE()',)
2020-03-11 09:47:14,982 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('zhyf_host',)
2020-03-11 09:47:14,983 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:47:14,983 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:{}
2020-03-11 09:47:14,984 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:47:14,984 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:{}
2020-03-11 09:47:14,984 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD5DFA90> checked out from pool
2020-03-11 09:47:14,985 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:DESCRIBE `pres_consignee`
2020-03-11 09:47:14,985 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,986 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:47:14,986 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 09:47:14,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:DESCRIBE `mid _prescriptions`
2020-03-11 09:47:14,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:47:14,987 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 09:47:14,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:DESCRIBE `mid_prescription_details`
2020-03-11 09:47:14,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,988 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:47:14,988 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 09:47:14,988 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:DESCRIBE `custom_addr`
2020-03-11 09:47:14,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,989 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:47:14,989 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 09:47:14,989 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD5DFA90> being returned to pool
2020-03-11 09:47:14,990 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD5DFA90> rollback-on-return
2020-03-11 09:47:14,991 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16884:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD6048D0>
2020-03-11 09:47:14,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:47:14,992 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,993 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Variable_name', 'Value')
2020-03-11 09:47:14,993 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:47:14,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:47:14,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,995 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Variable_name', 'Value')
2020-03-11 09:47:14,995 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('lower_case_table_names', '1')
2020-03-11 09:47:14,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SELECT DATABASE()
2020-03-11 09:47:14,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:14,996 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('DATABASE()',)
2020-03-11 09:47:14,996 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('addr_test',)
2020-03-11 09:47:14,997 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:47:14,997 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:{}
2020-03-11 09:47:14,997 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:47:14,997 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:{}
2020-03-11 09:47:14,998 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD6048D0> checked out from pool
2020-03-11 09:47:14,998 root:INFO:models:mysql_connect:MainProcess:16884:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 09:47:14,998 root:INFO:models:mysql_connect:MainProcess:16884:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 09:47:14,999 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD6048D0> being returned to pool
2020-03-11 09:47:14,999 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD6048D0> rollback-on-return
2020-03-11 09:47:15,004 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16884:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD604240>
2020-03-11 09:47:15,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:47:15,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:15,006 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Variable_name', 'Value')
2020-03-11 09:47:15,006 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:47:15,006 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:47:15,006 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:15,007 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Variable_name', 'Value')
2020-03-11 09:47:15,007 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('lower_case_table_names', '1')
2020-03-11 09:47:15,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SELECT DATABASE()
2020-03-11 09:47:15,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:15,008 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('DATABASE()',)
2020-03-11 09:47:15,008 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('zhyf_host',)
2020-03-11 09:47:15,009 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:47:15,009 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:{}
2020-03-11 09:47:15,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:47:15,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:{}
2020-03-11 09:47:15,010 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD604240> checked out from pool
2020-03-11 09:47:15,010 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16884:BEGIN (implicit)
2020-03-11 09:47:15,011 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 09:47:15,011 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{'custom_num_1': '5550008088'}
2020-03-11 09:47:15,012 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 09:47:15,012 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 09:47:15,012 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 09:47:15,012 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD604240> being returned to pool
2020-03-11 09:47:15,012 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD604240> rollback-on-return, via agent
2020-03-11 09:47:15,012 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16884:ROLLBACK
2020-03-11 09:47:15,012 root:INFO:views:entry_addr:MainProcess:16884:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024BFD62AF60>, <hospital_test.models.Address object at 0x0000024BFD62AFD0>]}
2020-03-11 09:47:15,015 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:16884:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD669198>
2020-03-11 09:47:15,015 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:47:15,015 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:15,016 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Variable_name', 'Value')
2020-03-11 09:47:15,017 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:47:15,017 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:47:15,017 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:15,018 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('Variable_name', 'Value')
2020-03-11 09:47:15,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('lower_case_table_names', '1')
2020-03-11 09:47:15,018 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SELECT DATABASE()
2020-03-11 09:47:15,018 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{}
2020-03-11 09:47:15,018 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('DATABASE()',)
2020-03-11 09:47:15,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('zhyf_host',)
2020-03-11 09:47:15,019 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:47:15,019 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:{}
2020-03-11 09:47:15,019 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:47:15,019 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:16884:{}
2020-03-11 09:47:15,020 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD669198> checked out from pool
2020-03-11 09:47:15,020 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:16884:BEGIN (implicit)
2020-03-11 09:47:15,020 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 09:47:15,020 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:16884:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 09:47:15,021 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:16884:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 09:47:15,021 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:16884:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 09:47:15,021 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD669198> being returned to pool
2020-03-11 09:47:15,021 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:16884:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024BFD669198> rollback-on-return, via agent
2020-03-11 09:47:15,021 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:16884:ROLLBACK
2020-03-11 09:47:15,021 root:INFO:views:entry_addr:MainProcess:16884:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024BFD62AF60>, <hospital_test.models.Address object at 0x0000024BFD62AFD0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024BFD669CC0>]}
2020-03-11 09:47:17,545 django.request:ERROR:log:log_response:MainProcess:16884:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 91, in get_hos_properties
    return HttpResponse(json.dumps(r), content_type='application/json')
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 09:48:35,454 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:16884:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 09:48:35,454 asyncio:DEBUG:selector_events:__init__:MainProcess:16884:Using selector: SelectSelector
2020-03-11 09:48:37,360 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:10852:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D9660366D8>
2020-03-11 09:48:37,361 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:48:37,361 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,362 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Variable_name', 'Value')
2020-03-11 09:48:37,362 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:48:37,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:48:37,362 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,363 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Variable_name', 'Value')
2020-03-11 09:48:37,363 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('lower_case_table_names', '1')
2020-03-11 09:48:37,364 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SELECT DATABASE()
2020-03-11 09:48:37,364 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,364 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('DATABASE()',)
2020-03-11 09:48:37,364 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('zhyf_host',)
2020-03-11 09:48:37,365 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:48:37,365 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:{}
2020-03-11 09:48:37,366 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:48:37,366 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:{}
2020-03-11 09:48:37,366 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D9660366D8> checked out from pool
2020-03-11 09:48:37,366 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:DESCRIBE `pres_consignee`
2020-03-11 09:48:37,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,367 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:48:37,367 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 09:48:37,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:DESCRIBE `mid _prescriptions`
2020-03-11 09:48:37,367 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,368 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:48:37,369 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 09:48:37,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:DESCRIBE `mid_prescription_details`
2020-03-11 09:48:37,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,369 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:48:37,369 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 09:48:37,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:DESCRIBE `custom_addr`
2020-03-11 09:48:37,370 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,370 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 09:48:37,370 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 09:48:37,371 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D9660366D8> being returned to pool
2020-03-11 09:48:37,371 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D9660366D8> rollback-on-return
2020-03-11 09:48:37,373 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:10852:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D96606CFD0>
2020-03-11 09:48:37,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:48:37,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,374 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Variable_name', 'Value')
2020-03-11 09:48:37,374 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:48:37,374 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:48:37,375 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,376 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Variable_name', 'Value')
2020-03-11 09:48:37,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('lower_case_table_names', '1')
2020-03-11 09:48:37,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SELECT DATABASE()
2020-03-11 09:48:37,376 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,376 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('DATABASE()',)
2020-03-11 09:48:37,376 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('addr_test',)
2020-03-11 09:48:37,377 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:48:37,377 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:{}
2020-03-11 09:48:37,378 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:48:37,378 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:{}
2020-03-11 09:48:37,378 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D96606CFD0> checked out from pool
2020-03-11 09:48:37,378 root:INFO:models:mysql_connect:MainProcess:10852:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 09:48:37,379 root:INFO:models:mysql_connect:MainProcess:10852:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 09:48:37,379 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D96606CFD0> being returned to pool
2020-03-11 09:48:37,379 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D96606CFD0> rollback-on-return
2020-03-11 09:48:37,385 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:10852:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D96606CD30>
2020-03-11 09:48:37,385 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:48:37,385 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,387 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Variable_name', 'Value')
2020-03-11 09:48:37,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:48:37,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:48:37,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,389 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Variable_name', 'Value')
2020-03-11 09:48:37,389 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('lower_case_table_names', '1')
2020-03-11 09:48:37,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SELECT DATABASE()
2020-03-11 09:48:37,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,390 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('DATABASE()',)
2020-03-11 09:48:37,390 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('zhyf_host',)
2020-03-11 09:48:37,391 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:48:37,391 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:{}
2020-03-11 09:48:37,392 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:48:37,392 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:{}
2020-03-11 09:48:37,392 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D96606CD30> checked out from pool
2020-03-11 09:48:37,392 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:10852:BEGIN (implicit)
2020-03-11 09:48:37,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 09:48:37,393 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{'custom_num_1': '5550008088'}
2020-03-11 09:48:37,394 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 09:48:37,394 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 09:48:37,394 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 09:48:37,394 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D96606CD30> being returned to pool
2020-03-11 09:48:37,394 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D96606CD30> rollback-on-return, via agent
2020-03-11 09:48:37,395 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:10852:ROLLBACK
2020-03-11 09:48:37,395 root:INFO:views:entry_addr:MainProcess:10852:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D9660B97F0>, <hospital_test.models.Address object at 0x000001D9660B9828>]}
2020-03-11 09:48:37,397 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:10852:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D9660A6B70>
2020-03-11 09:48:37,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 09:48:37,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Variable_name', 'Value')
2020-03-11 09:48:37,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 09:48:37,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 09:48:37,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,400 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('Variable_name', 'Value')
2020-03-11 09:48:37,400 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('lower_case_table_names', '1')
2020-03-11 09:48:37,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SELECT DATABASE()
2020-03-11 09:48:37,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{}
2020-03-11 09:48:37,401 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('DATABASE()',)
2020-03-11 09:48:37,401 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('zhyf_host',)
2020-03-11 09:48:37,402 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 09:48:37,402 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:{}
2020-03-11 09:48:37,402 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 09:48:37,403 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:10852:{}
2020-03-11 09:48:37,403 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D9660A6B70> checked out from pool
2020-03-11 09:48:37,403 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:10852:BEGIN (implicit)
2020-03-11 09:48:37,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 09:48:37,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:10852:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 09:48:37,404 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:10852:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 09:48:37,404 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:10852:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 09:48:37,404 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D9660A6B70> being returned to pool
2020-03-11 09:48:37,405 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:10852:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D9660A6B70> rollback-on-return, via agent
2020-03-11 09:48:37,405 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:10852:ROLLBACK
2020-03-11 09:48:37,405 root:INFO:views:entry_addr:MainProcess:10852:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D9660B97F0>, <hospital_test.models.Address object at 0x000001D9660B9828>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D9660E0B00>]}
2020-03-11 09:48:39,954 django.request:ERROR:log:log_response:MainProcess:10852:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    return HttpResponse(json.dumps(r), content_type='application/json')
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 09:48:41,680 django.request:ERROR:log:log_response:MainProcess:10852:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    return HttpResponse(json.dumps(r), content_type='application/json')
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 09:48:43,432 django.request:ERROR:log:log_response:MainProcess:10852:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 90, in get_hos_properties
    return HttpResponse(json.dumps(r), content_type='application/json')
UnboundLocalError: local variable 'r' referenced before assignment
2020-03-11 10:02:25,321 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:10852:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:02:25,322 asyncio:DEBUG:selector_events:__init__:MainProcess:10852:Using selector: SelectSelector
2020-03-11 10:02:26,874 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21800:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D45780>
2020-03-11 10:02:26,874 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:02:26,874 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,876 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Variable_name', 'Value')
2020-03-11 10:02:26,876 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:02:26,876 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:02:26,876 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,877 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Variable_name', 'Value')
2020-03-11 10:02:26,877 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('lower_case_table_names', '1')
2020-03-11 10:02:26,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SELECT DATABASE()
2020-03-11 10:02:26,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,878 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('DATABASE()',)
2020-03-11 10:02:26,878 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('zhyf_host',)
2020-03-11 10:02:26,879 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:02:26,879 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:{}
2020-03-11 10:02:26,879 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:02:26,879 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:{}
2020-03-11 10:02:26,880 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D45780> checked out from pool
2020-03-11 10:02:26,880 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:DESCRIBE `pres_consignee`
2020-03-11 10:02:26,880 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,881 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:02:26,881 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:02:26,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:DESCRIBE `mid _prescriptions`
2020-03-11 10:02:26,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,882 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:02:26,882 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:02:26,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:DESCRIBE `mid_prescription_details`
2020-03-11 10:02:26,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,883 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:02:26,883 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:02:26,883 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:DESCRIBE `custom_addr`
2020-03-11 10:02:26,883 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,884 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:02:26,884 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:02:26,884 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D45780> being returned to pool
2020-03-11 10:02:26,884 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D45780> rollback-on-return
2020-03-11 10:02:26,885 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21800:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D760F0>
2020-03-11 10:02:26,885 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:02:26,885 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,886 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Variable_name', 'Value')
2020-03-11 10:02:26,886 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:02:26,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:02:26,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,888 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Variable_name', 'Value')
2020-03-11 10:02:26,888 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('lower_case_table_names', '1')
2020-03-11 10:02:26,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SELECT DATABASE()
2020-03-11 10:02:26,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,889 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('DATABASE()',)
2020-03-11 10:02:26,889 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('addr_test',)
2020-03-11 10:02:26,890 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:02:26,890 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:{}
2020-03-11 10:02:26,890 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:02:26,890 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:{}
2020-03-11 10:02:26,891 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D760F0> checked out from pool
2020-03-11 10:02:26,891 root:INFO:models:mysql_connect:MainProcess:21800:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:02:26,892 root:INFO:models:mysql_connect:MainProcess:21800:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:02:26,892 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D760F0> being returned to pool
2020-03-11 10:02:26,892 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D760F0> rollback-on-return
2020-03-11 10:02:26,897 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21800:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D45AC8>
2020-03-11 10:02:26,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:02:26,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,899 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Variable_name', 'Value')
2020-03-11 10:02:26,899 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:02:26,899 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:02:26,899 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,901 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Variable_name', 'Value')
2020-03-11 10:02:26,901 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('lower_case_table_names', '1')
2020-03-11 10:02:26,901 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SELECT DATABASE()
2020-03-11 10:02:26,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,902 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('DATABASE()',)
2020-03-11 10:02:26,902 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('zhyf_host',)
2020-03-11 10:02:26,903 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:02:26,903 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:{}
2020-03-11 10:02:26,904 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:02:26,904 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:{}
2020-03-11 10:02:26,904 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D45AC8> checked out from pool
2020-03-11 10:02:26,904 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21800:BEGIN (implicit)
2020-03-11 10:02:26,905 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:02:26,905 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{'custom_num_1': '5550008088'}
2020-03-11 10:02:26,905 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:02:26,905 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:02:26,906 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:02:26,906 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D45AC8> being returned to pool
2020-03-11 10:02:26,906 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58D45AC8> rollback-on-return, via agent
2020-03-11 10:02:26,906 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21800:ROLLBACK
2020-03-11 10:02:26,906 root:INFO:views:entry_addr:MainProcess:21800:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024C58DB4CC0>, <hospital_test.models.Address object at 0x0000024C58DB4D30>]}
2020-03-11 10:02:26,908 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21800:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58DCE128>
2020-03-11 10:02:26,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:02:26,909 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,910 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Variable_name', 'Value')
2020-03-11 10:02:26,910 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:02:26,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:02:26,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,911 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('Variable_name', 'Value')
2020-03-11 10:02:26,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('lower_case_table_names', '1')
2020-03-11 10:02:26,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SELECT DATABASE()
2020-03-11 10:02:26,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{}
2020-03-11 10:02:26,912 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('DATABASE()',)
2020-03-11 10:02:26,912 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('zhyf_host',)
2020-03-11 10:02:26,913 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:02:26,913 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:{}
2020-03-11 10:02:26,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:02:26,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21800:{}
2020-03-11 10:02:26,914 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58DCE128> checked out from pool
2020-03-11 10:02:26,914 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21800:BEGIN (implicit)
2020-03-11 10:02:26,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:02:26,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21800:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:02:26,915 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21800:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:02:26,915 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21800:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:02:26,915 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58DCE128> being returned to pool
2020-03-11 10:02:26,915 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21800:Connection <mysql.connector.connection.MySQLConnection object at 0x0000024C58DCE128> rollback-on-return, via agent
2020-03-11 10:02:26,915 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21800:ROLLBACK
2020-03-11 10:02:26,915 root:INFO:views:entry_addr:MainProcess:21800:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000024C58DB4CC0>, <hospital_test.models.Address object at 0x0000024C58DB4D30>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000024C58DCEA20>]}
2020-03-11 10:02:29,550 django.request:ERROR:log:log_response:MainProcess:21800:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 88, in get_hos_properties
    r = hos_properties_code('hospital', pro_needed)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\handling.py", line 22, in hos_properties_code
    hos_properties[opt[i]] = config.get(sect, opt[i]).encode('utf-8').decode('unicode_escape')
  File "C:\Program Files\Python37\lib\configparser.py", line 780, in get
    d = self._unify_values(section, vars)
  File "C:\Program Files\Python37\lib\configparser.py", line 1146, in _unify_values
    raise NoSectionError(section) from None
configparser.NoSectionError: No section: 'hospital'
2020-03-11 10:05:00,626 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:21800:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:05:00,626 asyncio:DEBUG:selector_events:__init__:MainProcess:21800:Using selector: SelectSelector
2020-03-11 10:07:48,377 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18300:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A392794208>
2020-03-11 10:07:48,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:07:48,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,379 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Variable_name', 'Value')
2020-03-11 10:07:48,380 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:07:48,380 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:07:48,380 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,381 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Variable_name', 'Value')
2020-03-11 10:07:48,381 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('lower_case_table_names', '1')
2020-03-11 10:07:48,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SELECT DATABASE()
2020-03-11 10:07:48,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,382 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('DATABASE()',)
2020-03-11 10:07:48,382 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('zhyf_host',)
2020-03-11 10:07:48,383 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:07:48,383 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:{}
2020-03-11 10:07:48,383 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:07:48,383 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:{}
2020-03-11 10:07:48,384 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A392794208> checked out from pool
2020-03-11 10:07:48,385 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:DESCRIBE `pres_consignee`
2020-03-11 10:07:48,385 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,386 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:07:48,386 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:07:48,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:DESCRIBE `mid _prescriptions`
2020-03-11 10:07:48,386 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,387 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:07:48,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:07:48,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:DESCRIBE `mid_prescription_details`
2020-03-11 10:07:48,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,388 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:07:48,388 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:07:48,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:DESCRIBE `custom_addr`
2020-03-11 10:07:48,388 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,389 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:07:48,389 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:07:48,389 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A392794208> being returned to pool
2020-03-11 10:07:48,389 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A392794208> rollback-on-return
2020-03-11 10:07:48,391 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18300:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A392794A58>
2020-03-11 10:07:48,392 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:07:48,392 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,393 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Variable_name', 'Value')
2020-03-11 10:07:48,393 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:07:48,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:07:48,394 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,395 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Variable_name', 'Value')
2020-03-11 10:07:48,395 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('lower_case_table_names', '1')
2020-03-11 10:07:48,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SELECT DATABASE()
2020-03-11 10:07:48,396 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,396 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('DATABASE()',)
2020-03-11 10:07:48,396 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('addr_test',)
2020-03-11 10:07:48,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:07:48,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:{}
2020-03-11 10:07:48,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:07:48,397 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:{}
2020-03-11 10:07:48,398 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A392794A58> checked out from pool
2020-03-11 10:07:48,398 root:INFO:models:mysql_connect:MainProcess:18300:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:07:48,398 root:INFO:models:mysql_connect:MainProcess:18300:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:07:48,398 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A392794A58> being returned to pool
2020-03-11 10:07:48,398 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A392794A58> rollback-on-return
2020-03-11 10:07:48,405 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18300:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A3927D2048>
2020-03-11 10:07:48,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:07:48,405 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,406 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Variable_name', 'Value')
2020-03-11 10:07:48,407 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:07:48,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:07:48,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,408 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Variable_name', 'Value')
2020-03-11 10:07:48,408 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('lower_case_table_names', '1')
2020-03-11 10:07:48,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SELECT DATABASE()
2020-03-11 10:07:48,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,410 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('DATABASE()',)
2020-03-11 10:07:48,410 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('zhyf_host',)
2020-03-11 10:07:48,411 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:07:48,411 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:{}
2020-03-11 10:07:48,411 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:07:48,411 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:{}
2020-03-11 10:07:48,412 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A3927D2048> checked out from pool
2020-03-11 10:07:48,412 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:18300:BEGIN (implicit)
2020-03-11 10:07:48,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:07:48,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{'custom_num_1': '5550008088'}
2020-03-11 10:07:48,413 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:07:48,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:07:48,413 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:07:48,413 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A3927D2048> being returned to pool
2020-03-11 10:07:48,413 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A3927D2048> rollback-on-return, via agent
2020-03-11 10:07:48,413 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:18300:ROLLBACK
2020-03-11 10:07:48,414 root:INFO:views:entry_addr:MainProcess:18300:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A3927FE780>, <hospital_test.models.Address object at 0x000001A3927FE7F0>]}
2020-03-11 10:07:48,416 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18300:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A3927FEBA8>
2020-03-11 10:07:48,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:07:48,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,418 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Variable_name', 'Value')
2020-03-11 10:07:48,418 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:07:48,418 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:07:48,418 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,419 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('Variable_name', 'Value')
2020-03-11 10:07:48,419 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('lower_case_table_names', '1')
2020-03-11 10:07:48,420 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SELECT DATABASE()
2020-03-11 10:07:48,420 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{}
2020-03-11 10:07:48,420 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('DATABASE()',)
2020-03-11 10:07:48,420 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('zhyf_host',)
2020-03-11 10:07:48,421 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:07:48,421 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:{}
2020-03-11 10:07:48,421 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:07:48,422 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18300:{}
2020-03-11 10:07:48,422 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A3927FEBA8> checked out from pool
2020-03-11 10:07:48,422 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:18300:BEGIN (implicit)
2020-03-11 10:07:48,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:07:48,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18300:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:07:48,423 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18300:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:07:48,423 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18300:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:07:48,423 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A3927FEBA8> being returned to pool
2020-03-11 10:07:48,424 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18300:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A3927FEBA8> rollback-on-return, via agent
2020-03-11 10:07:48,424 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:18300:ROLLBACK
2020-03-11 10:07:48,424 root:INFO:views:entry_addr:MainProcess:18300:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A3927FE780>, <hospital_test.models.Address object at 0x000001A3927FE7F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A3928124E0>]}
2020-03-11 10:07:50,931 django.request:ERROR:log:log_response:MainProcess:18300:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 96, in get_hos_properties
    hos_properties[pro_needed[i]] = config.get('hospital', pro_needed[i]).encode('utf-8').decode('unicode_escape')
  File "C:\Program Files\Python37\lib\configparser.py", line 780, in get
    d = self._unify_values(section, vars)
  File "C:\Program Files\Python37\lib\configparser.py", line 1146, in _unify_values
    raise NoSectionError(section) from None
configparser.NoSectionError: No section: 'hospital'
2020-03-11 10:08:40,197 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:18300:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:08:40,197 asyncio:DEBUG:selector_events:__init__:MainProcess:18300:Using selector: SelectSelector
2020-03-11 10:08:41,893 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED785CAEB8>
2020-03-11 10:08:41,894 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:08:41,894 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,895 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Variable_name', 'Value')
2020-03-11 10:08:41,895 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:08:41,895 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:08:41,896 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,897 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Variable_name', 'Value')
2020-03-11 10:08:41,897 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('lower_case_table_names', '1')
2020-03-11 10:08:41,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SELECT DATABASE()
2020-03-11 10:08:41,898 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,898 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('DATABASE()',)
2020-03-11 10:08:41,898 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('zhyf_host',)
2020-03-11 10:08:41,899 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:08:41,899 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:{}
2020-03-11 10:08:41,900 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:08:41,900 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:{}
2020-03-11 10:08:41,900 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED785CAEB8> checked out from pool
2020-03-11 10:08:41,901 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:DESCRIBE `pres_consignee`
2020-03-11 10:08:41,901 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,901 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:08:41,901 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:08:41,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:DESCRIBE `mid _prescriptions`
2020-03-11 10:08:41,902 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,903 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:08:41,903 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:08:41,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:DESCRIBE `mid_prescription_details`
2020-03-11 10:08:41,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,904 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:08:41,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:08:41,904 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:DESCRIBE `custom_addr`
2020-03-11 10:08:41,904 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,905 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:08:41,905 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:08:41,905 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED785CAEB8> being returned to pool
2020-03-11 10:08:41,905 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED785CAEB8> rollback-on-return
2020-03-11 10:08:41,908 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED785E1BE0>
2020-03-11 10:08:41,908 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:08:41,908 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,909 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Variable_name', 'Value')
2020-03-11 10:08:41,909 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:08:41,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:08:41,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,911 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Variable_name', 'Value')
2020-03-11 10:08:41,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('lower_case_table_names', '1')
2020-03-11 10:08:41,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SELECT DATABASE()
2020-03-11 10:08:41,912 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,912 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('DATABASE()',)
2020-03-11 10:08:41,912 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('addr_test',)
2020-03-11 10:08:41,913 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:08:41,913 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:{}
2020-03-11 10:08:41,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:08:41,914 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:{}
2020-03-11 10:08:41,914 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED785E1BE0> checked out from pool
2020-03-11 10:08:41,914 root:INFO:models:mysql_connect:MainProcess:21932:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:08:41,915 root:INFO:models:mysql_connect:MainProcess:21932:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:08:41,915 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED785E1BE0> being returned to pool
2020-03-11 10:08:41,915 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED785E1BE0> rollback-on-return
2020-03-11 10:08:41,921 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED78617550>
2020-03-11 10:08:41,922 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:08:41,922 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,923 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Variable_name', 'Value')
2020-03-11 10:08:41,923 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:08:41,924 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:08:41,924 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,925 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Variable_name', 'Value')
2020-03-11 10:08:41,925 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('lower_case_table_names', '1')
2020-03-11 10:08:41,926 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SELECT DATABASE()
2020-03-11 10:08:41,926 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,926 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('DATABASE()',)
2020-03-11 10:08:41,926 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('zhyf_host',)
2020-03-11 10:08:41,927 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:08:41,927 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:{}
2020-03-11 10:08:41,928 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:08:41,928 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:{}
2020-03-11 10:08:41,928 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED78617550> checked out from pool
2020-03-11 10:08:41,928 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21932:BEGIN (implicit)
2020-03-11 10:08:41,929 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:08:41,929 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{'custom_num_1': '5550008088'}
2020-03-11 10:08:41,930 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:08:41,930 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:08:41,930 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:08:41,930 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED78617550> being returned to pool
2020-03-11 10:08:41,930 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED78617550> rollback-on-return, via agent
2020-03-11 10:08:41,931 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21932:ROLLBACK
2020-03-11 10:08:41,931 root:INFO:views:entry_addr:MainProcess:21932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001ED7864F198>, <hospital_test.models.Address object at 0x000001ED7864F208>]}
2020-03-11 10:08:41,934 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21932:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED7864F630>
2020-03-11 10:08:41,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:08:41,934 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,935 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Variable_name', 'Value')
2020-03-11 10:08:41,935 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:08:41,936 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:08:41,936 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,937 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('Variable_name', 'Value')
2020-03-11 10:08:41,937 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('lower_case_table_names', '1')
2020-03-11 10:08:41,938 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SELECT DATABASE()
2020-03-11 10:08:41,938 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{}
2020-03-11 10:08:41,938 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('DATABASE()',)
2020-03-11 10:08:41,938 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('zhyf_host',)
2020-03-11 10:08:41,939 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:08:41,939 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:{}
2020-03-11 10:08:41,940 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:08:41,940 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21932:{}
2020-03-11 10:08:41,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED7864F630> checked out from pool
2020-03-11 10:08:41,940 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21932:BEGIN (implicit)
2020-03-11 10:08:41,941 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:08:41,941 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21932:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:08:41,942 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21932:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:08:41,942 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21932:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:08:41,942 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED7864F630> being returned to pool
2020-03-11 10:08:41,942 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21932:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED7864F630> rollback-on-return, via agent
2020-03-11 10:08:41,942 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21932:ROLLBACK
2020-03-11 10:08:41,942 root:INFO:views:entry_addr:MainProcess:21932:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001ED7864F198>, <hospital_test.models.Address object at 0x000001ED7864F208>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001ED7865C198>]}
2020-03-11 10:08:44,199 django.request:ERROR:log:log_response:MainProcess:21932:Internal Server Error: /customAddr/getHosProperties.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\views\decorators\csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 97, in get_hos_properties
    hos_properties[pro_needed[i]] = config.get('hospital', pro_needed[i]).encode('utf-8').decode('unicode_escape')
  File "C:\Program Files\Python37\lib\configparser.py", line 780, in get
    d = self._unify_values(section, vars)
  File "C:\Program Files\Python37\lib\configparser.py", line 1146, in _unify_values
    raise NoSectionError(section) from None
configparser.NoSectionError: No section: 'hospital'
2020-03-11 10:09:05,597 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:21932:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:09:05,597 asyncio:DEBUG:selector_events:__init__:MainProcess:21932:Using selector: SelectSelector
2020-03-11 10:09:07,048 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:20976:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BDF56D8>
2020-03-11 10:09:07,049 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:09:07,049 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,050 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:07,050 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:09:07,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:09:07,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,051 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:07,051 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('lower_case_table_names', '1')
2020-03-11 10:09:07,052 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT DATABASE()
2020-03-11 10:09:07,053 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,053 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('DATABASE()',)
2020-03-11 10:09:07,053 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('zhyf_host',)
2020-03-11 10:09:07,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:07,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:07,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:07,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:07,055 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BDF56D8> checked out from pool
2020-03-11 10:09:07,055 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:DESCRIBE `pres_consignee`
2020-03-11 10:09:07,055 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,056 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:09:07,056 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:09:07,056 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:DESCRIBE `mid _prescriptions`
2020-03-11 10:09:07,057 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,058 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:09:07,058 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:09:07,058 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:DESCRIBE `mid_prescription_details`
2020-03-11 10:09:07,058 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,059 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:09:07,059 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:09:07,059 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:DESCRIBE `custom_addr`
2020-03-11 10:09:07,059 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,059 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:09:07,059 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:09:07,060 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BDF56D8> being returned to pool
2020-03-11 10:09:07,060 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BDF56D8> rollback-on-return
2020-03-11 10:09:07,062 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:20976:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE2AFD0>
2020-03-11 10:09:07,062 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:09:07,062 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,063 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:07,063 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:09:07,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:09:07,064 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,065 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:07,065 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('lower_case_table_names', '1')
2020-03-11 10:09:07,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT DATABASE()
2020-03-11 10:09:07,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,066 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('DATABASE()',)
2020-03-11 10:09:07,066 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('addr_test',)
2020-03-11 10:09:07,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:07,066 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:07,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:07,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:07,067 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE2AFD0> checked out from pool
2020-03-11 10:09:07,067 root:INFO:models:mysql_connect:MainProcess:20976:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:09:07,068 root:INFO:models:mysql_connect:MainProcess:20976:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:09:07,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE2AFD0> being returned to pool
2020-03-11 10:09:07,068 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE2AFD0> rollback-on-return
2020-03-11 10:09:07,073 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:20976:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE2AD30>
2020-03-11 10:09:07,073 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:09:07,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:07,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:09:07,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:09:07,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:07,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('lower_case_table_names', '1')
2020-03-11 10:09:07,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT DATABASE()
2020-03-11 10:09:07,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,077 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('DATABASE()',)
2020-03-11 10:09:07,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('zhyf_host',)
2020-03-11 10:09:07,078 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:07,078 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:07,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:07,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:07,079 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE2AD30> checked out from pool
2020-03-11 10:09:07,079 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:20976:BEGIN (implicit)
2020-03-11 10:09:07,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:09:07,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{'custom_num_1': '5550008088'}
2020-03-11 10:09:07,081 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:09:07,081 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:09:07,081 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:09:07,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE2AD30> being returned to pool
2020-03-11 10:09:07,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE2AD30> rollback-on-return, via agent
2020-03-11 10:09:07,081 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:20976:ROLLBACK
2020-03-11 10:09:07,081 root:INFO:views:entry_addr:MainProcess:20976:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D33BE64C18>, <hospital_test.models.Address object at 0x000001D33BE64C88>]}
2020-03-11 10:09:07,084 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:20976:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE7F080>
2020-03-11 10:09:07,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:09:07,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,085 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:07,085 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:09:07,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:09:07,086 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,087 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:07,087 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('lower_case_table_names', '1')
2020-03-11 10:09:07,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT DATABASE()
2020-03-11 10:09:07,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:07,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('DATABASE()',)
2020-03-11 10:09:07,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('zhyf_host',)
2020-03-11 10:09:07,089 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:07,089 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:07,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:07,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:07,090 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE7F080> checked out from pool
2020-03-11 10:09:07,090 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:20976:BEGIN (implicit)
2020-03-11 10:09:07,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:09:07,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:09:07,091 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:09:07,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:09:07,091 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE7F080> being returned to pool
2020-03-11 10:09:07,091 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE7F080> rollback-on-return, via agent
2020-03-11 10:09:07,091 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:20976:ROLLBACK
2020-03-11 10:09:07,092 root:INFO:views:entry_addr:MainProcess:20976:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D33BE64C18>, <hospital_test.models.Address object at 0x000001D33BE64C88>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D33BE7F978>]}
2020-03-11 10:09:10,405 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:20976:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BED8EF0>
2020-03-11 10:09:10,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:09:10,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,408 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:10,408 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:09:10,408 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:09:10,408 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,410 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:10,410 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('lower_case_table_names', '1')
2020-03-11 10:09:10,410 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT DATABASE()
2020-03-11 10:09:10,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,411 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('DATABASE()',)
2020-03-11 10:09:10,411 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('zhyf_host',)
2020-03-11 10:09:10,412 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:10,412 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:10,412 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:10,412 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:10,413 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BED8EF0> checked out from pool
2020-03-11 10:09:10,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:DESCRIBE `pres_consignee`
2020-03-11 10:09:10,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:09:10,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:09:10,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:DESCRIBE `mid _prescriptions`
2020-03-11 10:09:10,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,415 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:09:10,415 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:09:10,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:DESCRIBE `mid_prescription_details`
2020-03-11 10:09:10,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,417 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:09:10,417 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:09:10,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:DESCRIBE `custom_addr`
2020-03-11 10:09:10,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,418 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:09:10,418 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:09:10,418 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BED8EF0> being returned to pool
2020-03-11 10:09:10,418 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BED8EF0> rollback-on-return
2020-03-11 10:09:10,420 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:20976:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE64B70>
2020-03-11 10:09:10,421 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:09:10,421 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,422 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:10,422 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:09:10,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:09:10,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,424 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:10,424 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('lower_case_table_names', '1')
2020-03-11 10:09:10,425 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT DATABASE()
2020-03-11 10:09:10,425 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,425 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('DATABASE()',)
2020-03-11 10:09:10,425 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('addr_test',)
2020-03-11 10:09:10,426 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:10,426 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:10,427 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:10,427 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:10,428 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE64B70> checked out from pool
2020-03-11 10:09:10,428 root:INFO:models:mysql_connect:MainProcess:20976:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:09:10,429 root:INFO:models:mysql_connect:MainProcess:20976:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:09:10,429 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE64B70> being returned to pool
2020-03-11 10:09:10,429 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE64B70> rollback-on-return
2020-03-11 10:09:10,431 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:20976:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BEEEBA8>
2020-03-11 10:09:10,432 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:09:10,432 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,433 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:10,433 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:09:10,433 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:09:10,433 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,434 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:10,434 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('lower_case_table_names', '1')
2020-03-11 10:09:10,435 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT DATABASE()
2020-03-11 10:09:10,435 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,435 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('DATABASE()',)
2020-03-11 10:09:10,435 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('zhyf_host',)
2020-03-11 10:09:10,436 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:10,436 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:10,437 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:10,437 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:10,437 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BEEEBA8> checked out from pool
2020-03-11 10:09:10,438 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:20976:BEGIN (implicit)
2020-03-11 10:09:10,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:09:10,439 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{'custom_num_1': '5550008088'}
2020-03-11 10:09:10,439 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:09:10,439 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:09:10,439 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:09:10,440 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BEEEBA8> being returned to pool
2020-03-11 10:09:10,440 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BEEEBA8> rollback-on-return, via agent
2020-03-11 10:09:10,440 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:20976:ROLLBACK
2020-03-11 10:09:10,440 root:INFO:views:entry_addr:MainProcess:20976:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D33BE64B70>, <hospital_test.models.Address object at 0x000001D33BE64240>]}
2020-03-11 10:09:10,443 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:20976:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE649E8>
2020-03-11 10:09:10,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:09:10,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,445 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:10,446 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:09:10,446 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:09:10,446 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,447 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('Variable_name', 'Value')
2020-03-11 10:09:10,447 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('lower_case_table_names', '1')
2020-03-11 10:09:10,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT DATABASE()
2020-03-11 10:09:10,448 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{}
2020-03-11 10:09:10,448 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('DATABASE()',)
2020-03-11 10:09:10,448 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('zhyf_host',)
2020-03-11 10:09:10,449 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:10,449 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:10,449 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:09:10,449 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:20976:{}
2020-03-11 10:09:10,450 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE649E8> checked out from pool
2020-03-11 10:09:10,450 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:20976:BEGIN (implicit)
2020-03-11 10:09:10,450 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:09:10,450 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:20976:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:09:10,451 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:20976:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:09:10,451 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:20976:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:09:10,451 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE649E8> being returned to pool
2020-03-11 10:09:10,451 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:20976:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D33BE649E8> rollback-on-return, via agent
2020-03-11 10:09:10,451 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:20976:ROLLBACK
2020-03-11 10:09:10,451 root:INFO:views:entry_addr:MainProcess:20976:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D33BE64B70>, <hospital_test.models.Address object at 0x000001D33BE64240>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D33BED5A20>]}
2020-03-11 10:11:54,489 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:20976:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:11:54,490 asyncio:DEBUG:selector_events:__init__:MainProcess:20976:Using selector: SelectSelector
2020-03-11 10:11:56,282 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD6D6630>
2020-03-11 10:11:56,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:11:56,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,284 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:56,284 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:11:56,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:11:56,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,285 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:56,286 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:11:56,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:11:56,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,287 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:11:56,287 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:11:56,287 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:56,287 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:56,288 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:56,288 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:56,288 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD6D6630> checked out from pool
2020-03-11 10:11:56,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `pres_consignee`
2020-03-11 10:11:56,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,289 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:11:56,289 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:11:56,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `mid _prescriptions`
2020-03-11 10:11:56,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,290 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:11:56,290 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:11:56,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `mid_prescription_details`
2020-03-11 10:11:56,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,291 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:11:56,291 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:11:56,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `custom_addr`
2020-03-11 10:11:56,292 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,292 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:11:56,292 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:11:56,292 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD6D6630> being returned to pool
2020-03-11 10:11:56,292 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD6D6630> rollback-on-return
2020-03-11 10:11:56,294 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD70AC50>
2020-03-11 10:11:56,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:11:56,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,296 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:56,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:11:56,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:11:56,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,297 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:56,297 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:11:56,297 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:11:56,297 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,298 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:11:56,298 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('addr_test',)
2020-03-11 10:11:56,298 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:56,298 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:56,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:56,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:56,299 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD70AC50> checked out from pool
2020-03-11 10:11:56,299 root:INFO:models:mysql_connect:MainProcess:21036:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:11:56,300 root:INFO:models:mysql_connect:MainProcess:21036:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:11:56,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD70AC50> being returned to pool
2020-03-11 10:11:56,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD70AC50> rollback-on-return
2020-03-11 10:11:56,305 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD70AF60>
2020-03-11 10:11:56,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:11:56,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,307 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:56,307 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:11:56,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:11:56,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,308 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:56,309 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:11:56,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:11:56,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,310 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:11:56,310 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:11:56,311 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:56,311 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:56,311 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:56,311 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:56,312 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD70AF60> checked out from pool
2020-03-11 10:11:56,312 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21036:BEGIN (implicit)
2020-03-11 10:11:56,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:11:56,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{'custom_num_1': '5550008088'}
2020-03-11 10:11:56,313 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:11:56,313 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:11:56,313 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:11:56,314 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD70AF60> being returned to pool
2020-03-11 10:11:56,314 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD70AF60> rollback-on-return, via agent
2020-03-11 10:11:56,314 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21036:ROLLBACK
2020-03-11 10:11:56,314 root:INFO:views:entry_addr:MainProcess:21036:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D7BD745B38>, <hospital_test.models.Address object at 0x000001D7BD745BA8>]}
2020-03-11 10:11:56,316 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD745F60>
2020-03-11 10:11:56,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:11:56,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,317 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:56,317 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:11:56,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:11:56,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,319 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:56,319 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:11:56,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:11:56,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:56,320 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:11:56,320 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:11:56,321 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:56,321 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:56,322 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:56,322 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:56,322 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD745F60> checked out from pool
2020-03-11 10:11:56,322 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21036:BEGIN (implicit)
2020-03-11 10:11:56,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:11:56,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:11:56,323 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:11:56,324 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:11:56,324 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD745F60> being returned to pool
2020-03-11 10:11:56,324 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD745F60> rollback-on-return, via agent
2020-03-11 10:11:56,324 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21036:ROLLBACK
2020-03-11 10:11:56,324 root:INFO:views:entry_addr:MainProcess:21036:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D7BD745B38>, <hospital_test.models.Address object at 0x000001D7BD745BA8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D7BD75F898>]}
2020-03-11 10:11:58,001 root:INFO:views:get_hos_properties:MainProcess:21036:is_hos_addr:1
2020-03-11 10:11:58,003 root:INFO:views:get_hos_properties:MainProcess:21036:医院信息：{"companyprovince": "\u4e91\u5357\u7701", "companycity": "\u6606\u660e\u5e02", "companyzone": "\u76d8\u9f99\u533a", "companyaddress": "\u7a7f\u91d1\u8def733\u53f7", "companyname": "\u4e91\u5357\u7701\u7cbe\u795e\u75c5\u533b\u9662"}
2020-03-11 10:11:59,294 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD78AE80>
2020-03-11 10:11:59,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:11:59,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,295 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:59,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:11:59,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:11:59,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,297 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:59,297 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:11:59,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:11:59,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,298 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:11:59,298 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:11:59,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:59,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:59,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:59,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:59,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD78AE80> checked out from pool
2020-03-11 10:11:59,300 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `pres_consignee`
2020-03-11 10:11:59,300 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,301 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:11:59,301 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:11:59,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `mid _prescriptions`
2020-03-11 10:11:59,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,302 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:11:59,302 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:11:59,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `mid_prescription_details`
2020-03-11 10:11:59,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,304 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:11:59,304 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:11:59,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `custom_addr`
2020-03-11 10:11:59,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,306 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:11:59,306 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:11:59,306 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD78AE80> being returned to pool
2020-03-11 10:11:59,306 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD78AE80> rollback-on-return
2020-03-11 10:11:59,309 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD779208>
2020-03-11 10:11:59,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:11:59,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,311 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:59,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:11:59,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:11:59,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,313 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:59,313 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:11:59,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:11:59,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,313 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:11:59,314 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('addr_test',)
2020-03-11 10:11:59,314 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:59,314 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:59,315 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:59,315 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:59,315 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD779208> checked out from pool
2020-03-11 10:11:59,315 root:INFO:models:mysql_connect:MainProcess:21036:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:11:59,316 root:INFO:models:mysql_connect:MainProcess:21036:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:11:59,316 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD779208> being returned to pool
2020-03-11 10:11:59,316 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD779208> rollback-on-return
2020-03-11 10:11:59,318 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD80AE10>
2020-03-11 10:11:59,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:11:59,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,321 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:59,321 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:11:59,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:11:59,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,323 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:59,323 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:11:59,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:11:59,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,324 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:11:59,324 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:11:59,325 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:59,325 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:59,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:59,326 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:59,327 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD80AE10> checked out from pool
2020-03-11 10:11:59,327 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21036:BEGIN (implicit)
2020-03-11 10:11:59,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:11:59,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{'custom_num_1': '5550008088'}
2020-03-11 10:11:59,328 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:11:59,329 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:11:59,329 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:11:59,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD80AE10> being returned to pool
2020-03-11 10:11:59,329 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD80AE10> rollback-on-return, via agent
2020-03-11 10:11:59,329 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21036:ROLLBACK
2020-03-11 10:11:59,329 root:INFO:views:entry_addr:MainProcess:21036:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D7BD779400>, <hospital_test.models.Address object at 0x000001D7BD7793C8>]}
2020-03-11 10:11:59,332 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD75FCC0>
2020-03-11 10:11:59,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:11:59,332 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,333 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:59,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:11:59,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:11:59,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,335 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:11:59,336 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:11:59,336 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:11:59,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:11:59,337 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:11:59,337 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:11:59,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:59,338 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:59,339 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:11:59,339 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:11:59,339 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD75FCC0> checked out from pool
2020-03-11 10:11:59,340 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21036:BEGIN (implicit)
2020-03-11 10:11:59,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:11:59,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:11:59,341 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:11:59,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:11:59,341 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD75FCC0> being returned to pool
2020-03-11 10:11:59,341 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD75FCC0> rollback-on-return, via agent
2020-03-11 10:11:59,341 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21036:ROLLBACK
2020-03-11 10:11:59,342 root:INFO:views:entry_addr:MainProcess:21036:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D7BD779400>, <hospital_test.models.Address object at 0x000001D7BD7793C8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D7BD8539E8>]}
2020-03-11 10:12:47,963 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD772BA8>
2020-03-11 10:12:47,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:12:47,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,965 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:47,966 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:12:47,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:12:47,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:47,967 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:12:47,968 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:12:47,968 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,968 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:12:47,968 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:12:47,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:47,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:47,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:47,969 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:47,970 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD772BA8> checked out from pool
2020-03-11 10:12:47,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `pres_consignee`
2020-03-11 10:12:47,970 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,971 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:12:47,971 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:12:47,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `mid _prescriptions`
2020-03-11 10:12:47,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,973 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:12:47,973 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:12:47,973 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `mid_prescription_details`
2020-03-11 10:12:47,973 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,974 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:12:47,974 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:12:47,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `custom_addr`
2020-03-11 10:12:47,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,975 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:12:47,976 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:12:47,976 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD772BA8> being returned to pool
2020-03-11 10:12:47,976 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD772BA8> rollback-on-return
2020-03-11 10:12:47,978 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD776A58>
2020-03-11 10:12:47,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:12:47,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,981 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:47,981 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:12:47,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:12:47,981 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,982 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:47,982 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:12:47,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:12:47,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,984 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:12:47,984 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('addr_test',)
2020-03-11 10:12:47,985 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:47,985 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:47,985 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:47,985 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:47,986 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD776A58> checked out from pool
2020-03-11 10:12:47,986 root:INFO:models:mysql_connect:MainProcess:21036:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:12:47,986 root:INFO:models:mysql_connect:MainProcess:21036:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:12:47,987 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD776A58> being returned to pool
2020-03-11 10:12:47,987 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD776A58> rollback-on-return
2020-03-11 10:12:47,989 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD776DA0>
2020-03-11 10:12:47,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:12:47,989 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,991 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:47,991 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:12:47,991 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:12:47,991 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,992 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:47,992 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:12:47,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:12:47,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:47,993 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:12:47,993 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:12:47,994 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:47,994 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:47,995 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:47,995 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:47,995 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD776DA0> checked out from pool
2020-03-11 10:12:47,996 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21036:BEGIN (implicit)
2020-03-11 10:12:47,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:12:47,996 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{'custom_num_1': '5550008088'}
2020-03-11 10:12:47,997 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:12:47,997 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:12:47,997 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:12:47,998 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD776DA0> being returned to pool
2020-03-11 10:12:47,998 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD776DA0> rollback-on-return, via agent
2020-03-11 10:12:47,998 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21036:ROLLBACK
2020-03-11 10:12:47,998 root:INFO:views:entry_addr:MainProcess:21036:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D7BD82DFD0>, <hospital_test.models.Address object at 0x000001D7BD82D6D8>]}
2020-03-11 10:12:48,001 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD82DDD8>
2020-03-11 10:12:48,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:12:48,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:48,002 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:48,003 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:12:48,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:12:48,003 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:48,004 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:48,004 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:12:48,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:12:48,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:48,005 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:12:48,005 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:12:48,006 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:48,006 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:48,007 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:48,007 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:48,007 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD82DDD8> checked out from pool
2020-03-11 10:12:48,007 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21036:BEGIN (implicit)
2020-03-11 10:12:48,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:12:48,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:12:48,008 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:12:48,009 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:12:48,009 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD82DDD8> being returned to pool
2020-03-11 10:12:48,009 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD82DDD8> rollback-on-return, via agent
2020-03-11 10:12:48,009 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21036:ROLLBACK
2020-03-11 10:12:48,009 root:INFO:views:entry_addr:MainProcess:21036:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D7BD82DFD0>, <hospital_test.models.Address object at 0x000001D7BD82D6D8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D7BD779278>]}
2020-03-11 10:12:50,216 root:INFO:views:get_hos_properties:MainProcess:21036:is_hos_addr:1
2020-03-11 10:12:50,217 root:INFO:views:get_hos_properties:MainProcess:21036:医院信息：{"companyprovince": "\u4e91\u5357\u7701", "companycity": "\u6606\u660e\u5e02", "companyzone": "\u76d8\u9f99\u533a", "companyaddress": "\u7a7f\u91d1\u8def733\u53f7", "companyname": "\u4e91\u5357\u7701\u7cbe\u795e\u75c5\u533b\u9662"}
2020-03-11 10:12:52,250 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD853EB8>
2020-03-11 10:12:52,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:12:52,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,252 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:52,252 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:12:52,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:12:52,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,254 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:52,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:12:52,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:12:52,255 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,255 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:12:52,256 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:12:52,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:52,256 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:52,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:52,257 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:52,257 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD853EB8> checked out from pool
2020-03-11 10:12:52,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `pres_consignee`
2020-03-11 10:12:52,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,258 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:12:52,258 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:12:52,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `mid _prescriptions`
2020-03-11 10:12:52,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,260 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:12:52,261 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:12:52,261 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `mid_prescription_details`
2020-03-11 10:12:52,261 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,262 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:12:52,262 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:12:52,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:DESCRIBE `custom_addr`
2020-03-11 10:12:52,262 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,263 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:12:52,263 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:12:52,263 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD853EB8> being returned to pool
2020-03-11 10:12:52,263 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD853EB8> rollback-on-return
2020-03-11 10:12:52,267 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD870B38>
2020-03-11 10:12:52,267 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:12:52,267 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,268 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:52,268 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:12:52,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:12:52,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,269 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:52,269 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:12:52,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:12:52,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,270 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:12:52,270 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('addr_test',)
2020-03-11 10:12:52,272 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:52,272 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:52,272 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:52,272 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:52,273 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD870B38> checked out from pool
2020-03-11 10:12:52,273 root:INFO:models:mysql_connect:MainProcess:21036:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:12:52,273 root:INFO:models:mysql_connect:MainProcess:21036:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:12:52,273 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD870B38> being returned to pool
2020-03-11 10:12:52,274 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD870B38> rollback-on-return
2020-03-11 10:12:52,275 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD7D4DD8>
2020-03-11 10:12:52,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:12:52,276 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,277 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:52,277 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:12:52,278 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:12:52,278 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,280 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:52,280 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:12:52,281 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:12:52,281 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,282 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:12:52,282 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:12:52,283 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:52,283 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:52,283 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:52,283 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:52,284 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD7D4DD8> checked out from pool
2020-03-11 10:12:52,284 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21036:BEGIN (implicit)
2020-03-11 10:12:52,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:12:52,285 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{'custom_num_1': '5550008088'}
2020-03-11 10:12:52,285 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:12:52,285 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:12:52,285 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:12:52,285 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD7D4DD8> being returned to pool
2020-03-11 10:12:52,285 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD7D4DD8> rollback-on-return, via agent
2020-03-11 10:12:52,285 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21036:ROLLBACK
2020-03-11 10:12:52,286 root:INFO:views:entry_addr:MainProcess:21036:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D7BD7F08D0>, <hospital_test.models.Address object at 0x000001D7BD7F0908>]}
2020-03-11 10:12:52,288 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21036:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD7F0C50>
2020-03-11 10:12:52,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:12:52,288 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,289 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:52,289 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:12:52,290 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:12:52,290 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,291 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('Variable_name', 'Value')
2020-03-11 10:12:52,291 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('lower_case_table_names', '1')
2020-03-11 10:12:52,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT DATABASE()
2020-03-11 10:12:52,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{}
2020-03-11 10:12:52,291 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('DATABASE()',)
2020-03-11 10:12:52,292 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('zhyf_host',)
2020-03-11 10:12:52,292 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:52,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:52,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:12:52,293 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21036:{}
2020-03-11 10:12:52,294 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD7F0C50> checked out from pool
2020-03-11 10:12:52,294 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21036:BEGIN (implicit)
2020-03-11 10:12:52,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:12:52,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21036:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:12:52,295 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21036:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:12:52,295 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21036:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:12:52,295 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD7F0C50> being returned to pool
2020-03-11 10:12:52,295 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21036:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D7BD7F0C50> rollback-on-return, via agent
2020-03-11 10:12:52,295 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21036:ROLLBACK
2020-03-11 10:12:52,296 root:INFO:views:entry_addr:MainProcess:21036:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D7BD7F08D0>, <hospital_test.models.Address object at 0x000001D7BD7F0908>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D7BD7F9630>]}
2020-03-11 10:14:21,154 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:21036:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:14:21,154 asyncio:DEBUG:selector_events:__init__:MainProcess:21036:Using selector: SelectSelector
2020-03-11 10:14:22,590 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18848:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001FE656666A0>
2020-03-11 10:14:22,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:14:22,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,592 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:22,592 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:14:22,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:14:22,592 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,593 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:22,593 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('lower_case_table_names', '1')
2020-03-11 10:14:22,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT DATABASE()
2020-03-11 10:14:22,594 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,595 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('DATABASE()',)
2020-03-11 10:14:22,595 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('zhyf_host',)
2020-03-11 10:14:22,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:22,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:22,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:22,596 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:22,597 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE656666A0> checked out from pool
2020-03-11 10:14:22,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:DESCRIBE `pres_consignee`
2020-03-11 10:14:22,597 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,598 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:14:22,598 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:14:22,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:DESCRIBE `mid _prescriptions`
2020-03-11 10:14:22,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,599 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:14:22,599 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:14:22,599 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:DESCRIBE `mid_prescription_details`
2020-03-11 10:14:22,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,600 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:14:22,600 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:14:22,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:DESCRIBE `custom_addr`
2020-03-11 10:14:22,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,601 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:14:22,601 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:14:22,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE656666A0> being returned to pool
2020-03-11 10:14:22,601 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE656666A0> rollback-on-return
2020-03-11 10:14:22,603 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18848:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6569BFD0>
2020-03-11 10:14:22,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:14:22,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,605 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:22,605 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:14:22,605 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:14:22,605 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,606 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:22,606 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('lower_case_table_names', '1')
2020-03-11 10:14:22,607 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT DATABASE()
2020-03-11 10:14:22,607 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,607 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('DATABASE()',)
2020-03-11 10:14:22,607 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('addr_test',)
2020-03-11 10:14:22,608 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:22,608 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:22,609 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:22,609 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:22,609 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6569BFD0> checked out from pool
2020-03-11 10:14:22,609 root:INFO:models:mysql_connect:MainProcess:18848:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:14:22,610 root:INFO:models:mysql_connect:MainProcess:18848:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:14:22,610 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6569BFD0> being returned to pool
2020-03-11 10:14:22,610 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6569BFD0> rollback-on-return
2020-03-11 10:14:22,626 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18848:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6569BD68>
2020-03-11 10:14:22,626 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:14:22,626 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,628 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:22,628 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:14:22,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:14:22,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,629 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:22,629 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('lower_case_table_names', '1')
2020-03-11 10:14:22,630 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT DATABASE()
2020-03-11 10:14:22,630 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,630 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('DATABASE()',)
2020-03-11 10:14:22,630 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('zhyf_host',)
2020-03-11 10:14:22,631 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:22,631 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:22,631 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:22,631 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:22,631 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6569BD68> checked out from pool
2020-03-11 10:14:22,632 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:18848:BEGIN (implicit)
2020-03-11 10:14:22,632 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:14:22,632 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{'custom_num_1': '5550008088'}
2020-03-11 10:14:22,633 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:14:22,633 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:14:22,633 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:14:22,633 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6569BD68> being returned to pool
2020-03-11 10:14:22,633 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6569BD68> rollback-on-return, via agent
2020-03-11 10:14:22,633 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:18848:ROLLBACK
2020-03-11 10:14:22,633 root:INFO:views:entry_addr:MainProcess:18848:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001FE656D5BA8>, <hospital_test.models.Address object at 0x000001FE656D5C18>]}
2020-03-11 10:14:22,636 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18848:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001FE656D5FD0>
2020-03-11 10:14:22,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:14:22,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,637 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:22,637 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:14:22,638 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:14:22,638 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,638 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:22,639 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('lower_case_table_names', '1')
2020-03-11 10:14:22,639 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT DATABASE()
2020-03-11 10:14:22,639 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:22,640 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('DATABASE()',)
2020-03-11 10:14:22,640 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('zhyf_host',)
2020-03-11 10:14:22,641 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:22,641 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:22,641 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:22,641 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:22,642 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE656D5FD0> checked out from pool
2020-03-11 10:14:22,642 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:18848:BEGIN (implicit)
2020-03-11 10:14:22,643 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:14:22,643 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:14:22,643 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:14:22,643 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:14:22,643 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE656D5FD0> being returned to pool
2020-03-11 10:14:22,643 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE656D5FD0> rollback-on-return, via agent
2020-03-11 10:14:22,643 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:18848:ROLLBACK
2020-03-11 10:14:22,644 root:INFO:views:entry_addr:MainProcess:18848:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001FE656D5BA8>, <hospital_test.models.Address object at 0x000001FE656D5C18>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001FE656EF908>]}
2020-03-11 10:14:24,501 root:INFO:views:get_hos_properties:MainProcess:18848:is_hos_addr:1
2020-03-11 10:14:24,502 root:INFO:views:get_hos_properties:MainProcess:18848:医院信息：{"companyprovince": "\u4e91\u5357\u7701", "companycity": "\u6606\u660e\u5e02", "companyzone": "\u76d8\u9f99\u533a", "companyaddress": "\u7a7f\u91d1\u8def733\u53f7", "companyname": "\u4e91\u5357\u7701\u7cbe\u795e\u75c5\u533b\u9662"}
2020-03-11 10:14:26,502 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18848:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6574FDA0>
2020-03-11 10:14:26,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:14:26,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,504 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:26,504 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:14:26,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:14:26,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,506 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:26,506 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('lower_case_table_names', '1')
2020-03-11 10:14:26,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT DATABASE()
2020-03-11 10:14:26,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('DATABASE()',)
2020-03-11 10:14:26,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('zhyf_host',)
2020-03-11 10:14:26,508 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:26,508 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:26,509 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:26,509 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:26,510 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6574FDA0> checked out from pool
2020-03-11 10:14:26,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:DESCRIBE `pres_consignee`
2020-03-11 10:14:26,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,511 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:14:26,511 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:14:26,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:DESCRIBE `mid _prescriptions`
2020-03-11 10:14:26,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,514 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:14:26,515 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:14:26,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:DESCRIBE `mid_prescription_details`
2020-03-11 10:14:26,515 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,516 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:14:26,516 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:14:26,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:DESCRIBE `custom_addr`
2020-03-11 10:14:26,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,518 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:14:26,518 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:14:26,518 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6574FDA0> being returned to pool
2020-03-11 10:14:26,518 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6574FDA0> rollback-on-return
2020-03-11 10:14:26,520 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18848:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001FE65795128>
2020-03-11 10:14:26,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:14:26,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,521 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:26,521 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:14:26,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:14:26,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,523 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:26,523 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('lower_case_table_names', '1')
2020-03-11 10:14:26,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT DATABASE()
2020-03-11 10:14:26,524 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,524 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('DATABASE()',)
2020-03-11 10:14:26,524 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('addr_test',)
2020-03-11 10:14:26,525 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:26,525 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:26,526 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:26,526 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:26,526 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE65795128> checked out from pool
2020-03-11 10:14:26,527 root:INFO:models:mysql_connect:MainProcess:18848:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:14:26,528 root:INFO:models:mysql_connect:MainProcess:18848:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:14:26,528 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE65795128> being returned to pool
2020-03-11 10:14:26,528 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE65795128> rollback-on-return
2020-03-11 10:14:26,531 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18848:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6573F390>
2020-03-11 10:14:26,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:14:26,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,533 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:26,533 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:14:26,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:14:26,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,534 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:26,534 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('lower_case_table_names', '1')
2020-03-11 10:14:26,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT DATABASE()
2020-03-11 10:14:26,535 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,535 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('DATABASE()',)
2020-03-11 10:14:26,535 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('zhyf_host',)
2020-03-11 10:14:26,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:26,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:26,537 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:26,537 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:26,537 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6573F390> checked out from pool
2020-03-11 10:14:26,537 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:18848:BEGIN (implicit)
2020-03-11 10:14:26,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:14:26,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{'custom_num_1': '5550008088'}
2020-03-11 10:14:26,538 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:14:26,539 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:14:26,539 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:14:26,539 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6573F390> being returned to pool
2020-03-11 10:14:26,539 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6573F390> rollback-on-return, via agent
2020-03-11 10:14:26,539 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:18848:ROLLBACK
2020-03-11 10:14:26,539 root:INFO:views:entry_addr:MainProcess:18848:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001FE65795390>, <hospital_test.models.Address object at 0x000001FE65795320>]}
2020-03-11 10:14:26,541 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:18848:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6573F240>
2020-03-11 10:14:26,542 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:14:26,542 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,543 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:26,544 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:14:26,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:14:26,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,546 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('Variable_name', 'Value')
2020-03-11 10:14:26,546 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('lower_case_table_names', '1')
2020-03-11 10:14:26,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT DATABASE()
2020-03-11 10:14:26,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{}
2020-03-11 10:14:26,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('DATABASE()',)
2020-03-11 10:14:26,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('zhyf_host',)
2020-03-11 10:14:26,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:26,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:26,549 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:14:26,549 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:18848:{}
2020-03-11 10:14:26,549 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6573F240> checked out from pool
2020-03-11 10:14:26,549 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:18848:BEGIN (implicit)
2020-03-11 10:14:26,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:14:26,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:18848:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:14:26,550 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:18848:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:14:26,550 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:18848:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:14:26,551 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6573F240> being returned to pool
2020-03-11 10:14:26,551 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:18848:Connection <mysql.connector.connection.MySQLConnection object at 0x000001FE6573F240> rollback-on-return, via agent
2020-03-11 10:14:26,551 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:18848:ROLLBACK
2020-03-11 10:14:26,551 root:INFO:views:entry_addr:MainProcess:18848:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001FE65795390>, <hospital_test.models.Address object at 0x000001FE65795320>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001FE6573F080>]}
2020-03-11 10:17:33,271 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:18848:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:17:33,271 asyncio:DEBUG:selector_events:__init__:MainProcess:18848:Using selector: SelectSelector
2020-03-11 10:17:35,241 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21744:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0320B8>
2020-03-11 10:17:35,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:17:35,242 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,243 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:35,243 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:17:35,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:17:35,244 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,245 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:35,245 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('lower_case_table_names', '1')
2020-03-11 10:17:35,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT DATABASE()
2020-03-11 10:17:35,245 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,246 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('DATABASE()',)
2020-03-11 10:17:35,246 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('zhyf_host',)
2020-03-11 10:17:35,246 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:35,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:35,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:35,247 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:35,247 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0320B8> checked out from pool
2020-03-11 10:17:35,248 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:DESCRIBE `pres_consignee`
2020-03-11 10:17:35,248 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,249 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:17:35,249 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:17:35,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:DESCRIBE `mid _prescriptions`
2020-03-11 10:17:35,249 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,251 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:17:35,251 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:17:35,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:DESCRIBE `mid_prescription_details`
2020-03-11 10:17:35,251 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,252 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:17:35,252 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:17:35,252 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:DESCRIBE `custom_addr`
2020-03-11 10:17:35,253 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,253 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:17:35,254 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:17:35,254 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0320B8> being returned to pool
2020-03-11 10:17:35,254 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0320B8> rollback-on-return
2020-03-11 10:17:35,256 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21744:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002695C089AC8>
2020-03-11 10:17:35,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:17:35,256 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,257 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:35,258 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:17:35,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:17:35,258 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,259 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:35,259 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('lower_case_table_names', '1')
2020-03-11 10:17:35,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT DATABASE()
2020-03-11 10:17:35,259 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,260 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('DATABASE()',)
2020-03-11 10:17:35,260 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('addr_test',)
2020-03-11 10:17:35,260 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:35,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:35,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:35,261 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:35,261 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C089AC8> checked out from pool
2020-03-11 10:17:35,262 root:INFO:models:mysql_connect:MainProcess:21744:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:17:35,262 root:INFO:models:mysql_connect:MainProcess:21744:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:17:35,262 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C089AC8> being returned to pool
2020-03-11 10:17:35,262 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C089AC8> rollback-on-return
2020-03-11 10:17:35,268 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21744:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0A5B00>
2020-03-11 10:17:35,268 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:17:35,269 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,270 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:35,270 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:17:35,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:17:35,270 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,272 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:35,272 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('lower_case_table_names', '1')
2020-03-11 10:17:35,273 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT DATABASE()
2020-03-11 10:17:35,273 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,274 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('DATABASE()',)
2020-03-11 10:17:35,274 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('zhyf_host',)
2020-03-11 10:17:35,275 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:35,275 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:35,276 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:35,276 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:35,276 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0A5B00> checked out from pool
2020-03-11 10:17:35,276 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21744:BEGIN (implicit)
2020-03-11 10:17:35,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:17:35,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{'custom_num_1': '5550008088'}
2020-03-11 10:17:35,278 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:17:35,278 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:17:35,278 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:17:35,278 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0A5B00> being returned to pool
2020-03-11 10:17:35,279 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0A5B00> rollback-on-return, via agent
2020-03-11 10:17:35,279 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21744:ROLLBACK
2020-03-11 10:17:35,279 root:INFO:views:entry_addr:MainProcess:21744:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002695C0E5F98>, <hospital_test.models.Address object at 0x000002695C0EE9E8>]}
2020-03-11 10:17:35,293 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21744:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0F9B00>
2020-03-11 10:17:35,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:17:35,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,295 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:35,295 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:17:35,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:17:35,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,297 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:35,297 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('lower_case_table_names', '1')
2020-03-11 10:17:35,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT DATABASE()
2020-03-11 10:17:35,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:35,298 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('DATABASE()',)
2020-03-11 10:17:35,298 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('zhyf_host',)
2020-03-11 10:17:35,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:35,299 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:35,300 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:35,300 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:35,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0F9B00> checked out from pool
2020-03-11 10:17:35,300 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21744:BEGIN (implicit)
2020-03-11 10:17:35,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:17:35,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:17:35,301 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:17:35,301 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:17:35,301 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0F9B00> being returned to pool
2020-03-11 10:17:35,301 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C0F9B00> rollback-on-return, via agent
2020-03-11 10:17:35,302 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21744:ROLLBACK
2020-03-11 10:17:35,302 root:INFO:views:entry_addr:MainProcess:21744:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002695C0E5F98>, <hospital_test.models.Address object at 0x000002695C0EE9E8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002695C1147B8>]}
2020-03-11 10:17:37,016 root:INFO:views:get_hos_properties:MainProcess:21744:is_hos_addr:1
2020-03-11 10:17:37,017 root:INFO:views:get_hos_properties:MainProcess:21744:医院信息：{"companyprovince": "\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0083\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u00a4\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0082\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u00ba\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0082\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u0091\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0083\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u00a5\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0082\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u008d\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0082\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u0097\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0083\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u00a7\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0082\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u009c\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u0082\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u0081", "companycity": "\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u00a6\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u0098\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u0086\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u00a6\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u0098\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u008e\u00c3\u0083\u00c2\u0083\u00c3\u0082\u00c2\u00a5\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u00b8\u00c3\u0083\u00c2\u0082\u00c3\u0082\u00c2\u0082", "companyzone": "\u00c3\u0083\u00c2\u00a7\u00c3\u0082\u00c2\u009b\u00c3\u0082\u00c2\u0098\u00c3\u0083\u00c2\u00a9\u00c3\u0082\u00c2\u00be\u00c3\u0082\u00c2\u0099\u00c3\u0083\u00c2\u00a5\u00c3\u0082\u00c2\u008c\u00c3\u0082\u00c2\u00ba", "companyaddress": "\u00c3\u00a7\u00c2\u00a9\u00c2\u00bf\u00c3\u00a9\u00c2\u0087\u00c2\u0091\u00c3\u00a8\u00c2\u00b7\u00c2\u00af733\u00c3\u00a5\u00c2\u008f\u00c2\u00b7", "companyname": "\u00e4\u00ba\u0091\u00e5\u008d\u0097\u00e7\u009c\u0081\u00e7\u00b2\u00be\u00e7\u00a5\u009e\u00e7\u0097\u0085\u00e5\u008c\u00bb\u00e9\u0099\u00a2"}
2020-03-11 10:17:38,729 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21744:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002695C122710>
2020-03-11 10:17:38,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:17:38,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,730 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:38,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:17:38,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:17:38,731 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,732 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:38,732 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('lower_case_table_names', '1')
2020-03-11 10:17:38,732 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT DATABASE()
2020-03-11 10:17:38,732 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,733 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('DATABASE()',)
2020-03-11 10:17:38,733 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('zhyf_host',)
2020-03-11 10:17:38,733 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:38,733 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:38,734 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:38,734 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:38,734 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C122710> checked out from pool
2020-03-11 10:17:38,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:DESCRIBE `pres_consignee`
2020-03-11 10:17:38,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,735 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:17:38,735 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:17:38,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:DESCRIBE `mid _prescriptions`
2020-03-11 10:17:38,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,736 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:17:38,737 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:17:38,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:DESCRIBE `mid_prescription_details`
2020-03-11 10:17:38,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,738 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:17:38,738 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:17:38,738 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:DESCRIBE `custom_addr`
2020-03-11 10:17:38,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,739 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:17:38,740 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:17:38,740 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C122710> being returned to pool
2020-03-11 10:17:38,740 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C122710> rollback-on-return
2020-03-11 10:17:38,743 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21744:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002695C274898>
2020-03-11 10:17:38,744 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:17:38,744 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,745 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:38,746 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:17:38,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:17:38,746 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,747 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:38,747 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('lower_case_table_names', '1')
2020-03-11 10:17:38,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT DATABASE()
2020-03-11 10:17:38,748 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,749 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('DATABASE()',)
2020-03-11 10:17:38,749 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('addr_test',)
2020-03-11 10:17:38,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:38,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:38,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:38,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:38,751 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C274898> checked out from pool
2020-03-11 10:17:38,751 root:INFO:models:mysql_connect:MainProcess:21744:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:17:38,752 root:INFO:models:mysql_connect:MainProcess:21744:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:17:38,752 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C274898> being returned to pool
2020-03-11 10:17:38,752 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C274898> rollback-on-return
2020-03-11 10:17:38,754 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21744:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002695C28EE48>
2020-03-11 10:17:38,755 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:17:38,755 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,756 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:38,756 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:17:38,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:17:38,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,758 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:38,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('lower_case_table_names', '1')
2020-03-11 10:17:38,759 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT DATABASE()
2020-03-11 10:17:38,760 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,760 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('DATABASE()',)
2020-03-11 10:17:38,760 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('zhyf_host',)
2020-03-11 10:17:38,761 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:38,761 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:38,762 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:38,762 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:38,762 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C28EE48> checked out from pool
2020-03-11 10:17:38,762 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21744:BEGIN (implicit)
2020-03-11 10:17:38,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:17:38,763 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{'custom_num_1': '5550008088'}
2020-03-11 10:17:38,764 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:17:38,764 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:17:38,764 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:17:38,764 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C28EE48> being returned to pool
2020-03-11 10:17:38,764 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C28EE48> rollback-on-return, via agent
2020-03-11 10:17:38,764 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21744:ROLLBACK
2020-03-11 10:17:38,764 root:INFO:views:entry_addr:MainProcess:21744:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002695C2740F0>, <hospital_test.models.Address object at 0x000002695C274828>]}
2020-03-11 10:17:38,766 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21744:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000002695C28EB70>
2020-03-11 10:17:38,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:17:38,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,768 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:38,768 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:17:38,768 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:17:38,768 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,769 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('Variable_name', 'Value')
2020-03-11 10:17:38,769 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('lower_case_table_names', '1')
2020-03-11 10:17:38,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT DATABASE()
2020-03-11 10:17:38,770 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{}
2020-03-11 10:17:38,770 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('DATABASE()',)
2020-03-11 10:17:38,771 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('zhyf_host',)
2020-03-11 10:17:38,772 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:38,772 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:38,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:17:38,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21744:{}
2020-03-11 10:17:38,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C28EB70> checked out from pool
2020-03-11 10:17:38,775 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21744:BEGIN (implicit)
2020-03-11 10:17:38,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:17:38,776 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21744:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:17:38,776 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21744:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:17:38,776 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21744:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:17:38,777 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C28EB70> being returned to pool
2020-03-11 10:17:38,777 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21744:Connection <mysql.connector.connection.MySQLConnection object at 0x000002695C28EB70> rollback-on-return, via agent
2020-03-11 10:17:38,777 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21744:ROLLBACK
2020-03-11 10:17:38,777 root:INFO:views:entry_addr:MainProcess:21744:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000002695C2740F0>, <hospital_test.models.Address object at 0x000002695C274828>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000002695C1C8CC0>]}
2020-03-11 10:19:59,929 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:21744:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:19:59,930 asyncio:DEBUG:selector_events:__init__:MainProcess:21744:Using selector: SelectSelector
2020-03-11 10:21:09,168 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:3084:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F90F9B0>
2020-03-11 10:21:09,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:21:09,168 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,170 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:09,170 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:21:09,170 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:21:09,170 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,171 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:09,172 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('lower_case_table_names', '1')
2020-03-11 10:21:09,173 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT DATABASE()
2020-03-11 10:21:09,173 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,173 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('DATABASE()',)
2020-03-11 10:21:09,173 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('zhyf_host',)
2020-03-11 10:21:09,174 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:09,174 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:09,175 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:09,175 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:09,175 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F90F9B0> checked out from pool
2020-03-11 10:21:09,176 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:DESCRIBE `pres_consignee`
2020-03-11 10:21:09,176 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,177 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:21:09,177 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:21:09,177 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:DESCRIBE `mid _prescriptions`
2020-03-11 10:21:09,177 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,178 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:21:09,178 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:21:09,178 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:DESCRIBE `mid_prescription_details`
2020-03-11 10:21:09,178 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,179 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:21:09,179 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:21:09,179 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:DESCRIBE `custom_addr`
2020-03-11 10:21:09,179 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,180 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:21:09,180 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:21:09,180 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F90F9B0> being returned to pool
2020-03-11 10:21:09,180 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F90F9B0> rollback-on-return
2020-03-11 10:21:09,182 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:3084:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F93B860>
2020-03-11 10:21:09,183 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:21:09,183 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,184 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:09,184 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:21:09,184 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:21:09,184 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,185 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:09,185 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('lower_case_table_names', '1')
2020-03-11 10:21:09,186 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT DATABASE()
2020-03-11 10:21:09,186 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,186 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('DATABASE()',)
2020-03-11 10:21:09,187 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('addr_test',)
2020-03-11 10:21:09,187 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:09,188 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:09,188 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:09,188 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:09,188 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F93B860> checked out from pool
2020-03-11 10:21:09,189 root:INFO:models:mysql_connect:MainProcess:3084:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:21:09,189 root:INFO:models:mysql_connect:MainProcess:3084:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:21:09,189 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F93B860> being returned to pool
2020-03-11 10:21:09,189 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F93B860> rollback-on-return
2020-03-11 10:21:09,194 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:3084:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F97A048>
2020-03-11 10:21:09,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:21:09,194 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,196 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:09,196 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:21:09,196 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:21:09,196 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,197 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:09,197 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('lower_case_table_names', '1')
2020-03-11 10:21:09,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT DATABASE()
2020-03-11 10:21:09,197 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,198 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('DATABASE()',)
2020-03-11 10:21:09,198 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('zhyf_host',)
2020-03-11 10:21:09,198 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:09,199 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:09,199 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:09,199 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:09,200 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F97A048> checked out from pool
2020-03-11 10:21:09,200 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:3084:BEGIN (implicit)
2020-03-11 10:21:09,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:21:09,201 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{'custom_num_1': '5550008088'}
2020-03-11 10:21:09,201 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:21:09,202 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:21:09,202 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:21:09,202 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F97A048> being returned to pool
2020-03-11 10:21:09,202 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F97A048> rollback-on-return, via agent
2020-03-11 10:21:09,202 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:3084:ROLLBACK
2020-03-11 10:21:09,202 root:INFO:views:entry_addr:MainProcess:3084:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A11F97A7B8>, <hospital_test.models.Address object at 0x000001A11F97ACF8>]}
2020-03-11 10:21:09,205 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:3084:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F997128>
2020-03-11 10:21:09,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:21:09,206 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,207 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:09,207 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:21:09,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:21:09,207 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,208 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:09,208 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('lower_case_table_names', '1')
2020-03-11 10:21:09,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT DATABASE()
2020-03-11 10:21:09,209 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:09,209 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('DATABASE()',)
2020-03-11 10:21:09,209 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('zhyf_host',)
2020-03-11 10:21:09,210 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:09,210 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:09,210 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:09,210 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:09,211 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F997128> checked out from pool
2020-03-11 10:21:09,211 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:3084:BEGIN (implicit)
2020-03-11 10:21:09,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:21:09,211 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:21:09,212 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:21:09,212 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:21:09,212 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F997128> being returned to pool
2020-03-11 10:21:09,212 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11F997128> rollback-on-return, via agent
2020-03-11 10:21:09,212 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:3084:ROLLBACK
2020-03-11 10:21:09,212 root:INFO:views:entry_addr:MainProcess:3084:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A11F97A7B8>, <hospital_test.models.Address object at 0x000001A11F97ACF8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A11F997C50>]}
2020-03-11 10:21:11,252 root:INFO:views:get_hos_properties:MainProcess:3084:is_hos_addr:1
2020-03-11 10:21:11,254 root:INFO:views:get_hos_properties:MainProcess:3084:医院信息：{"companyprovince": "\u4e91\u5357\u7701", "companycity": "\u6606\u660e\u5e02", "companyzone": "\u76d8\u9f99\u533a", "companyaddress": "\u7a7f\u91d1\u8def733\u53f7", "companyname": "\u4e91\u5357\u7701\u7cbe\u795e\u75c5\u533b\u9662"}
2020-03-11 10:21:12,499 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:3084:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FAF6F28>
2020-03-11 10:21:12,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:21:12,499 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,501 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:12,501 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:21:12,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:21:12,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,503 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:12,503 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('lower_case_table_names', '1')
2020-03-11 10:21:12,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT DATABASE()
2020-03-11 10:21:12,504 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,505 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('DATABASE()',)
2020-03-11 10:21:12,505 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('zhyf_host',)
2020-03-11 10:21:12,506 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:12,506 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:12,507 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:12,507 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:12,508 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FAF6F28> checked out from pool
2020-03-11 10:21:12,508 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:DESCRIBE `pres_consignee`
2020-03-11 10:21:12,508 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,509 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:21:12,509 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:21:12,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:DESCRIBE `mid _prescriptions`
2020-03-11 10:21:12,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,511 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:21:12,511 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:21:12,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:DESCRIBE `mid_prescription_details`
2020-03-11 10:21:12,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,512 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:21:12,513 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:21:12,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:DESCRIBE `custom_addr`
2020-03-11 10:21:12,513 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,514 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:21:12,514 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:21:12,514 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FAF6F28> being returned to pool
2020-03-11 10:21:12,514 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FAF6F28> rollback-on-return
2020-03-11 10:21:12,516 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:3084:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D0F0>
2020-03-11 10:21:12,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:21:12,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,518 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:12,518 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:21:12,518 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:21:12,518 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,520 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:12,520 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('lower_case_table_names', '1')
2020-03-11 10:21:12,521 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT DATABASE()
2020-03-11 10:21:12,521 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,522 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('DATABASE()',)
2020-03-11 10:21:12,522 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('addr_test',)
2020-03-11 10:21:12,523 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:12,523 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:12,524 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:12,524 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:12,525 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D0F0> checked out from pool
2020-03-11 10:21:12,525 root:INFO:models:mysql_connect:MainProcess:3084:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:21:12,526 root:INFO:models:mysql_connect:MainProcess:3084:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:21:12,526 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D0F0> being returned to pool
2020-03-11 10:21:12,526 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D0F0> rollback-on-return
2020-03-11 10:21:12,528 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:3084:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D240>
2020-03-11 10:21:12,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:21:12,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,530 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:12,530 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:21:12,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:21:12,531 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,532 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:12,532 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('lower_case_table_names', '1')
2020-03-11 10:21:12,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT DATABASE()
2020-03-11 10:21:12,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,533 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('DATABASE()',)
2020-03-11 10:21:12,533 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('zhyf_host',)
2020-03-11 10:21:12,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:12,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:12,535 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:12,536 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:12,536 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D240> checked out from pool
2020-03-11 10:21:12,536 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:3084:BEGIN (implicit)
2020-03-11 10:21:12,537 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:21:12,538 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{'custom_num_1': '5550008088'}
2020-03-11 10:21:12,538 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:21:12,539 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:21:12,539 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:21:12,539 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D240> being returned to pool
2020-03-11 10:21:12,539 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D240> rollback-on-return, via agent
2020-03-11 10:21:12,539 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:3084:ROLLBACK
2020-03-11 10:21:12,539 root:INFO:views:entry_addr:MainProcess:3084:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A11FA7D940>, <hospital_test.models.Address object at 0x000001A11FA7D630>]}
2020-03-11 10:21:12,542 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:3084:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D278>
2020-03-11 10:21:12,542 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:21:12,543 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,544 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:12,544 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:21:12,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:21:12,544 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,545 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('Variable_name', 'Value')
2020-03-11 10:21:12,546 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('lower_case_table_names', '1')
2020-03-11 10:21:12,546 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT DATABASE()
2020-03-11 10:21:12,546 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{}
2020-03-11 10:21:12,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('DATABASE()',)
2020-03-11 10:21:12,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('zhyf_host',)
2020-03-11 10:21:12,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:12,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:12,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:21:12,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:3084:{}
2020-03-11 10:21:12,549 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D278> checked out from pool
2020-03-11 10:21:12,549 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:3084:BEGIN (implicit)
2020-03-11 10:21:12,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:21:12,549 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:3084:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:21:12,550 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:3084:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:21:12,550 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:3084:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:21:12,550 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D278> being returned to pool
2020-03-11 10:21:12,550 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:3084:Connection <mysql.connector.connection.MySQLConnection object at 0x000001A11FA7D278> rollback-on-return, via agent
2020-03-11 10:21:12,550 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:3084:ROLLBACK
2020-03-11 10:21:12,550 root:INFO:views:entry_addr:MainProcess:3084:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001A11FA7D940>, <hospital_test.models.Address object at 0x000001A11FA7D630>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001A11FA7AEB8>]}
2020-03-11 10:22:50,957 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:3084:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:22:50,958 asyncio:DEBUG:selector_events:__init__:MainProcess:3084:Using selector: SelectSelector
2020-03-11 10:22:52,712 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:19596:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1156D8>
2020-03-11 10:22:52,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:22:52,712 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,714 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:52,714 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:22:52,715 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:22:52,715 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,716 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:52,716 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('lower_case_table_names', '1')
2020-03-11 10:22:52,717 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT DATABASE()
2020-03-11 10:22:52,717 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,717 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('DATABASE()',)
2020-03-11 10:22:52,717 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('zhyf_host',)
2020-03-11 10:22:52,718 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:52,718 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:52,719 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:52,719 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:52,719 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1156D8> checked out from pool
2020-03-11 10:22:52,720 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:DESCRIBE `pres_consignee`
2020-03-11 10:22:52,720 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,720 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:22:52,720 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:22:52,721 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:DESCRIBE `mid _prescriptions`
2020-03-11 10:22:52,721 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,722 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:22:52,722 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:22:52,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:DESCRIBE `mid_prescription_details`
2020-03-11 10:22:52,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,722 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:22:52,722 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:22:52,723 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:DESCRIBE `custom_addr`
2020-03-11 10:22:52,723 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,723 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:22:52,723 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:22:52,724 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1156D8> being returned to pool
2020-03-11 10:22:52,724 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1156D8> rollback-on-return
2020-03-11 10:22:52,726 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:19596:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D14AF60>
2020-03-11 10:22:52,727 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:22:52,727 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,728 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:52,728 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:22:52,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:22:52,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,729 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:52,729 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('lower_case_table_names', '1')
2020-03-11 10:22:52,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT DATABASE()
2020-03-11 10:22:52,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,730 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('DATABASE()',)
2020-03-11 10:22:52,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('addr_test',)
2020-03-11 10:22:52,731 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:52,731 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:52,732 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:52,732 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:52,732 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D14AF60> checked out from pool
2020-03-11 10:22:52,733 root:INFO:models:mysql_connect:MainProcess:19596:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:22:52,733 root:INFO:models:mysql_connect:MainProcess:19596:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:22:52,733 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D14AF60> being returned to pool
2020-03-11 10:22:52,733 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D14AF60> rollback-on-return
2020-03-11 10:22:52,738 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:19596:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D14A6D8>
2020-03-11 10:22:52,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:22:52,739 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,740 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:52,740 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:22:52,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:22:52,740 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,741 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:52,741 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('lower_case_table_names', '1')
2020-03-11 10:22:52,742 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT DATABASE()
2020-03-11 10:22:52,742 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,742 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('DATABASE()',)
2020-03-11 10:22:52,742 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('zhyf_host',)
2020-03-11 10:22:52,743 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:52,743 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:52,744 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:52,744 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:52,744 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D14A6D8> checked out from pool
2020-03-11 10:22:52,744 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:19596:BEGIN (implicit)
2020-03-11 10:22:52,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:22:52,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{'custom_num_1': '5550008088'}
2020-03-11 10:22:52,746 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:22:52,746 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:22:52,746 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:22:52,746 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D14A6D8> being returned to pool
2020-03-11 10:22:52,746 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D14A6D8> rollback-on-return, via agent
2020-03-11 10:22:52,746 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:19596:ROLLBACK
2020-03-11 10:22:52,746 root:INFO:views:entry_addr:MainProcess:19596:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000019E7D185BE0>, <hospital_test.models.Address object at 0x0000019E7D185C50>]}
2020-03-11 10:22:52,749 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:19596:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D19E048>
2020-03-11 10:22:52,749 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:22:52,749 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,750 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:52,750 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:22:52,751 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:22:52,751 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,752 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:52,752 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('lower_case_table_names', '1')
2020-03-11 10:22:52,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT DATABASE()
2020-03-11 10:22:52,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:52,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('DATABASE()',)
2020-03-11 10:22:52,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('zhyf_host',)
2020-03-11 10:22:52,753 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:52,754 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:52,754 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:52,754 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:52,754 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D19E048> checked out from pool
2020-03-11 10:22:52,754 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:19596:BEGIN (implicit)
2020-03-11 10:22:52,755 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:22:52,755 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:22:52,755 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:22:52,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:22:52,756 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D19E048> being returned to pool
2020-03-11 10:22:52,756 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D19E048> rollback-on-return, via agent
2020-03-11 10:22:52,756 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:19596:ROLLBACK
2020-03-11 10:22:52,756 root:INFO:views:entry_addr:MainProcess:19596:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000019E7D185BE0>, <hospital_test.models.Address object at 0x0000019E7D185C50>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000019E7D19E940>]}
2020-03-11 10:22:54,409 root:INFO:views:get_hos_properties:MainProcess:19596:is_hos_addr:1
2020-03-11 10:22:54,411 root:INFO:views:get_hos_properties:MainProcess:19596:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院"}
2020-03-11 10:22:55,803 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:19596:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1F7278>
2020-03-11 10:22:55,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:22:55,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,805 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:55,805 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:22:55,805 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:22:55,805 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,806 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:55,807 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('lower_case_table_names', '1')
2020-03-11 10:22:55,807 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT DATABASE()
2020-03-11 10:22:55,807 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,807 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('DATABASE()',)
2020-03-11 10:22:55,807 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('zhyf_host',)
2020-03-11 10:22:55,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:55,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:55,809 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:55,809 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:55,809 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1F7278> checked out from pool
2020-03-11 10:22:55,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:DESCRIBE `pres_consignee`
2020-03-11 10:22:55,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,810 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:22:55,810 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:22:55,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:DESCRIBE `mid _prescriptions`
2020-03-11 10:22:55,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,811 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:22:55,811 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:22:55,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:DESCRIBE `mid_prescription_details`
2020-03-11 10:22:55,812 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,813 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:22:55,813 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:22:55,813 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:DESCRIBE `custom_addr`
2020-03-11 10:22:55,813 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,814 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:22:55,814 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:22:55,814 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1F7278> being returned to pool
2020-03-11 10:22:55,814 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1F7278> rollback-on-return
2020-03-11 10:22:55,817 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:19596:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D24E9B0>
2020-03-11 10:22:55,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:22:55,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,820 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:55,820 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:22:55,821 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:22:55,821 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,823 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:55,823 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('lower_case_table_names', '1')
2020-03-11 10:22:55,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT DATABASE()
2020-03-11 10:22:55,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,824 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('DATABASE()',)
2020-03-11 10:22:55,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('addr_test',)
2020-03-11 10:22:55,825 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:55,825 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:55,825 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:55,826 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:55,826 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D24E9B0> checked out from pool
2020-03-11 10:22:55,826 root:INFO:models:mysql_connect:MainProcess:19596:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:22:55,826 root:INFO:models:mysql_connect:MainProcess:19596:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:22:55,826 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D24E9B0> being returned to pool
2020-03-11 10:22:55,827 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D24E9B0> rollback-on-return
2020-03-11 10:22:55,829 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:19596:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D2B9400>
2020-03-11 10:22:55,829 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:22:55,830 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,831 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:55,831 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:22:55,831 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:22:55,832 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,833 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:55,833 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('lower_case_table_names', '1')
2020-03-11 10:22:55,834 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT DATABASE()
2020-03-11 10:22:55,834 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,835 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('DATABASE()',)
2020-03-11 10:22:55,835 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('zhyf_host',)
2020-03-11 10:22:55,836 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:55,836 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:55,837 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:55,838 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:55,838 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D2B9400> checked out from pool
2020-03-11 10:22:55,838 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:19596:BEGIN (implicit)
2020-03-11 10:22:55,839 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:22:55,839 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{'custom_num_1': '5550008088'}
2020-03-11 10:22:55,839 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:22:55,840 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:22:55,840 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:22:55,840 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D2B9400> being returned to pool
2020-03-11 10:22:55,840 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D2B9400> rollback-on-return, via agent
2020-03-11 10:22:55,840 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:19596:ROLLBACK
2020-03-11 10:22:55,840 root:INFO:views:entry_addr:MainProcess:19596:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000019E7D1F7CC0>, <hospital_test.models.Address object at 0x0000019E7D1F7C88>]}
2020-03-11 10:22:55,842 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:19596:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1F7240>
2020-03-11 10:22:55,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:22:55,843 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,844 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:55,844 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:22:55,844 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:22:55,844 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,845 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('Variable_name', 'Value')
2020-03-11 10:22:55,846 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('lower_case_table_names', '1')
2020-03-11 10:22:55,846 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT DATABASE()
2020-03-11 10:22:55,847 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{}
2020-03-11 10:22:55,847 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('DATABASE()',)
2020-03-11 10:22:55,847 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('zhyf_host',)
2020-03-11 10:22:55,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:55,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:55,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:22:55,848 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:19596:{}
2020-03-11 10:22:55,849 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1F7240> checked out from pool
2020-03-11 10:22:55,849 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:19596:BEGIN (implicit)
2020-03-11 10:22:55,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:22:55,850 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:19596:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:22:55,851 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:19596:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:22:55,851 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:19596:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:22:55,851 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1F7240> being returned to pool
2020-03-11 10:22:55,851 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:19596:Connection <mysql.connector.connection.MySQLConnection object at 0x0000019E7D1F7240> rollback-on-return, via agent
2020-03-11 10:22:55,851 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:19596:ROLLBACK
2020-03-11 10:22:55,852 root:INFO:views:entry_addr:MainProcess:19596:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000019E7D1F7CC0>, <hospital_test.models.Address object at 0x0000019E7D1F7C88>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000019E7D2B9780>]}
2020-03-11 10:23:44,196 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:19596:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:23:44,197 asyncio:DEBUG:selector_events:__init__:MainProcess:19596:Using selector: SelectSelector
2020-03-11 10:23:45,720 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22260:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020D149E6748>
2020-03-11 10:23:45,720 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:23:45,720 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,722 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:45,722 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:23:45,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:23:45,722 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,724 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:45,724 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('lower_case_table_names', '1')
2020-03-11 10:23:45,724 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT DATABASE()
2020-03-11 10:23:45,724 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,724 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('DATABASE()',)
2020-03-11 10:23:45,725 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('zhyf_host',)
2020-03-11 10:23:45,726 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:45,726 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:45,726 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:45,726 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:45,726 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D149E6748> checked out from pool
2020-03-11 10:23:45,727 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:DESCRIBE `pres_consignee`
2020-03-11 10:23:45,727 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,727 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:23:45,728 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:23:45,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:DESCRIBE `mid _prescriptions`
2020-03-11 10:23:45,728 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,729 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:23:45,729 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:23:45,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:DESCRIBE `mid_prescription_details`
2020-03-11 10:23:45,729 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,730 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:23:45,730 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:23:45,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:DESCRIBE `custom_addr`
2020-03-11 10:23:45,730 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,731 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:23:45,731 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:23:45,731 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D149E6748> being returned to pool
2020-03-11 10:23:45,731 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D149E6748> rollback-on-return
2020-03-11 10:23:45,734 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22260:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A19208>
2020-03-11 10:23:45,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:23:45,734 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,735 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:45,735 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:23:45,735 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:23:45,736 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,737 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:45,737 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('lower_case_table_names', '1')
2020-03-11 10:23:45,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT DATABASE()
2020-03-11 10:23:45,737 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,738 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('DATABASE()',)
2020-03-11 10:23:45,738 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('addr_test',)
2020-03-11 10:23:45,738 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:45,738 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:45,739 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:45,739 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:45,739 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A19208> checked out from pool
2020-03-11 10:23:45,739 root:INFO:models:mysql_connect:MainProcess:22260:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:23:45,740 root:INFO:models:mysql_connect:MainProcess:22260:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:23:45,740 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A19208> being returned to pool
2020-03-11 10:23:45,740 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A19208> rollback-on-return
2020-03-11 10:23:45,745 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22260:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020D149E6CF8>
2020-03-11 10:23:45,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:23:45,745 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,747 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:45,747 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:23:45,747 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:23:45,747 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,748 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:45,748 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('lower_case_table_names', '1')
2020-03-11 10:23:45,749 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT DATABASE()
2020-03-11 10:23:45,749 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,749 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('DATABASE()',)
2020-03-11 10:23:45,749 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('zhyf_host',)
2020-03-11 10:23:45,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:45,750 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:45,751 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:45,751 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:45,751 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D149E6CF8> checked out from pool
2020-03-11 10:23:45,751 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22260:BEGIN (implicit)
2020-03-11 10:23:45,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:23:45,752 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{'custom_num_1': '5550008088'}
2020-03-11 10:23:45,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:23:45,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:23:45,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:23:45,753 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D149E6CF8> being returned to pool
2020-03-11 10:23:45,753 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D149E6CF8> rollback-on-return, via agent
2020-03-11 10:23:45,753 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22260:ROLLBACK
2020-03-11 10:23:45,753 root:INFO:views:entry_addr:MainProcess:22260:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020D14A53C50>, <hospital_test.models.Address object at 0x0000020D14A53CC0>]}
2020-03-11 10:23:45,756 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22260:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A6D0B8>
2020-03-11 10:23:45,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:23:45,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,757 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:45,757 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:23:45,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:23:45,757 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,758 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:45,758 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('lower_case_table_names', '1')
2020-03-11 10:23:45,759 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT DATABASE()
2020-03-11 10:23:45,759 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:45,760 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('DATABASE()',)
2020-03-11 10:23:45,760 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('zhyf_host',)
2020-03-11 10:23:45,761 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:45,761 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:45,761 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:45,761 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:45,762 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A6D0B8> checked out from pool
2020-03-11 10:23:45,762 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22260:BEGIN (implicit)
2020-03-11 10:23:45,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:23:45,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:23:45,763 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:23:45,763 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:23:45,763 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A6D0B8> being returned to pool
2020-03-11 10:23:45,763 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A6D0B8> rollback-on-return, via agent
2020-03-11 10:23:45,763 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22260:ROLLBACK
2020-03-11 10:23:45,763 root:INFO:views:entry_addr:MainProcess:22260:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020D14A53C50>, <hospital_test.models.Address object at 0x0000020D14A53CC0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020D14A6D9B0>]}
2020-03-11 10:23:47,066 root:INFO:views:get_hos_properties:MainProcess:22260:is_hos_addr:1
2020-03-11 10:23:47,067 root:INFO:views:get_hos_properties:MainProcess:22260:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院"}
2020-03-11 10:23:48,407 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22260:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A88B00>
2020-03-11 10:23:48,408 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:23:48,408 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,410 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:48,410 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:23:48,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:23:48,411 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,412 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:48,412 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('lower_case_table_names', '1')
2020-03-11 10:23:48,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT DATABASE()
2020-03-11 10:23:48,413 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,414 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('DATABASE()',)
2020-03-11 10:23:48,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('zhyf_host',)
2020-03-11 10:23:48,415 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:48,415 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:48,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:48,416 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:48,416 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A88B00> checked out from pool
2020-03-11 10:23:48,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:DESCRIBE `pres_consignee`
2020-03-11 10:23:48,417 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,418 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:23:48,418 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:23:48,418 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:DESCRIBE `mid _prescriptions`
2020-03-11 10:23:48,418 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,420 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:23:48,420 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:23:48,421 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:DESCRIBE `mid_prescription_details`
2020-03-11 10:23:48,421 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,422 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:23:48,422 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:23:48,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:DESCRIBE `custom_addr`
2020-03-11 10:23:48,423 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,424 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:23:48,424 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:23:48,424 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A88B00> being returned to pool
2020-03-11 10:23:48,424 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A88B00> rollback-on-return
2020-03-11 10:23:48,426 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22260:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14ACAD68>
2020-03-11 10:23:48,427 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:23:48,427 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,428 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:48,428 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:23:48,428 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:23:48,428 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,429 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:48,429 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('lower_case_table_names', '1')
2020-03-11 10:23:48,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT DATABASE()
2020-03-11 10:23:48,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,430 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('DATABASE()',)
2020-03-11 10:23:48,430 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('addr_test',)
2020-03-11 10:23:48,431 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:48,431 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:48,432 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:48,432 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:48,432 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14ACAD68> checked out from pool
2020-03-11 10:23:48,433 root:INFO:models:mysql_connect:MainProcess:22260:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:23:48,433 root:INFO:models:mysql_connect:MainProcess:22260:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:23:48,433 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14ACAD68> being returned to pool
2020-03-11 10:23:48,433 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14ACAD68> rollback-on-return
2020-03-11 10:23:48,437 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22260:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14AC6B70>
2020-03-11 10:23:48,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:23:48,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,439 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:48,440 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:23:48,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:23:48,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,441 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:48,441 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('lower_case_table_names', '1')
2020-03-11 10:23:48,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT DATABASE()
2020-03-11 10:23:48,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,442 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('DATABASE()',)
2020-03-11 10:23:48,442 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('zhyf_host',)
2020-03-11 10:23:48,443 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:48,443 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:48,444 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:48,444 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:48,444 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14AC6B70> checked out from pool
2020-03-11 10:23:48,444 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22260:BEGIN (implicit)
2020-03-11 10:23:48,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:23:48,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{'custom_num_1': '5550008088'}
2020-03-11 10:23:48,446 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:23:48,446 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:23:48,446 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:23:48,446 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14AC6B70> being returned to pool
2020-03-11 10:23:48,446 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14AC6B70> rollback-on-return, via agent
2020-03-11 10:23:48,446 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22260:ROLLBACK
2020-03-11 10:23:48,447 root:INFO:views:entry_addr:MainProcess:22260:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020D14ACAE10>, <hospital_test.models.Address object at 0x0000020D14ACAEB8>]}
2020-03-11 10:23:48,449 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22260:Created new connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A88390>
2020-03-11 10:23:48,450 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:23:48,450 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,452 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:48,452 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:23:48,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:23:48,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,454 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('Variable_name', 'Value')
2020-03-11 10:23:48,455 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('lower_case_table_names', '1')
2020-03-11 10:23:48,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT DATABASE()
2020-03-11 10:23:48,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{}
2020-03-11 10:23:48,456 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('DATABASE()',)
2020-03-11 10:23:48,456 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('zhyf_host',)
2020-03-11 10:23:48,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:48,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:48,457 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:23:48,457 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22260:{}
2020-03-11 10:23:48,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A88390> checked out from pool
2020-03-11 10:23:48,457 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22260:BEGIN (implicit)
2020-03-11 10:23:48,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:23:48,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22260:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:23:48,458 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22260:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:23:48,459 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22260:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:23:48,459 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A88390> being returned to pool
2020-03-11 10:23:48,459 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22260:Connection <mysql.connector.connection.MySQLConnection object at 0x0000020D14A88390> rollback-on-return, via agent
2020-03-11 10:23:48,459 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22260:ROLLBACK
2020-03-11 10:23:48,459 root:INFO:views:entry_addr:MainProcess:22260:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x0000020D14ACAE10>, <hospital_test.models.Address object at 0x0000020D14ACAEB8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x0000020D14A98F60>]}
2020-03-11 10:38:43,920 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:22260:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 10:38:43,920 asyncio:DEBUG:selector_events:__init__:MainProcess:22260:Using selector: SelectSelector
2020-03-11 10:48:15,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E2EF9E8>
2020-03-11 10:48:15,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:48:15,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,302 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:48:15,302 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:48:15,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:48:15,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,304 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:48:15,304 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:48:15,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:48:15,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,306 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:48:15,306 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:48:15,307 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:48:15,307 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:48:15,307 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:48:15,307 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:48:15,308 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E2EF9E8> checked out from pool
2020-03-11 10:48:15,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 10:48:15,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,309 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:48:15,309 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:48:15,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 10:48:15,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,310 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:48:15,310 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:48:15,310 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 10:48:15,310 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,311 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:48:15,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:48:15,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 10:48:15,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,312 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:48:15,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:48:15,312 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E2EF9E8> being returned to pool
2020-03-11 10:48:15,312 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E2EF9E8> rollback-on-return
2020-03-11 10:48:15,314 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E31C898>
2020-03-11 10:48:15,314 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:48:15,315 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,316 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:48:15,316 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:48:15,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:48:15,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,317 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:48:15,317 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:48:15,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:48:15,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,318 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:48:15,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 10:48:15,319 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:48:15,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:48:15,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:48:15,320 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:48:15,321 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E31C898> checked out from pool
2020-03-11 10:48:15,321 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:48:15,321 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:48:15,321 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E31C898> being returned to pool
2020-03-11 10:48:15,321 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E31C898> rollback-on-return
2020-03-11 10:48:15,327 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E33C2B0>
2020-03-11 10:48:15,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:48:15,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,328 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:48:15,328 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:48:15,329 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:48:15,329 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,330 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:48:15,330 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:48:15,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:48:15,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,331 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:48:15,331 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:48:15,332 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:48:15,332 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:48:15,332 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:48:15,332 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:48:15,333 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E33C2B0> checked out from pool
2020-03-11 10:48:15,333 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:48:15,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:48:15,334 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 10:48:15,334 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:48:15,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:48:15,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:48:15,335 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E33C2B0> being returned to pool
2020-03-11 10:48:15,335 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E33C2B0> rollback-on-return, via agent
2020-03-11 10:48:15,335 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:48:15,335 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E372128>, <hospital_test.models.Address object at 0x000001D75E372198>]}
2020-03-11 10:48:15,337 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E372390>
2020-03-11 10:48:15,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:48:15,338 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,339 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:48:15,339 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:48:15,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:48:15,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,340 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:48:15,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:48:15,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:48:15,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:48:15,342 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:48:15,342 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:48:15,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:48:15,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:48:15,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:48:15,343 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:48:15,343 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E372390> checked out from pool
2020-03-11 10:48:15,343 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:48:15,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:48:15,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:48:15,344 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:48:15,344 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:48:15,344 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E372390> being returned to pool
2020-03-11 10:48:15,345 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E372390> rollback-on-return, via agent
2020-03-11 10:48:15,345 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:48:15,345 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E372128>, <hospital_test.models.Address object at 0x000001D75E372198>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E372EB8>]}
2020-03-11 10:48:19,631 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:48:19,633 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:07,877 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446E10>
2020-03-11 10:51:07,877 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:51:07,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,879 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:07,879 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:51:07,879 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:51:07,879 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,880 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:07,880 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:51:07,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:51:07,881 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,882 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:51:07,882 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:51:07,882 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:07,883 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:07,883 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:07,883 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:07,884 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446E10> checked out from pool
2020-03-11 10:51:07,884 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 10:51:07,884 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,885 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:51:07,885 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:51:07,885 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 10:51:07,885 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,887 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:51:07,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:51:07,887 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 10:51:07,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,889 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:51:07,889 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:51:07,889 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 10:51:07,889 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,890 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:51:07,890 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:51:07,890 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446E10> being returned to pool
2020-03-11 10:51:07,891 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446E10> rollback-on-return
2020-03-11 10:51:07,893 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B438>
2020-03-11 10:51:07,893 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:51:07,893 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,894 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:07,895 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:51:07,895 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:51:07,895 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,896 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:07,896 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:51:07,897 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:51:07,897 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,897 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:51:07,897 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 10:51:07,898 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:07,898 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:07,899 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:07,899 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:07,899 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B438> checked out from pool
2020-03-11 10:51:07,899 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:51:07,900 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:51:07,900 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B438> being returned to pool
2020-03-11 10:51:07,900 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B438> rollback-on-return
2020-03-11 10:51:07,903 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3DA518>
2020-03-11 10:51:07,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:51:07,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,905 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:07,905 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:51:07,906 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:51:07,906 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,907 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:07,907 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:51:07,908 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:51:07,908 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,908 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:51:07,908 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:51:07,909 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:07,909 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:07,909 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:07,909 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:07,910 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3DA518> checked out from pool
2020-03-11 10:51:07,910 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:51:07,910 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:51:07,911 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 10:51:07,911 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:51:07,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:51:07,911 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:51:07,911 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3DA518> being returned to pool
2020-03-11 10:51:07,911 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3DA518> rollback-on-return, via agent
2020-03-11 10:51:07,911 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:51:07,912 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E43B240>, <hospital_test.models.Address object at 0x000001D75E43B908>]}
2020-03-11 10:51:07,914 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B518>
2020-03-11 10:51:07,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:51:07,914 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,915 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:07,915 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:51:07,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:51:07,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,917 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:07,917 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:51:07,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:51:07,918 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:07,918 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:51:07,918 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:51:07,919 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:07,919 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:07,920 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:07,920 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:07,920 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B518> checked out from pool
2020-03-11 10:51:07,920 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:51:07,921 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:51:07,921 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:51:07,921 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:51:07,921 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:51:07,921 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B518> being returned to pool
2020-03-11 10:51:07,922 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B518> rollback-on-return, via agent
2020-03-11 10:51:07,922 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:51:07,922 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E43B240>, <hospital_test.models.Address object at 0x000001D75E43B908>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E3E5588>]}
2020-03-11 10:51:14,098 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:51:14,099 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:20,923 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:51:20,923 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:24,733 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:51:24,734 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:26,271 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:51:26,271 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:27,600 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:51:27,600 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:29,181 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:51:29,182 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:38,395 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4616A0>
2020-03-11 10:51:38,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:51:38,395 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,396 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:38,396 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:51:38,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:51:38,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,398 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:38,398 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:51:38,398 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:51:38,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,399 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:51:38,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:51:38,400 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:38,400 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:38,401 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:38,401 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:38,401 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4616A0> checked out from pool
2020-03-11 10:51:38,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 10:51:38,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,403 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:51:38,403 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:51:38,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 10:51:38,403 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,406 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:51:38,407 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:51:38,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 10:51:38,407 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,408 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:51:38,408 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:51:38,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 10:51:38,409 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,410 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:51:38,410 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:51:38,410 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4616A0> being returned to pool
2020-03-11 10:51:38,410 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4616A0> rollback-on-return
2020-03-11 10:51:38,412 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA9B0>
2020-03-11 10:51:38,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:51:38,412 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,413 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:38,414 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:51:38,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:51:38,414 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,415 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:38,415 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:51:38,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:51:38,416 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,416 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:51:38,416 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 10:51:38,417 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:38,417 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:38,418 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:38,418 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:38,418 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA9B0> checked out from pool
2020-03-11 10:51:38,419 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:51:38,419 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:51:38,419 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA9B0> being returned to pool
2020-03-11 10:51:38,419 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA9B0> rollback-on-return
2020-03-11 10:51:38,428 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E38F630>
2020-03-11 10:51:38,428 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:51:38,428 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,430 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:38,430 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:51:38,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:51:38,430 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,431 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:38,431 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:51:38,432 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:51:38,432 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,432 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:51:38,432 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:51:38,433 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:38,433 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:38,434 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:38,434 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:38,434 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E38F630> checked out from pool
2020-03-11 10:51:38,434 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:51:38,435 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:51:38,435 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 10:51:38,436 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:51:38,436 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:51:38,436 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:51:38,437 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E38F630> being returned to pool
2020-03-11 10:51:38,437 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E38F630> rollback-on-return, via agent
2020-03-11 10:51:38,437 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:51:38,437 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75DFDAF98>, <hospital_test.models.Address object at 0x000001D75DFDA7F0>]}
2020-03-11 10:51:38,439 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA828>
2020-03-11 10:51:38,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:51:38,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,441 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:38,441 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:51:38,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:51:38,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,443 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:51:38,444 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:51:38,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:51:38,444 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:51:38,444 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:51:38,445 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:51:38,445 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:38,445 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:38,446 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:51:38,446 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:51:38,446 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA828> checked out from pool
2020-03-11 10:51:38,446 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:51:38,447 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:51:38,447 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:51:38,447 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:51:38,448 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:51:38,448 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA828> being returned to pool
2020-03-11 10:51:38,448 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA828> rollback-on-return, via agent
2020-03-11 10:51:38,448 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:51:38,448 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75DFDAF98>, <hospital_test.models.Address object at 0x000001D75DFDA7F0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E16FB38>]}
2020-03-11 10:51:48,008 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:51:48,009 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:49,056 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:51:49,057 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:49,620 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:51:49,622 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:50,615 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:51:50,616 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:51:51,913 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:51:51,914 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:55:57,481 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E5059E8>
2020-03-11 10:55:57,482 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:55:57,482 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,484 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:55:57,484 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:55:57,484 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:55:57,484 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,485 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:55:57,485 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:55:57,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:55:57,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,487 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:55:57,487 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:55:57,488 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:55:57,488 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:55:57,488 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:55:57,488 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:55:57,489 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E5059E8> checked out from pool
2020-03-11 10:55:57,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 10:55:57,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,490 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:55:57,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:55:57,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 10:55:57,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,491 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:55:57,491 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:55:57,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 10:55:57,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,492 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:55:57,492 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:55:57,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 10:55:57,492 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,493 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:55:57,493 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:55:57,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E5059E8> being returned to pool
2020-03-11 10:55:57,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E5059E8> rollback-on-return
2020-03-11 10:55:57,495 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA6A0>
2020-03-11 10:55:57,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:55:57,496 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,497 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:55:57,497 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:55:57,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:55:57,498 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,499 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:55:57,499 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:55:57,500 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:55:57,500 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,500 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:55:57,500 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 10:55:57,501 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:55:57,501 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:55:57,502 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:55:57,502 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:55:57,502 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA6A0> checked out from pool
2020-03-11 10:55:57,503 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:55:57,503 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:55:57,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA6A0> being returned to pool
2020-03-11 10:55:57,503 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFDA6A0> rollback-on-return
2020-03-11 10:55:57,505 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43BD30>
2020-03-11 10:55:57,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:55:57,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,507 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:55:57,507 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:55:57,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:55:57,507 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,508 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:55:57,508 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:55:57,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:55:57,509 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,509 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:55:57,509 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:55:57,510 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:55:57,510 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:55:57,511 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:55:57,511 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:55:57,511 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43BD30> checked out from pool
2020-03-11 10:55:57,511 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:55:57,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:55:57,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 10:55:57,513 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:55:57,513 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:55:57,513 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:55:57,513 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43BD30> being returned to pool
2020-03-11 10:55:57,513 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43BD30> rollback-on-return, via agent
2020-03-11 10:55:57,513 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:55:57,513 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75DFDADD8>, <hospital_test.models.Address object at 0x000001D75DFDA630>]}
2020-03-11 10:55:57,516 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3B6E10>
2020-03-11 10:55:57,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:55:57,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,518 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:55:57,518 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:55:57,519 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:55:57,519 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,519 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:55:57,520 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:55:57,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:55:57,520 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:55:57,520 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:55:57,520 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:55:57,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:55:57,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:55:57,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:55:57,521 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:55:57,522 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3B6E10> checked out from pool
2020-03-11 10:55:57,522 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:55:57,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:55:57,523 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:55:57,523 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:55:57,523 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:55:57,523 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3B6E10> being returned to pool
2020-03-11 10:55:57,523 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3B6E10> rollback-on-return, via agent
2020-03-11 10:55:57,523 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:55:57,524 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75DFDADD8>, <hospital_test.models.Address object at 0x000001D75DFDA630>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E43B080>]}
2020-03-11 10:56:30,276 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:56:30,277 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:56:42,644 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4679E8>
2020-03-11 10:56:42,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:42,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,646 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:42,646 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:42,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:42,646 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,647 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:42,647 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:42,648 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:42,648 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,649 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:42,649 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:56:42,650 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:42,650 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:42,651 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:42,651 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:42,651 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4679E8> checked out from pool
2020-03-11 10:56:42,652 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 10:56:42,652 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,653 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:56:42,653 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:56:42,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 10:56:42,653 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,654 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:56:42,654 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:56:42,655 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 10:56:42,655 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,656 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:56:42,656 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:56:42,656 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 10:56:42,656 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,657 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:56:42,657 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:56:42,657 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4679E8> being returned to pool
2020-03-11 10:56:42,657 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4679E8> rollback-on-return
2020-03-11 10:56:42,659 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46D9E8>
2020-03-11 10:56:42,659 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:42,659 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,661 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:42,661 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:42,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:42,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,662 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:42,663 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:42,663 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:42,663 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,664 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:42,664 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 10:56:42,665 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:42,665 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:42,666 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:42,666 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:42,666 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46D9E8> checked out from pool
2020-03-11 10:56:42,666 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:56:42,667 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:56:42,667 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46D9E8> being returned to pool
2020-03-11 10:56:42,667 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46D9E8> rollback-on-return
2020-03-11 10:56:42,669 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E499828>
2020-03-11 10:56:42,669 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:42,670 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,671 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:42,671 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:42,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:42,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,672 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:42,672 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:42,672 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:42,672 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,672 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:42,673 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:56:42,673 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:42,673 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:42,674 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:42,674 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:42,674 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E499828> checked out from pool
2020-03-11 10:56:42,674 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:56:42,675 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:56:42,675 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 10:56:42,675 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:56:42,676 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:56:42,676 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:56:42,676 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E499828> being returned to pool
2020-03-11 10:56:42,676 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E499828> rollback-on-return, via agent
2020-03-11 10:56:42,676 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:56:42,676 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E31C4A8>, <hospital_test.models.Address object at 0x000001D75E46D8D0>]}
2020-03-11 10:56:42,679 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4997B8>
2020-03-11 10:56:42,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:42,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,681 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:42,681 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:42,681 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:42,681 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,682 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:42,682 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:42,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:42,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:42,683 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:42,683 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:56:42,684 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:42,684 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:42,684 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:42,685 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:42,685 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4997B8> checked out from pool
2020-03-11 10:56:42,685 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:56:42,685 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:56:42,686 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:56:42,686 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:56:42,686 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:56:42,686 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4997B8> being returned to pool
2020-03-11 10:56:42,686 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4997B8> rollback-on-return, via agent
2020-03-11 10:56:42,686 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:56:42,686 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E31C4A8>, <hospital_test.models.Address object at 0x000001D75E46D8D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E3E5B00>]}
2020-03-11 10:56:44,746 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:56:44,747 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:56:46,778 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFB5080>
2020-03-11 10:56:46,779 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:46,779 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:46,780 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:46,780 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:46,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:46,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:46,782 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:46,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:46,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:46,783 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:46,783 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:46,783 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:56:46,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:46,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:46,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:46,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:46,785 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFB5080> checked out from pool
2020-03-11 10:56:46,785 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:56:46,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:56:46,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 10:56:46,786 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:56:46,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:56:46,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:56:46,786 root:INFO:models:save_custom_addr:MainProcess:22124:开始连接数据库保存地址信息
2020-03-11 10:56:46,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 10:56:46,787 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num': '5550008088', 'consignee': '云南省精神病医院', 'con_tel': '0871-65619101', 'province': '云南省', 'city': '市', 'zone': '区', 'addr_detail': '云南省昆明市盘龙区穿金路733号', 'is_hos_addr': '1', 'auto_state': 0}
2020-03-11 10:56:46,802 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:22124:COMMIT
2020-03-11 10:56:46,805 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFB5080> being returned to pool
2020-03-11 10:56:46,805 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFB5080> rollback-on-return
2020-03-11 10:56:46,805 root:INFO:models:save_custom_addr:MainProcess:22124:地址信息保存成功！
2020-03-11 10:56:46,805 root:INFO:views:save_addr:MainProcess:22124:{'status': 'success'}
2020-03-11 10:56:49,773 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A748>
2020-03-11 10:56:49,773 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:49,773 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,775 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:49,775 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:49,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:49,775 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,776 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:49,776 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:49,777 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:49,777 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,778 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:49,778 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:56:49,779 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:49,779 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:49,780 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:49,780 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:49,780 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A748> checked out from pool
2020-03-11 10:56:49,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 10:56:49,780 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,781 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:56:49,781 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:56:49,781 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 10:56:49,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,783 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:56:49,783 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:56:49,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 10:56:49,784 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,785 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:56:49,785 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:56:49,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 10:56:49,786 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,786 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:56:49,786 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:56:49,786 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A748> being returned to pool
2020-03-11 10:56:49,787 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A748> rollback-on-return
2020-03-11 10:56:49,789 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3B6C88>
2020-03-11 10:56:49,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:49,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,790 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:49,790 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:49,791 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:49,791 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,792 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:49,792 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:49,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:49,793 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,793 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:49,793 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 10:56:49,794 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:49,794 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:49,795 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:49,795 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:49,795 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3B6C88> checked out from pool
2020-03-11 10:56:49,796 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:56:49,796 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:56:49,796 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3B6C88> being returned to pool
2020-03-11 10:56:49,797 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3B6C88> rollback-on-return
2020-03-11 10:56:49,801 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E48B978>
2020-03-11 10:56:49,801 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:49,801 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,803 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:49,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:49,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:49,803 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,805 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:49,805 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:49,806 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:49,806 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,806 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:49,806 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:56:49,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:49,807 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:49,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:49,808 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:49,808 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E48B978> checked out from pool
2020-03-11 10:56:49,809 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:56:49,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:56:49,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 10:56:49,810 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:56:49,810 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:56:49,810 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:56:49,810 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 10:56:49,810 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E48B978> being returned to pool
2020-03-11 10:56:49,810 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E48B978> rollback-on-return, via agent
2020-03-11 10:56:49,810 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:56:49,810 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E45DF28>, <hospital_test.models.Address object at 0x000001D75E48B780>, <hospital_test.models.Address object at 0x000001D75E48BB70>]}
2020-03-11 10:56:49,814 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E48B0B8>
2020-03-11 10:56:49,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:56:49,814 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,816 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:49,817 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:56:49,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:56:49,817 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,819 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:56:49,819 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:56:49,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:56:49,819 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:56:49,821 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:56:49,821 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:56:49,822 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:49,822 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:49,822 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:56:49,822 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:56:49,822 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E48B0B8> checked out from pool
2020-03-11 10:56:49,822 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:56:49,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:56:49,824 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:56:49,824 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:56:49,824 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:56:49,824 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E48B0B8> being returned to pool
2020-03-11 10:56:49,824 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E48B0B8> rollback-on-return, via agent
2020-03-11 10:56:49,824 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:56:49,824 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E45DF28>, <hospital_test.models.Address object at 0x000001D75E48B780>, <hospital_test.models.Address object at 0x000001D75E48BB70>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E4566D8>]}
2020-03-11 10:57:16,947 root:INFO:models:save_pres_addr:MainProcess:22124:开始连接数据库关联处方和地址
2020-03-11 10:57:16,949 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A6A0>
2020-03-11 10:57:16,950 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:57:16,950 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:16,951 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:16,952 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:57:16,952 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:57:16,952 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:16,953 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:16,953 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:57:16,954 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:57:16,954 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:16,954 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:57:16,954 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:57:16,955 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:16,955 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:16,955 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:16,955 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:16,956 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A6A0> checked out from pool
2020-03-11 10:57:16,956 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:57:16,956 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)
2020-03-11 10:57:16,956 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num': 'MZ_202001249876', 'addr_id': '8', 'send_goods_time': None, 'is_write_mid': 0}
2020-03-11 10:57:16,957 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:57:16,958 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A6A0> being returned to pool
2020-03-11 10:57:16,958 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A6A0> rollback-on-return
2020-03-11 10:57:16,958 root:INFO:models:save_pres_addr:MainProcess:22124:处方关联失败！
2020-03-11 10:57:16,958 root:INFO:models:save_pres_addr:MainProcess:22124:(mysql.connector.errors.IntegrityError) 1062 (23000): Duplicate entry 'MZ_202001249876' for key 'PRIMARY'
[SQL: INSERT INTO pres_consignee (pres_num, addr_id, send_goods_time, is_write_mid) VALUES (%(pres_num)s, %(addr_id)s, %(send_goods_time)s, %(is_write_mid)s)]
[parameters: {'pres_num': 'MZ_202001249876', 'addr_id': '8', 'send_goods_time': None, 'is_write_mid': 0}]
(Background on this error at: http://sqlalche.me/e/gkpj)
2020-03-11 10:57:18,971 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4200F0>
2020-03-11 10:57:18,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:57:18,971 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,972 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:18,972 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:57:18,973 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:57:18,973 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,974 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:18,974 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:57:18,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:57:18,975 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,975 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:57:18,975 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:57:18,976 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:18,976 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:18,976 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:18,976 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:18,977 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4200F0> checked out from pool
2020-03-11 10:57:18,977 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 10:57:18,977 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,978 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:57:18,978 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:57:18,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 10:57:18,978 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,979 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:57:18,979 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 10:57:18,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 10:57:18,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,980 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:57:18,980 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 10:57:18,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 10:57:18,980 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,981 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 10:57:18,981 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 10:57:18,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4200F0> being returned to pool
2020-03-11 10:57:18,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4200F0> rollback-on-return
2020-03-11 10:57:18,984 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46DCC0>
2020-03-11 10:57:18,984 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:57:18,984 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,985 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:18,986 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:57:18,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:57:18,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:18,987 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:57:18,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:57:18,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,988 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:57:18,988 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 10:57:18,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:18,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:18,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:18,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:18,990 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46DCC0> checked out from pool
2020-03-11 10:57:18,990 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 10:57:18,990 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 10:57:18,990 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46DCC0> being returned to pool
2020-03-11 10:57:18,990 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46DCC0> rollback-on-return
2020-03-11 10:57:18,993 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E496B00>
2020-03-11 10:57:18,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:57:18,993 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,994 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:18,994 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:57:18,995 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:57:18,995 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,996 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:18,996 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:57:18,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:57:18,997 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:18,998 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:57:18,998 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:57:18,999 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:18,999 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:19,000 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:19,000 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:19,000 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E496B00> checked out from pool
2020-03-11 10:57:19,000 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:57:19,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 10:57:19,001 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 10:57:19,002 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 10:57:19,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 10:57:19,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 10:57:19,002 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 10:57:19,002 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E496B00> being returned to pool
2020-03-11 10:57:19,002 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E496B00> rollback-on-return, via agent
2020-03-11 10:57:19,003 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:57:19,003 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E4962E8>, <hospital_test.models.Address object at 0x000001D75E496470>, <hospital_test.models.Address object at 0x000001D75E496550>]}
2020-03-11 10:57:19,005 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E496668>
2020-03-11 10:57:19,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 10:57:19,005 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:19,006 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:19,006 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 10:57:19,007 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 10:57:19,007 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:19,008 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 10:57:19,008 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 10:57:19,008 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 10:57:19,009 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 10:57:19,009 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 10:57:19,009 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 10:57:19,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:19,010 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:19,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 10:57:19,011 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 10:57:19,011 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E496668> checked out from pool
2020-03-11 10:57:19,011 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 10:57:19,012 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 10:57:19,012 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 10:57:19,013 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 10:57:19,013 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 10:57:19,013 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E496668> being returned to pool
2020-03-11 10:57:19,013 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E496668> rollback-on-return, via agent
2020-03-11 10:57:19,013 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 10:57:19,013 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E4962E8>, <hospital_test.models.Address object at 0x000001D75E496470>, <hospital_test.models.Address object at 0x000001D75E496550>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E43E048>]}
2020-03-11 10:57:24,947 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:57:24,947 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:57:26,453 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:57:26,453 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:57:27,366 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:57:27,367 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:57:29,272 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 10:57:29,273 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 10:57:30,786 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 10:57:30,787 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 11:08:28,074 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFB5208>
2020-03-11 11:08:28,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:08:28,075 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,076 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:08:28,076 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:08:28,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:08:28,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,078 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:08:28,078 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:08:28,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:08:28,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,079 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:08:28,079 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:08:28,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:08:28,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:08:28,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:08:28,080 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:08:28,081 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFB5208> checked out from pool
2020-03-11 11:08:28,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 11:08:28,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,082 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:08:28,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 11:08:28,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 11:08:28,082 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,083 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:08:28,084 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 11:08:28,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 11:08:28,084 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,085 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:08:28,085 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 11:08:28,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 11:08:28,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,086 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:08:28,086 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 11:08:28,086 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFB5208> being returned to pool
2020-03-11 11:08:28,086 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75DFB5208> rollback-on-return
2020-03-11 11:08:28,088 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6160>
2020-03-11 11:08:28,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:08:28,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:08:28,090 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:08:28,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:08:28,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,092 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:08:28,092 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:08:28,092 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:08:28,093 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,093 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:08:28,093 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 11:08:28,094 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:08:28,094 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:08:28,094 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:08:28,094 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:08:28,095 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6160> checked out from pool
2020-03-11 11:08:28,095 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 11:08:28,095 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 11:08:28,095 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6160> being returned to pool
2020-03-11 11:08:28,095 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6160> rollback-on-return
2020-03-11 11:08:28,098 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E456B00>
2020-03-11 11:08:28,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:08:28,099 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,100 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:08:28,100 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:08:28,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:08:28,101 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,102 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:08:28,103 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:08:28,103 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:08:28,103 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,104 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:08:28,104 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:08:28,105 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:08:28,105 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:08:28,105 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:08:28,105 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:08:28,106 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E456B00> checked out from pool
2020-03-11 11:08:28,106 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:08:28,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 11:08:28,107 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 11:08:28,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 11:08:28,108 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 11:08:28,108 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 11:08:28,108 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 11:08:28,108 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E456B00> being returned to pool
2020-03-11 11:08:28,108 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E456B00> rollback-on-return, via agent
2020-03-11 11:08:28,108 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 11:08:28,109 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E39A2B0>, <hospital_test.models.Address object at 0x000001D75E39A860>, <hospital_test.models.Address object at 0x000001D75E39A518>]}
2020-03-11 11:08:28,111 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A898>
2020-03-11 11:08:28,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:08:28,111 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,113 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:08:28,113 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:08:28,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:08:28,113 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,114 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:08:28,114 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:08:28,115 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:08:28,115 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:08:28,115 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:08:28,115 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:08:28,116 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:08:28,116 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:08:28,117 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:08:28,117 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:08:28,117 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A898> checked out from pool
2020-03-11 11:08:28,117 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:08:28,118 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 11:08:28,118 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 11:08:28,118 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 11:08:28,118 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 11:08:28,118 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A898> being returned to pool
2020-03-11 11:08:28,118 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E39A898> rollback-on-return, via agent
2020-03-11 11:08:28,118 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 11:08:28,119 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E39A2B0>, <hospital_test.models.Address object at 0x000001D75E39A860>, <hospital_test.models.Address object at 0x000001D75E39A518>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E446908>]}
2020-03-11 11:09:48,465 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 11:09:48,466 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 11:09:52,175 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 11:09:52,176 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 11:13:13,869 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 11:13:13,870 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 11:33:00,940 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E482208>
2020-03-11 11:33:00,941 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:33:00,941 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,945 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:33:00,945 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:33:00,945 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:33:00,945 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,947 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:33:00,947 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:33:00,948 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:33:00,948 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,948 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:33:00,948 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:33:00,949 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:33:00,949 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:33:00,950 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:33:00,950 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:33:00,950 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E482208> checked out from pool
2020-03-11 11:33:00,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 11:33:00,951 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,953 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:33:00,953 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 11:33:00,954 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 11:33:00,954 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,956 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:33:00,956 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 11:33:00,956 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 11:33:00,956 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,957 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:33:00,957 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 11:33:00,958 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 11:33:00,958 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,959 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:33:00,959 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 11:33:00,959 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E482208> being returned to pool
2020-03-11 11:33:00,959 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E482208> rollback-on-return
2020-03-11 11:33:00,962 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4858D0>
2020-03-11 11:33:00,962 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:33:00,962 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,964 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:33:00,964 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:33:00,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:33:00,964 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,965 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:33:00,966 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:33:00,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:33:00,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,967 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:33:00,967 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 11:33:00,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:33:00,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:33:00,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:33:00,968 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:33:00,969 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4858D0> checked out from pool
2020-03-11 11:33:00,969 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 11:33:00,969 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 11:33:00,969 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4858D0> being returned to pool
2020-03-11 11:33:00,969 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4858D0> rollback-on-return
2020-03-11 11:33:00,972 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4E8940>
2020-03-11 11:33:00,972 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:33:00,972 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,973 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:33:00,974 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:33:00,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:33:00,974 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,975 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:33:00,975 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:33:00,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:33:00,976 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,976 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:33:00,976 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:33:00,977 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:33:00,977 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:33:00,977 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:33:00,978 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:33:00,978 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4E8940> checked out from pool
2020-03-11 11:33:00,978 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:33:00,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 11:33:00,979 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 11:33:00,980 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 11:33:00,980 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 11:33:00,980 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 11:33:00,980 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 11:33:00,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4E8940> being returned to pool
2020-03-11 11:33:00,981 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4E8940> rollback-on-return, via agent
2020-03-11 11:33:00,981 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 11:33:00,981 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E485780>, <hospital_test.models.Address object at 0x000001D75E485438>, <hospital_test.models.Address object at 0x000001D75E49E748>]}
2020-03-11 11:33:00,983 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4E9F60>
2020-03-11 11:33:00,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:33:00,983 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,984 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:33:00,984 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:33:00,984 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:33:00,986 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:33:00,987 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:33:00,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:33:00,987 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:33:00,987 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:33:00,988 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:33:00,988 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:33:00,988 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:33:00,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:33:00,989 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:33:00,989 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4E9F60> checked out from pool
2020-03-11 11:33:00,989 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:33:00,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 11:33:00,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 11:33:00,991 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 11:33:00,991 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 11:33:00,991 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4E9F60> being returned to pool
2020-03-11 11:33:00,991 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4E9F60> rollback-on-return, via agent
2020-03-11 11:33:00,991 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 11:33:00,991 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E485780>, <hospital_test.models.Address object at 0x000001D75E485438>, <hospital_test.models.Address object at 0x000001D75E49E748>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E4ED668>]}
2020-03-11 11:33:06,320 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 11:33:06,322 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 11:34:09,434 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E420C50>
2020-03-11 11:34:09,434 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:34:09,434 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,435 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:34:09,435 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:34:09,436 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:34:09,436 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,437 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:34:09,437 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:34:09,437 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:34:09,438 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,438 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:34:09,438 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:34:09,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:34:09,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:34:09,439 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:34:09,440 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:34:09,440 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E420C50> checked out from pool
2020-03-11 11:34:09,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 11:34:09,440 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,441 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:34:09,441 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 11:34:09,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 11:34:09,442 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,443 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:34:09,443 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 11:34:09,443 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 11:34:09,443 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,445 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:34:09,445 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 11:34:09,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 11:34:09,445 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,446 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:34:09,447 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 11:34:09,447 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E420C50> being returned to pool
2020-03-11 11:34:09,447 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E420C50> rollback-on-return
2020-03-11 11:34:09,449 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E467DA0>
2020-03-11 11:34:09,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:34:09,449 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,450 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:34:09,451 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:34:09,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:34:09,451 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,452 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:34:09,453 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:34:09,453 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:34:09,454 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,454 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:34:09,454 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 11:34:09,455 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:34:09,455 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:34:09,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:34:09,456 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:34:09,456 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E467DA0> checked out from pool
2020-03-11 11:34:09,456 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 11:34:09,457 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 11:34:09,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E467DA0> being returned to pool
2020-03-11 11:34:09,457 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E467DA0> rollback-on-return
2020-03-11 11:34:09,461 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2438>
2020-03-11 11:34:09,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:34:09,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,463 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:34:09,464 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:34:09,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:34:09,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,465 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:34:09,465 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:34:09,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:34:09,466 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,466 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:34:09,466 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:34:09,467 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:34:09,467 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:34:09,468 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:34:09,468 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:34:09,468 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2438> checked out from pool
2020-03-11 11:34:09,468 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:34:09,469 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 11:34:09,469 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 11:34:09,470 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 11:34:09,470 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 11:34:09,470 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 11:34:09,470 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 11:34:09,470 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2438> being returned to pool
2020-03-11 11:34:09,470 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2438> rollback-on-return, via agent
2020-03-11 11:34:09,470 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 11:34:09,470 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E3D2EF0>, <hospital_test.models.Address object at 0x000001D75E3D2748>, <hospital_test.models.Address object at 0x000001D75E3D2860>]}
2020-03-11 11:34:09,472 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2D30>
2020-03-11 11:34:09,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:34:09,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,474 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:34:09,474 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:34:09,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:34:09,474 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,476 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:34:09,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:34:09,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:34:09,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:34:09,477 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:34:09,477 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:34:09,477 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:34:09,477 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:34:09,478 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:34:09,478 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:34:09,478 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2D30> checked out from pool
2020-03-11 11:34:09,478 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:34:09,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 11:34:09,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 11:34:09,479 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 11:34:09,479 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 11:34:09,479 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2D30> being returned to pool
2020-03-11 11:34:09,479 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2D30> rollback-on-return, via agent
2020-03-11 11:34:09,480 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 11:34:09,480 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E3D2EF0>, <hospital_test.models.Address object at 0x000001D75E3D2748>, <hospital_test.models.Address object at 0x000001D75E3D2860>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E4EDA58>]}
2020-03-11 11:34:11,682 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 11:34:11,683 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 11:36:06,655 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4612B0>
2020-03-11 11:36:06,656 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:36:06,656 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:06,657 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:06,657 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:36:06,657 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:36:06,657 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:06,658 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:06,658 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:36:06,659 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:36:06,659 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:06,659 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:36:06,659 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:36:06,660 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:06,660 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:06,660 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:06,660 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:06,661 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4612B0> checked out from pool
2020-03-11 11:36:06,661 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:36:06,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 11:36:06,661 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 11:36:06,662 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 11:36:06,662 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 11:36:06,662 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 11:36:06,662 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 11:36:06,662 root:INFO:models:save_custom_addr:MainProcess:22124:开始连接数据库保存地址信息
2020-03-11 11:36:06,663 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:INSERT INTO custom_addr (custom_num, consignee, con_tel, province, city, zone, addr_detail, is_hos_addr, auto_state) VALUES (%(custom_num)s, %(consignee)s, %(con_tel)s, %(province)s, %(city)s, %(zone)s, %(addr_detail)s, %(is_hos_addr)s, %(auto_state)s)
2020-03-11 11:36:06,663 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num': '5550008088', 'consignee': '马彬', 'con_tel': '0871-65619101', 'province': '云南省', 'city': '市', 'zone': '区', 'addr_detail': '云南省昆明市盘龙区穿金路733号', 'is_hos_addr': '1', 'auto_state': 0}
2020-03-11 11:36:06,675 sqlalchemy.engine.base.Engine:INFO:base:_commit_impl:MainProcess:22124:COMMIT
2020-03-11 11:36:06,676 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4612B0> being returned to pool
2020-03-11 11:36:06,677 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4612B0> rollback-on-return
2020-03-11 11:36:06,677 root:INFO:models:save_custom_addr:MainProcess:22124:地址信息保存成功！
2020-03-11 11:36:06,677 root:INFO:views:save_addr:MainProcess:22124:{'status': 'success'}
2020-03-11 11:36:08,516 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3CA9B0>
2020-03-11 11:36:08,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:36:08,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,517 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:08,519 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:36:08,519 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:36:08,519 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,520 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:08,521 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:36:08,521 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:36:08,522 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,522 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:36:08,522 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:36:08,523 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:08,523 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:08,524 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:08,524 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:08,525 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3CA9B0> checked out from pool
2020-03-11 11:36:08,525 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 11:36:08,525 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,526 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:36:08,526 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 11:36:08,526 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 11:36:08,526 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,527 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:36:08,527 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 11:36:08,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 11:36:08,528 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,529 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:36:08,529 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 11:36:08,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 11:36:08,529 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,530 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 11:36:08,530 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 11:36:08,530 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3CA9B0> being returned to pool
2020-03-11 11:36:08,530 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3CA9B0> rollback-on-return
2020-03-11 11:36:08,532 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E467748>
2020-03-11 11:36:08,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:36:08,533 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,534 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:08,534 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:36:08,534 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:36:08,534 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,535 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:08,536 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:36:08,536 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:36:08,536 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,537 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:36:08,537 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 11:36:08,537 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:08,537 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:08,538 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:08,538 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:08,538 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E467748> checked out from pool
2020-03-11 11:36:08,539 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 11:36:08,539 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 11:36:08,539 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E467748> being returned to pool
2020-03-11 11:36:08,539 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E467748> rollback-on-return
2020-03-11 11:36:08,542 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6438>
2020-03-11 11:36:08,542 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:36:08,542 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,544 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:08,544 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:36:08,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:36:08,545 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,546 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:08,546 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:36:08,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:36:08,547 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,547 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:36:08,547 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:36:08,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:08,548 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:08,549 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:08,549 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:08,549 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6438> checked out from pool
2020-03-11 11:36:08,549 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:36:08,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 11:36:08,550 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 11:36:08,551 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 11:36:08,551 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 11:36:08,551 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 11:36:08,551 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 11:36:08,551 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 11:36:08,551 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6438> being returned to pool
2020-03-11 11:36:08,551 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6438> rollback-on-return, via agent
2020-03-11 11:36:08,551 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 11:36:08,551 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E467080>, <hospital_test.models.Address object at 0x000001D75E467DA0>, <hospital_test.models.Address object at 0x000001D75E467978>, <hospital_test.models.Address object at 0x000001D75E467208>]}
2020-03-11 11:36:08,554 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6588>
2020-03-11 11:36:08,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 11:36:08,554 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,556 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:08,556 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 11:36:08,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 11:36:08,556 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,559 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 11:36:08,559 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 11:36:08,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 11:36:08,561 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 11:36:08,561 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 11:36:08,561 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 11:36:08,562 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:08,563 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:08,563 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 11:36:08,563 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 11:36:08,564 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6588> checked out from pool
2020-03-11 11:36:08,564 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 11:36:08,564 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 11:36:08,565 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 11:36:08,565 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 11:36:08,565 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 11:36:08,565 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6588> being returned to pool
2020-03-11 11:36:08,565 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D6588> rollback-on-return, via agent
2020-03-11 11:36:08,566 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 11:36:08,566 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E467080>, <hospital_test.models.Address object at 0x000001D75E467DA0>, <hospital_test.models.Address object at 0x000001D75E467978>, <hospital_test.models.Address object at 0x000001D75E467208>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E39A4A8>]}
2020-03-11 12:03:00,046 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E38FE80>
2020-03-11 12:03:00,047 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:03:00,047 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,049 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:03:00,049 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:03:00,049 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:03:00,049 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,050 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:03:00,051 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:03:00,051 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:03:00,051 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,052 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:03:00,052 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:03:00,053 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:03:00,053 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:03:00,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:03:00,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:03:00,054 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E38FE80> checked out from pool
2020-03-11 12:03:00,054 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 12:03:00,054 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,056 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:03:00,056 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:03:00,056 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 12:03:00,056 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,058 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:03:00,058 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:03:00,058 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 12:03:00,058 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,059 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:03:00,059 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 12:03:00,060 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 12:03:00,060 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,060 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:03:00,060 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 12:03:00,061 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E38FE80> being returned to pool
2020-03-11 12:03:00,061 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E38FE80> rollback-on-return
2020-03-11 12:03:00,063 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E421550>
2020-03-11 12:03:00,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:03:00,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,065 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:03:00,065 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:03:00,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:03:00,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,066 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:03:00,067 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:03:00,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:03:00,067 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,068 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:03:00,068 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 12:03:00,069 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:03:00,069 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:03:00,070 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:03:00,070 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:03:00,070 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E421550> checked out from pool
2020-03-11 12:03:00,070 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 12:03:00,071 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 12:03:00,071 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E421550> being returned to pool
2020-03-11 12:03:00,071 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E421550> rollback-on-return
2020-03-11 12:03:00,074 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2EB8>
2020-03-11 12:03:00,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:03:00,074 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,075 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:03:00,075 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:03:00,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:03:00,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,077 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:03:00,077 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:03:00,077 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:03:00,078 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,078 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:03:00,078 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:03:00,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:03:00,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:03:00,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:03:00,079 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:03:00,080 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2EB8> checked out from pool
2020-03-11 12:03:00,080 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:03:00,080 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 12:03:00,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 12:03:00,081 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 12:03:00,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 12:03:00,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 12:03:00,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:03:00,082 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:03:00,082 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2EB8> being returned to pool
2020-03-11 12:03:00,082 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2EB8> rollback-on-return, via agent
2020-03-11 12:03:00,082 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:03:00,082 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E4210F0>, <hospital_test.models.Address object at 0x000001D75E421550>, <hospital_test.models.Address object at 0x000001D75E421128>, <hospital_test.models.Address object at 0x000001D75E421518>]}
2020-03-11 12:03:00,085 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D24A8>
2020-03-11 12:03:00,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:03:00,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,086 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:03:00,086 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:03:00,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:03:00,087 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:03:00,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:03:00,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:03:00,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:03:00,089 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:03:00,089 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:03:00,089 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:03:00,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:03:00,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:03:00,090 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:03:00,090 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D24A8> checked out from pool
2020-03-11 12:03:00,090 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:03:00,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 12:03:00,091 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 12:03:00,091 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 12:03:00,091 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 12:03:00,091 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D24A8> being returned to pool
2020-03-11 12:03:00,092 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D24A8> rollback-on-return, via agent
2020-03-11 12:03:00,092 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:03:00,092 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E4210F0>, <hospital_test.models.Address object at 0x000001D75E421550>, <hospital_test.models.Address object at 0x000001D75E421128>, <hospital_test.models.Address object at 0x000001D75E421518>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E446B00>]}
2020-03-11 12:03:08,729 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 12:03:08,733 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 12:03:12,754 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:2
2020-03-11 12:03:12,755 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 12:05:16,298 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4ED588>
2020-03-11 12:05:16,299 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:05:16,299 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,300 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:05:16,300 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:05:16,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:05:16,301 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,302 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:05:16,302 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:05:16,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:05:16,303 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,303 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:05:16,304 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:05:16,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:05:16,305 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:05:16,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:05:16,306 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:05:16,306 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4ED588> checked out from pool
2020-03-11 12:05:16,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 12:05:16,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,307 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:05:16,307 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:05:16,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 12:05:16,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,309 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:05:16,309 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:05:16,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 12:05:16,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,311 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:05:16,311 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 12:05:16,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 12:05:16,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,312 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:05:16,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 12:05:16,312 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4ED588> being returned to pool
2020-03-11 12:05:16,313 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4ED588> rollback-on-return
2020-03-11 12:05:16,316 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4ED748>
2020-03-11 12:05:16,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:05:16,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,318 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:05:16,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:05:16,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:05:16,318 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,319 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:05:16,319 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:05:16,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:05:16,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,321 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:05:16,321 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 12:05:16,322 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:05:16,322 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:05:16,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:05:16,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:05:16,323 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4ED748> checked out from pool
2020-03-11 12:05:16,323 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 12:05:16,324 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 12:05:16,324 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4ED748> being returned to pool
2020-03-11 12:05:16,324 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4ED748> rollback-on-return
2020-03-11 12:05:16,326 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46D9B0>
2020-03-11 12:05:16,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:05:16,327 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,328 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:05:16,328 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:05:16,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:05:16,328 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,329 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:05:16,329 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:05:16,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:05:16,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,330 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:05:16,330 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:05:16,331 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:05:16,331 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:05:16,332 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:05:16,332 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:05:16,332 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46D9B0> checked out from pool
2020-03-11 12:05:16,332 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:05:16,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 12:05:16,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 12:05:16,334 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 12:05:16,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 12:05:16,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 12:05:16,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:05:16,334 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:05:16,335 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46D9B0> being returned to pool
2020-03-11 12:05:16,335 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46D9B0> rollback-on-return, via agent
2020-03-11 12:05:16,335 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:05:16,335 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75DFDAA58>, <hospital_test.models.Address object at 0x000001D75DFDA9B0>, <hospital_test.models.Address object at 0x000001D75E4ED0F0>, <hospital_test.models.Address object at 0x000001D75E4ED6D8>]}
2020-03-11 12:05:16,337 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4EDE80>
2020-03-11 12:05:16,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:05:16,337 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,339 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:05:16,339 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:05:16,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:05:16,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,340 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:05:16,340 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:05:16,340 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:05:16,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:05:16,341 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:05:16,341 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:05:16,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:05:16,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:05:16,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:05:16,342 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:05:16,343 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4EDE80> checked out from pool
2020-03-11 12:05:16,343 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:05:16,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 12:05:16,343 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 12:05:16,344 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 12:05:16,344 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 12:05:16,344 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4EDE80> being returned to pool
2020-03-11 12:05:16,344 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4EDE80> rollback-on-return, via agent
2020-03-11 12:05:16,344 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:05:16,344 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75DFDAA58>, <hospital_test.models.Address object at 0x000001D75DFDA9B0>, <hospital_test.models.Address object at 0x000001D75E4ED0F0>, <hospital_test.models.Address object at 0x000001D75E4ED6D8>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E421160>]}
2020-03-11 12:05:21,466 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 12:05:21,467 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 12:06:52,274 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2940>
2020-03-11 12:06:52,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:06:52,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,276 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:06:52,276 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:06:52,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:06:52,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,279 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:06:52,279 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:06:52,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:06:52,280 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,280 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:06:52,280 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:06:52,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:06:52,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:06:52,282 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:06:52,282 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:06:52,283 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2940> checked out from pool
2020-03-11 12:06:52,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 12:06:52,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,286 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:06:52,286 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:06:52,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 12:06:52,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,288 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:06:52,288 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:06:52,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 12:06:52,289 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,290 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:06:52,290 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 12:06:52,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 12:06:52,291 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,292 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:06:52,292 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 12:06:52,292 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2940> being returned to pool
2020-03-11 12:06:52,292 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2940> rollback-on-return
2020-03-11 12:06:52,294 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B128>
2020-03-11 12:06:52,294 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:06:52,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,296 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:06:52,296 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:06:52,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:06:52,296 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,297 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:06:52,297 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:06:52,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:06:52,298 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,298 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:06:52,298 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 12:06:52,300 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:06:52,300 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:06:52,301 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:06:52,301 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:06:52,301 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B128> checked out from pool
2020-03-11 12:06:52,301 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 12:06:52,302 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 12:06:52,302 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B128> being returned to pool
2020-03-11 12:06:52,302 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B128> rollback-on-return
2020-03-11 12:06:52,305 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B9E8>
2020-03-11 12:06:52,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:06:52,305 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,307 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:06:52,307 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:06:52,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:06:52,307 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,308 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:06:52,308 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:06:52,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:06:52,309 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,309 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:06:52,309 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:06:52,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:06:52,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:06:52,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:06:52,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:06:52,311 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B9E8> checked out from pool
2020-03-11 12:06:52,311 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:06:52,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 12:06:52,312 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 12:06:52,312 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 12:06:52,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 12:06:52,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 12:06:52,313 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:06:52,313 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:06:52,313 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B9E8> being returned to pool
2020-03-11 12:06:52,313 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E43B9E8> rollback-on-return, via agent
2020-03-11 12:06:52,313 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:06:52,313 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E461CC0>, <hospital_test.models.Address object at 0x000001D75E461E10>, <hospital_test.models.Address object at 0x000001D75E461940>, <hospital_test.models.Address object at 0x000001D75E461B00>]}
2020-03-11 12:06:52,316 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4616D8>
2020-03-11 12:06:52,317 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:06:52,317 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,318 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:06:52,318 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:06:52,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:06:52,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,320 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:06:52,320 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:06:52,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:06:52,321 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:06:52,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:06:52,322 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:06:52,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:06:52,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:06:52,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:06:52,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:06:52,324 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4616D8> checked out from pool
2020-03-11 12:06:52,324 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:06:52,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 12:06:52,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 12:06:52,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 12:06:52,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 12:06:52,325 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4616D8> being returned to pool
2020-03-11 12:06:52,325 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E4616D8> rollback-on-return, via agent
2020-03-11 12:06:52,325 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:06:52,325 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E461CC0>, <hospital_test.models.Address object at 0x000001D75E461E10>, <hospital_test.models.Address object at 0x000001D75E461940>, <hospital_test.models.Address object at 0x000001D75E461B00>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E43BBE0>]}
2020-03-11 12:07:05,572 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E372160>
2020-03-11 12:07:05,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:07:05,572 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,573 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:05,573 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:07:05,574 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:07:05,574 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,575 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:05,575 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:07:05,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:07:05,575 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,577 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:07:05,577 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:07:05,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:05,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:05,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:05,577 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:05,579 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E372160> checked out from pool
2020-03-11 12:07:05,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 12:07:05,579 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,580 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:07:05,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:07:05,580 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 12:07:05,580 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,580 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:07:05,580 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:07:05,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 12:07:05,581 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,583 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:07:05,583 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 12:07:05,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 12:07:05,583 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,583 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:07:05,583 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 12:07:05,583 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E372160> being returned to pool
2020-03-11 12:07:05,583 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E372160> rollback-on-return
2020-03-11 12:07:05,586 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2DD8>
2020-03-11 12:07:05,586 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:07:05,586 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,588 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:05,588 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:07:05,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:07:05,588 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,589 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:05,589 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:07:05,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:07:05,590 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,590 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:07:05,590 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 12:07:05,591 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:05,591 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:05,592 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:05,592 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:05,592 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2DD8> checked out from pool
2020-03-11 12:07:05,593 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 12:07:05,593 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 12:07:05,593 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2DD8> being returned to pool
2020-03-11 12:07:05,593 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2DD8> rollback-on-return
2020-03-11 12:07:05,596 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446D30>
2020-03-11 12:07:05,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:07:05,596 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,597 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:05,597 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:07:05,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:07:05,598 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,599 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:05,599 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:07:05,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:07:05,600 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,600 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:07:05,600 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:07:05,602 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:05,602 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:05,603 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:05,603 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:05,603 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446D30> checked out from pool
2020-03-11 12:07:05,603 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:07:05,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 12:07:05,604 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 12:07:05,605 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 12:07:05,605 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 12:07:05,605 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 12:07:05,605 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:07:05,605 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:07:05,605 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446D30> being returned to pool
2020-03-11 12:07:05,605 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446D30> rollback-on-return, via agent
2020-03-11 12:07:05,605 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:07:05,606 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E3D2550>, <hospital_test.models.Address object at 0x000001D75E3D2080>, <hospital_test.models.Address object at 0x000001D75E3D25F8>, <hospital_test.models.Address object at 0x000001D75E3D2860>]}
2020-03-11 12:07:05,608 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2160>
2020-03-11 12:07:05,608 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:07:05,608 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,609 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:05,609 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:07:05,610 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:07:05,610 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,611 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:05,611 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:07:05,612 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:07:05,612 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:05,612 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:07:05,612 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:07:05,613 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:05,613 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:05,614 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:05,614 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:05,614 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2160> checked out from pool
2020-03-11 12:07:05,614 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:07:05,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 12:07:05,615 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 12:07:05,615 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 12:07:05,615 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 12:07:05,615 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2160> being returned to pool
2020-03-11 12:07:05,615 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3D2160> rollback-on-return, via agent
2020-03-11 12:07:05,616 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:07:05,616 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E3D2550>, <hospital_test.models.Address object at 0x000001D75E3D2080>, <hospital_test.models.Address object at 0x000001D75E3D25F8>, <hospital_test.models.Address object at 0x000001D75E3D2860>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E4EDA90>]}
2020-03-11 12:07:10,451 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446F60>
2020-03-11 12:07:10,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:07:10,452 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,454 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:10,455 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:07:10,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:07:10,455 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,457 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:10,457 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:07:10,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:07:10,458 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,458 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:07:10,458 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:07:10,459 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:10,459 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:10,460 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:10,460 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:10,461 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446F60> checked out from pool
2020-03-11 12:07:10,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `pres_consignee`
2020-03-11 12:07:10,461 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,462 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:07:10,462 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:07:10,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid _prescriptions`
2020-03-11 12:07:10,462 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,463 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:07:10,464 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-11 12:07:10,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `mid_prescription_details`
2020-03-11 12:07:10,464 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,465 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:07:10,465 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-11 12:07:10,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:DESCRIBE `custom_addr`
2020-03-11 12:07:10,465 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,466 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-11 12:07:10,466 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-11 12:07:10,466 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446F60> being returned to pool
2020-03-11 12:07:10,466 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E446F60> rollback-on-return
2020-03-11 12:07:10,467 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3E5898>
2020-03-11 12:07:10,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:07:10,468 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,469 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:10,469 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:07:10,469 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:07:10,469 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,470 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:10,470 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:07:10,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:07:10,471 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,471 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:07:10,471 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('addr_test',)
2020-03-11 12:07:10,472 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:10,472 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:10,472 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:10,473 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:10,473 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3E5898> checked out from pool
2020-03-11 12:07:10,473 root:INFO:models:mysql_connect:MainProcess:22124:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_202001249876'and p.treat_card ='5550008088';
2020-03-11 12:07:10,473 root:INFO:models:mysql_connect:MainProcess:22124:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-11 12:07:10,473 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3E5898> being returned to pool
2020-03-11 12:07:10,473 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3E5898> rollback-on-return
2020-03-11 12:07:10,476 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46DA90>
2020-03-11 12:07:10,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:07:10,476 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,477 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:10,477 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:07:10,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:07:10,478 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,478 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:10,479 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:07:10,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:07:10,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,480 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:07:10,480 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:07:10,480 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:10,481 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:10,481 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:10,481 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:10,482 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46DA90> checked out from pool
2020-03-11 12:07:10,482 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:07:10,483 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-11 12:07:10,483 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'custom_num_1': '5550008088'}
2020-03-11 12:07:10,484 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-11 12:07:10,484 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-11 12:07:10,484 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-11 12:07:10,484 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:07:10,484 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-11 12:07:10,484 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46DA90> being returned to pool
2020-03-11 12:07:10,484 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E46DA90> rollback-on-return, via agent
2020-03-11 12:07:10,484 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:07:10,484 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E3E5940>, <hospital_test.models.Address object at 0x000001D75E3E5898>, <hospital_test.models.Address object at 0x000001D75E3E50F0>, <hospital_test.models.Address object at 0x000001D75E3E5470>]}
2020-03-11 12:07:10,487 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:22124:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3E5EF0>
2020-03-11 12:07:10,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'sql_mode'
2020-03-11 12:07:10,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,489 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:10,489 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-11 12:07:10,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-11 12:07:10,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,490 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('Variable_name', 'Value')
2020-03-11 12:07:10,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('lower_case_table_names', '1')
2020-03-11 12:07:10,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT DATABASE()
2020-03-11 12:07:10,491 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{}
2020-03-11 12:07:10,491 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('DATABASE()',)
2020-03-11 12:07:10,491 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('zhyf_host',)
2020-03-11 12:07:10,492 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:10,492 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:10,493 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-11 12:07:10,493 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:22124:{}
2020-03-11 12:07:10,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3E5EF0> checked out from pool
2020-03-11 12:07:10,494 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:22124:BEGIN (implicit)
2020-03-11 12:07:10,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-11 12:07:10,494 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:22124:{'pres_num_1': 'MZ_202001249876'}
2020-03-11 12:07:10,495 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:22124:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-11 12:07:10,495 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:22124:Row ('MZ_202001249876', 6, None, 0)
2020-03-11 12:07:10,495 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3E5EF0> being returned to pool
2020-03-11 12:07:10,495 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:22124:Connection <mysql.connector.connection.MySQLConnection object at 0x000001D75E3E5EF0> rollback-on-return, via agent
2020-03-11 12:07:10,495 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:22124:ROLLBACK
2020-03-11 12:07:10,495 root:INFO:views:entry_addr:MainProcess:22124:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_202001249876', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001D75E3E5940>, <hospital_test.models.Address object at 0x000001D75E3E5898>, <hospital_test.models.Address object at 0x000001D75E3E50F0>, <hospital_test.models.Address object at 0x000001D75E3E5470>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001D75E421358>]}
2020-03-11 12:07:23,838 root:INFO:views:get_hos_properties:MainProcess:22124:is_hos_addr:1
2020-03-11 12:07:23,838 root:INFO:views:get_hos_properties:MainProcess:22124:医院信息：{"companyprovince": "云南省", "companycity": "昆明市", "companyzone": "盘龙区", "companyaddress": "穿金路733号", "companyname": "云南省精神病医院", "companytel": "0871-65619101"}
2020-03-11 12:58:31,302 django.utils.autoreload:INFO:autoreload:trigger_reload:MainProcess:22124:C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py changed, reloading.
2020-03-11 12:58:31,306 asyncio:DEBUG:selector_events:__init__:MainProcess:22124:Using selector: SelectSelector
2020-03-12 02:40:43,963 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132AF470>
2020-03-12 02:40:43,965 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 02:40:43,966 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:43,989 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 02:40:43,989 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 02:40:43,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 02:40:43,990 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:43,991 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 02:40:43,991 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 02:40:43,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 02:40:43,994 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:43,995 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 02:40:43,995 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 02:40:43,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 02:40:43,996 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 02:40:43,998 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 02:40:43,998 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 02:40:43,999 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132AF470> checked out from pool
2020-03-12 02:40:43,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 02:40:43,999 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,018 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 02:40:44,018 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 02:40:44,018 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 02:40:44,018 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,021 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 02:40:44,021 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 02:40:44,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 02:40:44,021 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,022 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 02:40:44,022 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 02:40:44,023 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 02:40:44,023 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,023 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 02:40:44,023 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 02:40:44,024 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132AF470> being returned to pool
2020-03-12 02:40:44,024 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132AF470> rollback-on-return
2020-03-12 02:40:44,028 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E1EC50>
2020-03-12 02:40:44,028 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 02:40:44,028 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,030 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 02:40:44,030 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 02:40:44,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 02:40:44,030 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,032 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 02:40:44,032 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 02:40:44,033 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 02:40:44,033 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,033 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 02:40:44,033 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 02:40:44,034 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 02:40:44,035 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 02:40:44,036 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 02:40:44,036 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 02:40:44,036 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E1EC50> checked out from pool
2020-03-12 02:40:44,037 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905203324'and p.treat_card ='0565188';
2020-03-12 02:40:44,040 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["0565188", "张丽仙", "15887841947"]]
2020-03-12 02:40:44,041 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E1EC50> being returned to pool
2020-03-12 02:40:44,041 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E1EC50> rollback-on-return
2020-03-12 02:40:44,048 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E0D2B0>
2020-03-12 02:40:44,048 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 02:40:44,048 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,050 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 02:40:44,050 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 02:40:44,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 02:40:44,050 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,051 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 02:40:44,052 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 02:40:44,052 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 02:40:44,052 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,053 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 02:40:44,053 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 02:40:44,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 02:40:44,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 02:40:44,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 02:40:44,054 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 02:40:44,055 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E0D2B0> checked out from pool
2020-03-12 02:40:44,055 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 02:40:44,056 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 02:40:44,056 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '0565188'}
2020-03-12 02:40:44,058 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 02:40:44,058 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E0D2B0> being returned to pool
2020-03-12 02:40:44,058 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E0D2B0> rollback-on-return, via agent
2020-03-12 02:40:44,058 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 02:40:44,059 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': []}
2020-03-12 02:40:44,063 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13362898>
2020-03-12 02:40:44,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 02:40:44,063 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,065 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 02:40:44,065 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 02:40:44,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 02:40:44,065 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,066 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 02:40:44,066 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 02:40:44,066 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 02:40:44,066 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 02:40:44,067 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 02:40:44,067 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 02:40:44,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 02:40:44,067 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 02:40:44,068 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 02:40:44,068 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 02:40:44,069 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13362898> checked out from pool
2020-03-12 02:40:44,069 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 02:40:44,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 02:40:44,069 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201905203324'}
2020-03-12 02:40:44,071 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 02:40:44,071 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13362898> being returned to pool
2020-03-12 02:40:44,071 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13362898> rollback-on-return, via agent
2020-03-12 02:40:44,071 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 02:40:44,071 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 03:07:13,076 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED130091D0>
2020-03-12 03:07:13,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:13,076 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,078 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:13,078 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:13,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:13,079 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,080 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:13,080 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:13,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:13,081 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,081 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:13,081 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:07:13,082 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:13,082 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:13,083 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:13,083 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:13,083 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED130091D0> checked out from pool
2020-03-12 03:07:13,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:07:13,083 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,085 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:13,085 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:07:13,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:07:13,085 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,087 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:13,087 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:07:13,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:07:13,088 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,088 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:13,088 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:07:13,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:07:13,089 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,090 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:13,090 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:07:13,090 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED130091D0> being returned to pool
2020-03-12 03:07:13,090 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED130091D0> rollback-on-return
2020-03-12 03:07:13,094 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132A1198>
2020-03-12 03:07:13,094 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:13,095 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,096 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:13,096 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:13,096 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:13,097 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:13,098 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:13,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:13,098 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,098 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:13,098 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 03:07:13,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:13,099 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:13,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:13,100 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:13,100 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132A1198> checked out from pool
2020-03-12 03:07:13,100 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905203324'and p.treat_card ='0565188';
2020-03-12 03:07:13,101 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["0565188", "张丽仙", "15887841947"]]
2020-03-12 03:07:13,101 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132A1198> being returned to pool
2020-03-12 03:07:13,101 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132A1198> rollback-on-return
2020-03-12 03:07:13,104 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132650F0>
2020-03-12 03:07:13,104 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:13,104 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,106 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:13,106 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:13,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:13,106 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,107 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:13,107 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:13,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:13,108 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,108 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:13,108 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:07:13,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:13,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:13,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:13,109 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:13,110 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132650F0> checked out from pool
2020-03-12 03:07:13,110 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:07:13,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:07:13,110 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '0565188'}
2020-03-12 03:07:13,111 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:07:13,111 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132650F0> being returned to pool
2020-03-12 03:07:13,111 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED132650F0> rollback-on-return, via agent
2020-03-12 03:07:13,111 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:07:13,111 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': []}
2020-03-12 03:07:13,115 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1311B0F0>
2020-03-12 03:07:13,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:13,116 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,117 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:13,117 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:13,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:13,117 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,118 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:13,119 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:13,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:13,119 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:13,119 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:13,120 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:07:13,120 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:13,121 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:13,121 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:13,121 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:13,122 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1311B0F0> checked out from pool
2020-03-12 03:07:13,122 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:07:13,122 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:07:13,122 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201905203324'}
2020-03-12 03:07:13,123 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:07:13,123 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1311B0F0> being returned to pool
2020-03-12 03:07:13,123 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1311B0F0> rollback-on-return, via agent
2020-03-12 03:07:13,123 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:07:13,123 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 03:07:51,628 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F2C080>
2020-03-12 03:07:51,628 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:51,629 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,631 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:51,632 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:51,632 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:51,633 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,634 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:51,634 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:51,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:51,636 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,636 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:51,636 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:07:51,637 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:51,638 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:51,638 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:51,638 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:51,639 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F2C080> checked out from pool
2020-03-12 03:07:51,639 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:07:51,639 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,640 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:51,640 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:07:51,640 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:07:51,640 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,642 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:51,642 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:07:51,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:07:51,642 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,643 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:51,643 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:07:51,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:07:51,644 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,645 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:51,645 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:07:51,645 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F2C080> being returned to pool
2020-03-12 03:07:51,645 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F2C080> rollback-on-return
2020-03-12 03:07:51,649 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13243198>
2020-03-12 03:07:51,649 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:51,650 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,651 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:51,651 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:51,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:51,651 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,653 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:51,653 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:51,654 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:51,654 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,654 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:51,654 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 03:07:51,655 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:51,655 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:51,656 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:51,656 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:51,656 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13243198> checked out from pool
2020-03-12 03:07:51,656 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:07:51,657 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:07:51,658 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13243198> being returned to pool
2020-03-12 03:07:51,658 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13243198> rollback-on-return
2020-03-12 03:07:51,661 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13385A58>
2020-03-12 03:07:51,662 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:51,662 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,664 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:51,664 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:51,664 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:51,665 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,666 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:51,666 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:51,668 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:51,668 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,668 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:51,668 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:07:51,669 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:51,669 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:51,670 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:51,670 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:51,670 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13385A58> checked out from pool
2020-03-12 03:07:51,670 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:07:51,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:07:51,671 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '5550008088'}
2020-03-12 03:07:51,672 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:07:51,672 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:07:51,673 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:07:51,673 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:07:51,673 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:07:51,673 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13385A58> being returned to pool
2020-03-12 03:07:51,673 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13385A58> rollback-on-return, via agent
2020-03-12 03:07:51,673 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:07:51,673 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001ED12F1BBA8>, <hospital_test.models.Address object at 0x000001ED12DC32E8>, <hospital_test.models.Address object at 0x000001ED12DC3B38>, <hospital_test.models.Address object at 0x000001ED12DC3400>]}
2020-03-12 03:07:51,676 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A7B8>
2020-03-12 03:07:51,677 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:51,677 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,678 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:51,678 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:51,678 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:51,679 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,680 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:51,680 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:51,680 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:51,680 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:51,681 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:51,681 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:07:51,682 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:51,682 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:51,682 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:51,682 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:51,683 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A7B8> checked out from pool
2020-03-12 03:07:51,683 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:07:51,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:07:51,683 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:07:51,685 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:07:51,685 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:07:51,685 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A7B8> being returned to pool
2020-03-12 03:07:51,685 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A7B8> rollback-on-return, via agent
2020-03-12 03:07:51,685 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:07:51,685 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001ED12F1BBA8>, <hospital_test.models.Address object at 0x000001ED12DC32E8>, <hospital_test.models.Address object at 0x000001ED12DC3B38>, <hospital_test.models.Address object at 0x000001ED12DC3400>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001ED12F11278>]}
2020-03-12 03:07:54,796 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1321F208>
2020-03-12 03:07:54,797 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:07:54,797 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:54,799 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:54,799 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:07:54,799 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:07:54,799 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:54,801 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:07:54,801 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:07:54,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:07:54,802 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:54,803 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:07:54,803 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:07:54,804 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:54,804 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:54,805 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:07:54,805 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:07:54,805 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1321F208> checked out from pool
2020-03-12 03:07:54,806 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:07:54,806 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:54,807 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:54,807 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:07:54,807 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:07:54,807 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:54,808 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:54,808 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:07:54,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:07:54,809 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:54,810 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:54,810 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:07:54,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:07:54,810 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:07:54,811 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:07:54,812 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:07:54,812 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1321F208> being returned to pool
2020-03-12 03:07:54,812 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1321F208> rollback-on-return
2020-03-12 03:07:54,885 django.request:ERROR:log:log_response:MainProcess:21264:Internal Server Error: /customAddr/entry_addr.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\utils\datastructures.py", line 76, in __getitem__
    list_ = super().__getitem__(key)
KeyError: 'pres_num'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 24, in entry_addr
    pres_num = request.GET['pres_num']
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\utils\datastructures.py", line 78, in __getitem__
    raise MultiValueDictKeyError(key)
django.utils.datastructures.MultiValueDictKeyError: 'pres_num'
2020-03-12 03:10:07,877 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3DD8>
2020-03-12 03:10:07,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:07,878 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,879 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:07,880 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:07,880 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:07,880 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,881 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:07,882 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:07,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:07,882 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,882 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:07,882 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:10:07,883 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:07,883 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:07,883 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:07,884 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:07,884 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3DD8> checked out from pool
2020-03-12 03:10:07,884 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:10:07,884 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,885 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:07,885 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:10:07,885 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:10:07,885 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,887 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:07,887 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:10:07,887 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:10:07,887 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,888 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:07,888 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:10:07,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:10:07,888 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,889 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:07,889 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:10:07,889 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3DD8> being returned to pool
2020-03-12 03:10:07,890 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3DD8> rollback-on-return
2020-03-12 03:10:07,892 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3470>
2020-03-12 03:10:07,892 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:07,892 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,894 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:07,894 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:07,894 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:07,894 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,895 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:07,895 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:07,896 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:07,896 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,896 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:07,896 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 03:10:07,897 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:07,897 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:07,897 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:07,897 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:07,898 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3470> checked out from pool
2020-03-12 03:10:07,898 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905316950'and p.treat_card ='0565050';
2020-03-12 03:10:07,899 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["0565050", "周飞成", "15819496733"]]
2020-03-12 03:10:07,899 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3470> being returned to pool
2020-03-12 03:10:07,899 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3470> rollback-on-return
2020-03-12 03:10:07,901 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FBE780>
2020-03-12 03:10:07,901 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:07,901 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,902 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:07,903 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:07,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:07,903 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,904 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:07,904 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:07,904 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:07,904 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,905 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:07,905 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:10:07,906 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:07,906 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:07,906 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:07,906 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:07,907 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FBE780> checked out from pool
2020-03-12 03:10:07,907 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:10:07,908 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:10:07,908 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '0565050'}
2020-03-12 03:10:07,908 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:10:07,909 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FBE780> being returned to pool
2020-03-12 03:10:07,909 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FBE780> rollback-on-return, via agent
2020-03-12 03:10:07,909 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:10:07,909 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565050', 'username': '周飞成', 'tel': '15819496733', 'pres_num': 'MZ_201905316950', 'custom_num': '0565050', 'addr_lists': []}
2020-03-12 03:10:07,913 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13362908>
2020-03-12 03:10:07,913 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:07,913 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,914 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:07,914 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:07,915 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:07,915 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,916 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:07,916 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:07,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:07,916 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:07,917 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:07,917 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:10:07,918 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:07,918 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:07,918 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:07,918 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:07,919 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13362908> checked out from pool
2020-03-12 03:10:07,919 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:10:07,919 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:10:07,919 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201905316950'}
2020-03-12 03:10:07,920 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:10:07,920 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13362908> being returned to pool
2020-03-12 03:10:07,920 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13362908> rollback-on-return, via agent
2020-03-12 03:10:07,920 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:10:07,920 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565050', 'username': '周飞成', 'tel': '15819496733', 'pres_num': 'MZ_201905316950', 'custom_num': '0565050', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 03:10:25,310 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13396470>
2020-03-12 03:10:25,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:25,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,312 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:25,313 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:25,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:25,313 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,315 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:25,315 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:25,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:25,316 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,316 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:25,316 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:10:25,317 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:25,317 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:25,318 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:25,318 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:25,318 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13396470> checked out from pool
2020-03-12 03:10:25,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:10:25,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,320 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:25,320 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:10:25,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:10:25,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:25,322 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:10:25,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:10:25,323 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,324 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:25,324 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:10:25,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:10:25,324 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,325 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:25,325 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:10:25,325 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13396470> being returned to pool
2020-03-12 03:10:25,325 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13396470> rollback-on-return
2020-03-12 03:10:25,328 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370CF8>
2020-03-12 03:10:25,329 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:25,329 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,330 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:25,330 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:25,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:25,330 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,332 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:25,332 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:25,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:25,333 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,333 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:25,333 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 03:10:25,334 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:25,334 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:25,334 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:25,334 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:25,335 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370CF8> checked out from pool
2020-03-12 03:10:25,335 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:10:25,335 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:10:25,336 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370CF8> being returned to pool
2020-03-12 03:10:25,336 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370CF8> rollback-on-return
2020-03-12 03:10:25,338 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F4FBE0>
2020-03-12 03:10:25,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:25,339 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,340 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:25,340 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:25,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:25,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,343 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:25,343 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:25,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:25,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,344 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:25,344 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:10:25,345 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:25,346 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:25,346 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:25,346 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:25,347 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F4FBE0> checked out from pool
2020-03-12 03:10:25,347 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:10:25,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:10:25,348 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '5550008088'}
2020-03-12 03:10:25,348 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:10:25,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:10:25,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:10:25,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:10:25,348 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:10:25,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F4FBE0> being returned to pool
2020-03-12 03:10:25,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F4FBE0> rollback-on-return, via agent
2020-03-12 03:10:25,349 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:10:25,349 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001ED12F65C18>, <hospital_test.models.Address object at 0x000001ED12F65E10>, <hospital_test.models.Address object at 0x000001ED12F65E48>, <hospital_test.models.Address object at 0x000001ED1311B1D0>]}
2020-03-12 03:10:25,351 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370CF8>
2020-03-12 03:10:25,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:25,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,353 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:25,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:25,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:25,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:25,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:25,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:25,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:25,355 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:25,355 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:10:25,356 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:25,356 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:25,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:25,357 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:25,357 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370CF8> checked out from pool
2020-03-12 03:10:25,357 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:10:25,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:10:25,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:10:25,358 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:10:25,358 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:10:25,358 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370CF8> being returned to pool
2020-03-12 03:10:25,358 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370CF8> rollback-on-return, via agent
2020-03-12 03:10:25,358 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:10:25,359 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001ED12F65C18>, <hospital_test.models.Address object at 0x000001ED12F65E10>, <hospital_test.models.Address object at 0x000001ED12F65E48>, <hospital_test.models.Address object at 0x000001ED1311B1D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001ED1306AF98>]}
2020-03-12 03:10:44,396 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12DC33C8>
2020-03-12 03:10:44,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:10:44,397 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:44,399 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:44,399 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:10:44,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:10:44,399 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:44,401 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:10:44,401 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:10:44,401 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:10:44,402 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:44,402 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:10:44,402 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:10:44,403 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:44,403 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:44,403 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:10:44,403 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:10:44,403 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12DC33C8> checked out from pool
2020-03-12 03:10:44,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:10:44,404 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:44,405 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:44,405 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:10:44,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:10:44,406 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:44,407 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:44,407 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:10:44,408 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:10:44,408 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:44,409 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:44,409 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:10:44,410 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:10:44,410 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:10:44,411 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:10:44,411 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:10:44,411 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12DC33C8> being returned to pool
2020-03-12 03:10:44,411 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12DC33C8> rollback-on-return
2020-03-12 03:10:44,435 django.request:ERROR:log:log_response:MainProcess:21264:Internal Server Error: /customAddr/entry_addr.do
Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\utils\datastructures.py", line 76, in __getitem__
    list_ = super().__getitem__(key)
KeyError: 'pres_num'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\exception.py", line 34, in inner
    response = get_response(request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\core\handlers\base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\hospital_test\views.py", line 24, in entry_addr
    pres_num = request.GET['pres_num']
  File "C:\Users\Vincent\PycharmProjects\hospital_docking\hospital_docking\venv\lib\site-packages\django\utils\datastructures.py", line 78, in __getitem__
    raise MultiValueDictKeyError(key)
django.utils.datastructures.MultiValueDictKeyError: 'pres_num'
2020-03-12 03:22:49,466 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1341A438>
2020-03-12 03:22:49,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:22:49,467 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,470 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:49,470 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:22:49,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:22:49,470 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,472 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:49,472 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:22:49,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:22:49,473 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,473 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:22:49,473 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:22:49,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:49,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:49,474 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:49,475 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:49,475 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1341A438> checked out from pool
2020-03-12 03:22:49,475 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:22:49,475 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,476 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:22:49,476 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:22:49,477 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:22:49,477 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,479 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:22:49,479 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:22:49,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:22:49,479 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,481 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:22:49,481 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:22:49,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:22:49,481 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,482 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:22:49,482 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:22:49,483 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1341A438> being returned to pool
2020-03-12 03:22:49,483 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1341A438> rollback-on-return
2020-03-12 03:22:49,486 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F65908>
2020-03-12 03:22:49,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:22:49,486 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,487 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:49,488 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:22:49,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:22:49,488 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,489 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:49,489 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:22:49,489 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:22:49,490 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,490 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:22:49,490 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 03:22:49,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:49,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:49,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:49,491 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:49,492 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F65908> checked out from pool
2020-03-12 03:22:49,492 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905203324'and p.treat_card ='0565188';
2020-03-12 03:22:49,493 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["0565188", "张丽仙", "15887841947"]]
2020-03-12 03:22:49,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F65908> being returned to pool
2020-03-12 03:22:49,493 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F65908> rollback-on-return
2020-03-12 03:22:49,497 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13437748>
2020-03-12 03:22:49,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:22:49,497 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,499 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:49,499 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:22:49,500 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:22:49,500 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,501 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:49,501 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:22:49,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:22:49,502 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,502 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:22:49,502 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:22:49,504 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:49,504 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:49,504 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:49,504 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:49,505 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13437748> checked out from pool
2020-03-12 03:22:49,505 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:22:49,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:22:49,506 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '0565188'}
2020-03-12 03:22:49,506 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:22:49,506 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13437748> being returned to pool
2020-03-12 03:22:49,506 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13437748> rollback-on-return, via agent
2020-03-12 03:22:49,506 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:22:49,507 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': []}
2020-03-12 03:22:49,509 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F65940>
2020-03-12 03:22:49,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:22:49,510 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,511 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:49,511 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:22:49,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:22:49,512 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,513 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:49,513 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:22:49,514 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:22:49,514 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:49,514 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:22:49,515 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:22:49,516 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:49,516 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:49,516 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:49,516 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:49,517 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F65940> checked out from pool
2020-03-12 03:22:49,517 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:22:49,517 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:22:49,518 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201905203324'}
2020-03-12 03:22:49,518 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:22:49,518 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F65940> being returned to pool
2020-03-12 03:22:49,518 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12F65940> rollback-on-return, via agent
2020-03-12 03:22:49,518 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:22:49,518 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 03:22:57,341 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A860>
2020-03-12 03:22:57,341 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:22:57,342 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,343 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:57,344 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:22:57,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:22:57,344 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,346 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:57,346 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:22:57,346 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:22:57,347 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,347 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:22:57,347 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:22:57,348 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:57,348 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:57,349 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:57,349 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:57,349 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A860> checked out from pool
2020-03-12 03:22:57,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:22:57,349 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,350 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:22:57,350 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:22:57,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:22:57,351 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,353 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:22:57,353 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:22:57,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:22:57,353 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,354 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:22:57,354 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:22:57,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:22:57,355 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,355 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:22:57,355 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:22:57,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A860> being returned to pool
2020-03-12 03:22:57,356 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A860> rollback-on-return
2020-03-12 03:22:57,358 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED131399B0>
2020-03-12 03:22:57,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:22:57,358 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,359 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:57,359 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:22:57,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:22:57,360 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,362 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:57,362 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:22:57,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:22:57,363 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,363 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:22:57,363 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 03:22:57,364 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:57,364 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:57,365 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:57,365 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:57,365 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED131399B0> checked out from pool
2020-03-12 03:22:57,366 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905316950'and p.treat_card ='0565050';
2020-03-12 03:22:57,366 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["0565050", "周飞成", "15819496733"]]
2020-03-12 03:22:57,366 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED131399B0> being returned to pool
2020-03-12 03:22:57,366 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED131399B0> rollback-on-return
2020-03-12 03:22:57,369 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FF8898>
2020-03-12 03:22:57,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:22:57,369 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,370 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:57,370 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:22:57,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:22:57,371 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,372 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:57,372 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:22:57,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:22:57,373 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,373 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:22:57,373 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:22:57,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:57,374 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:57,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:57,375 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:57,376 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FF8898> checked out from pool
2020-03-12 03:22:57,376 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:22:57,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:22:57,377 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '0565050'}
2020-03-12 03:22:57,377 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:22:57,378 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FF8898> being returned to pool
2020-03-12 03:22:57,378 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FF8898> rollback-on-return, via agent
2020-03-12 03:22:57,378 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:22:57,378 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565050', 'username': '周飞成', 'tel': '15819496733', 'pres_num': 'MZ_201905316950', 'custom_num': '0565050', 'addr_lists': []}
2020-03-12 03:22:57,382 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A9E8>
2020-03-12 03:22:57,382 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:22:57,383 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,384 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:57,384 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:22:57,384 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:22:57,384 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,386 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:22:57,386 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:22:57,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:22:57,387 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:22:57,387 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:22:57,387 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:22:57,388 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:57,388 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:57,389 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:22:57,389 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:22:57,389 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A9E8> checked out from pool
2020-03-12 03:22:57,389 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:22:57,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:22:57,390 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201905316950'}
2020-03-12 03:22:57,391 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:22:57,391 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A9E8> being returned to pool
2020-03-12 03:22:57,391 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1315A9E8> rollback-on-return, via agent
2020-03-12 03:22:57,391 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:22:57,392 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565050', 'username': '周飞成', 'tel': '15819496733', 'pres_num': 'MZ_201905316950', 'custom_num': '0565050', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 03:23:23,750 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED130A0470>
2020-03-12 03:23:23,751 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:23,751 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,753 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:23,753 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:23,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:23,754 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,755 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:23,755 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:23:23,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:23:23,756 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,756 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:23:23,756 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:23:23,757 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:23,757 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:23,757 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:23,757 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:23,758 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED130A0470> checked out from pool
2020-03-12 03:23:23,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:23:23,758 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,759 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:23,759 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:23:23,759 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:23:23,759 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,762 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:23,762 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:23:23,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:23:23,762 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,763 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:23,763 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:23:23,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:23:23,764 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,764 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:23,764 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:23:23,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED130A0470> being returned to pool
2020-03-12 03:23:23,765 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED130A0470> rollback-on-return
2020-03-12 03:23:23,767 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E1EC88>
2020-03-12 03:23:23,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:23,767 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,769 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:23,769 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:23,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:23,769 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,770 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:23,770 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:23:23,771 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:23:23,771 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,771 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:23:23,771 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 03:23:23,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:23,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:23,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:23,773 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:23,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E1EC88> checked out from pool
2020-03-12 03:23:23,774 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201905203324'and p.treat_card ='0565188';
2020-03-12 03:23:23,774 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["0565188", "张丽仙", "15887841947"]]
2020-03-12 03:23:23,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E1EC88> being returned to pool
2020-03-12 03:23:23,774 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12E1EC88> rollback-on-return
2020-03-12 03:23:23,777 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370DA0>
2020-03-12 03:23:23,777 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:23,778 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,779 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:23,779 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:23,779 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:23,779 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,780 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:23,781 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:23:23,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:23:23,782 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,782 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:23:23,782 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:23:23,783 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:23,783 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:23,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:23,784 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:23,784 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370DA0> checked out from pool
2020-03-12 03:23:23,784 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:23:23,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:23:23,785 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '0565188'}
2020-03-12 03:23:23,786 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:23:23,786 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370DA0> being returned to pool
2020-03-12 03:23:23,786 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13370DA0> rollback-on-return, via agent
2020-03-12 03:23:23,786 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:23:23,786 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': []}
2020-03-12 03:23:23,788 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3940>
2020-03-12 03:23:23,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:23,789 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,790 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:23,790 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:23,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:23,790 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,791 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:23,792 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:23:23,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:23:23,792 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:23,793 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:23:23,793 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:23:23,794 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:23,794 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:23,794 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:23,794 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:23,795 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3940> checked out from pool
2020-03-12 03:23:23,795 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:23:23,796 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:23:23,796 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201905203324'}
2020-03-12 03:23:23,796 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:23:23,796 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3940> being returned to pool
2020-03-12 03:23:23,796 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FD3940> rollback-on-return, via agent
2020-03-12 03:23:23,796 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:23:23,797 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '0565188', 'username': '张丽仙', 'tel': '15887841947', 'pres_num': 'MZ_201905203324', 'custom_num': '0565188', 'addr_lists': [], 'pres_addr_info': []}
2020-03-12 03:23:30,275 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FE6588>
2020-03-12 03:23:30,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:30,275 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,276 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:30,276 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:30,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:30,277 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,279 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:30,279 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:23:30,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:23:30,279 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,280 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:23:30,280 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:23:30,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:30,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:30,281 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:30,282 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:30,282 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FE6588> checked out from pool
2020-03-12 03:23:30,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `pres_consignee`
2020-03-12 03:23:30,282 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,283 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:30,283 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:23:30,283 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid _prescriptions`
2020-03-12 03:23:30,284 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,285 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:30,285 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(50)', 'NO', 'PRI', None, '')
2020-03-12 03:23:30,285 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `mid_prescription_details`
2020-03-12 03:23:30,286 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,287 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:30,287 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('pres_num', 'varchar(36)', 'NO', 'PRI', None, '')
2020-03-12 03:23:30,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:DESCRIBE `custom_addr`
2020-03-12 03:23:30,287 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,288 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Field', 'Type', 'Null', 'Key', 'Default', 'Extra')
2020-03-12 03:23:30,288 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_id', 'int(11)', 'NO', 'PRI', None, 'auto_increment')
2020-03-12 03:23:30,288 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FE6588> being returned to pool
2020-03-12 03:23:30,288 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FE6588> rollback-on-return
2020-03-12 03:23:30,290 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FF83C8>
2020-03-12 03:23:30,290 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:30,290 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,292 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:30,292 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:30,292 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:30,292 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,293 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:30,294 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:23:30,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:23:30,295 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,295 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:23:30,295 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('addr_test',)
2020-03-12 03:23:30,296 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:30,296 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:30,297 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:30,297 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:30,298 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FF83C8> checked out from pool
2020-03-12 03:23:30,298 root:INFO:models:mysql_connect:MainProcess:21264:==> executing:select p.treat_card,p.username,p.tel from MZ_hosp_prescriptions_view p where p.pres_num ='MZ_201912203096'and p.treat_card ='5550008088';
2020-03-12 03:23:30,300 root:INFO:models:mysql_connect:MainProcess:21264:==> Parameters:[["5550008088", "马彬", "18687854124"]]
2020-03-12 03:23:30,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FF83C8> being returned to pool
2020-03-12 03:23:30,300 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED12FF83C8> rollback-on-return
2020-03-12 03:23:30,304 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1321F358>
2020-03-12 03:23:30,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:30,304 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,306 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:30,306 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:30,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:30,306 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,307 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:30,307 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:23:30,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:23:30,308 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,308 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:23:30,308 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:23:30,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:30,309 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:30,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:30,310 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:30,310 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1321F358> checked out from pool
2020-03-12 03:23:30,310 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:23:30,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT custom_addr.addr_id AS custom_addr_addr_id, custom_addr.custom_num AS custom_addr_custom_num, custom_addr.consignee AS custom_addr_consignee, custom_addr.con_tel AS custom_addr_con_tel, custom_addr.province AS custom_addr_province, custom_addr.city AS custom_addr_city, custom_addr.zone AS custom_addr_zone, custom_addr.addr_detail AS custom_addr_addr_detail, custom_addr.is_hos_addr AS custom_addr_is_hos_addr, custom_addr.auto_state AS custom_addr_auto_state 
FROM custom_addr 
WHERE custom_addr.custom_num = %(custom_num_1)s ORDER BY custom_addr.addr_id
2020-03-12 03:23:30,311 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'custom_num_1': '5550008088'}
2020-03-12 03:23:30,312 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('custom_addr_addr_id', 'custom_addr_custom_num', 'custom_addr_consignee', 'custom_addr_con_tel', 'custom_addr_province', 'custom_addr_city', 'custom_addr_zone', 'custom_addr_addr_detail', 'custom_addr_is_hos_addr', 'custom_addr_auto_state')
2020-03-12 03:23:30,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (6, '5550008088', '马彬', '18687854124', '江苏省', '无锡市', '滨湖区', '翠屏山', 2, 1)
2020-03-12 03:23:30,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (7, '5550008088', '马彬', '18687854124', '辽宁省', '大连市', '中山区', '叽里呱啦', 2, 1)
2020-03-12 03:23:30,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (8, '5550008088', '云南省精神病医院', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:23:30,312 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row (9, '5550008088', '马彬', '0871-65619101', '云南省', '市', '区', '云南省昆明市盘龙区穿金路733号', 1, 0)
2020-03-12 03:23:30,312 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1321F358> being returned to pool
2020-03-12 03:23:30,313 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED1321F358> rollback-on-return, via agent
2020-03-12 03:23:30,313 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:23:30,313 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001ED1325E9E8>, <hospital_test.models.Address object at 0x000001ED1325EC18>, <hospital_test.models.Address object at 0x000001ED1325EDA0>, <hospital_test.models.Address object at 0x000001ED133961D0>]}
2020-03-12 03:23:30,318 sqlalchemy.pool.impl.QueuePool:DEBUG:base:__connect:MainProcess:21264:Created new connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13396400>
2020-03-12 03:23:30,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'sql_mode'
2020-03-12 03:23:30,319 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,320 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:30,320 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('sql_mode', 'STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION')
2020-03-12 03:23:30,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SHOW VARIABLES LIKE 'lower_case_table_names'
2020-03-12 03:23:30,320 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,321 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('Variable_name', 'Value')
2020-03-12 03:23:30,321 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('lower_case_table_names', '1')
2020-03-12 03:23:30,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT DATABASE()
2020-03-12 03:23:30,322 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{}
2020-03-12 03:23:30,322 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('DATABASE()',)
2020-03-12 03:23:30,322 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('zhyf_host',)
2020-03-12 03:23:30,323 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test plain returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:30,324 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:30,324 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:SELECT CAST('test unicode returns' AS CHAR(60)) AS anon_1
2020-03-12 03:23:30,324 sqlalchemy.engine.base.Engine:INFO:base:_cursor_execute:MainProcess:21264:{}
2020-03-12 03:23:30,325 sqlalchemy.pool.impl.QueuePool:DEBUG:base:checkout:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13396400> checked out from pool
2020-03-12 03:23:30,325 sqlalchemy.engine.base.Engine:INFO:base:_begin_impl:MainProcess:21264:BEGIN (implicit)
2020-03-12 03:23:30,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:SELECT pres_consignee.pres_num AS pres_consignee_pres_num, pres_consignee.addr_id AS pres_consignee_addr_id, pres_consignee.send_goods_time AS pres_consignee_send_goods_time, pres_consignee.is_write_mid AS pres_consignee_is_write_mid 
FROM pres_consignee 
WHERE pres_consignee.pres_num = %(pres_num_1)s
2020-03-12 03:23:30,325 sqlalchemy.engine.base.Engine:INFO:base:_execute_context:MainProcess:21264:{'pres_num_1': 'MZ_201912203096'}
2020-03-12 03:23:30,326 sqlalchemy.engine.base.Engine:DEBUG:result:_init_metadata:MainProcess:21264:Col ('pres_consignee_pres_num', 'pres_consignee_addr_id', 'pres_consignee_send_goods_time', 'pres_consignee_is_write_mid')
2020-03-12 03:23:30,326 sqlalchemy.engine.base.Engine:DEBUG:result:process_rows:MainProcess:21264:Row ('MZ_201912203096', 7, None, 0)
2020-03-12 03:23:30,326 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_finalize_fairy:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13396400> being returned to pool
2020-03-12 03:23:30,326 sqlalchemy.pool.impl.QueuePool:DEBUG:base:_reset:MainProcess:21264:Connection <mysql.connector.connection.MySQLConnection object at 0x000001ED13396400> rollback-on-return, via agent
2020-03-12 03:23:30,326 sqlalchemy.engine.base.Engine:INFO:base:_rollback_impl:MainProcess:21264:ROLLBACK
2020-03-12 03:23:30,326 root:INFO:views:entry_addr:MainProcess:21264:{'treat_card': '5550008088', 'username': '马彬', 'tel': '18687854124', 'pres_num': 'MZ_201912203096', 'custom_num': '5550008088', 'addr_lists': [<hospital_test.models.Address object at 0x000001ED1325E9E8>, <hospital_test.models.Address object at 0x000001ED1325EC18>, <hospital_test.models.Address object at 0x000001ED1325EDA0>, <hospital_test.models.Address object at 0x000001ED133961D0>], 'pres_addr_info': [<hospital_test.models.Consignee object at 0x000001ED133D8438>]}
2020-03-12 03:23:45,809 asyncio:DEBUG:selector_events:__init__:MainProcess:21264:Using selector: SelectSelector
